;* * * * *  Small-C/Plus z88dk * * * * *
;  Version: 18462-8d70c5a-20210624
;
;	Reconstructed for z80 Module Assembler
;
;	Module compile time: Wed Apr 06 18:49:18 2022


	C_LINE	0,"mk1.c"

	MODULE	mk1_c


	INCLUDE "z80_crt0.hdr"


	C_LINE	0,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	4,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	5,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	6,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	7,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	8,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	9,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	10,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	11,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	12,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	13,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	14,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	15,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	16,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	17,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	18,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	19,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	20,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	21,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	22,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	23,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	24,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	25,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	26,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	27,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	28,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	29,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	30,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	31,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	32,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	33,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	34,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	35,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	36,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	37,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	38,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	39,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	40,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	41,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	42,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	43,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	44,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	45,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	46,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	47,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	48,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	49,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	50,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	51,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	52,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	53,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	54,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	55,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	56,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	57,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	58,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	59,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	60,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	61,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	62,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	63,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	64,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	65,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	66,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	67,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	68,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	69,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	70,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	71,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	72,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	73,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	74,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	75,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	76,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	77,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	78,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	79,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	80,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	81,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	82,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	83,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	84,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	85,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	86,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	87,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	88,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	89,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	90,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	91,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	92,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	93,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	94,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	95,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	96,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	97,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	98,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	99,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	100,"c:\z88dk\Lib\Config\\..\..\/include/cpcrslib.h"
	C_LINE	7,"mk1.c"
	C_LINE	10,"mk1.c"
		XREF _nametable
		LIB cpc_KeysData
		LIB cpc_UpdTileTable
		LIB cpc_InvalidateRect
	C_LINE	0,"my/config.h"
	C_LINE	234,"my/config.h"
	C_LINE	235,"my/config.h"
	._def_keys
		defw $4404 		; LEFT     O
		defw $4308 		; RIGHT    P
		defw $4808 		; UP       Q
		defw $4820 		; DOWN     A
		defw $4580 		; BUTTON_A SPACE
		defw $4808 		; BUTTON_B Q
		defw $4204		; KEY_ENTER
		defw $4804		; KEY_ESC	
		defw $4440		; KEY_AUX1 M
		defw $4880 		; KEY_AUX2 Z
		defw $4801 		; KEY_AUX3 1	 
		defw $4802 		; KEY_AUX4 2
	C_LINE	353,"my/config.h"
	SECTION	data_compiler
._behs
	defb	0
	defb	0
	defb	0
	defb	0
	defb	8
	defb	8
	defb	8
	defb	8
	defb	0
	defb	8
	defb	0
	defb	0
	defb	1
	defb	8
	defb	10
	defb	10
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	SECTION	code_compiler
	C_LINE	21,"mk1.c"
	C_LINE	0,"autodefs.h"
	C_LINE	8,"autodefs.h"
		defc viewport_x =  1 
		defc viewport_y =  3 
		XDEF viewport_x
		XDEF viewport_y
	C_LINE	22,"mk1.c"
	C_LINE	0,"prototypes.h"
	C_LINE	13,"prototypes.h"
	C_LINE	16,"prototypes.h"
	C_LINE	17,"prototypes.h"
	C_LINE	18,"prototypes.h"
	C_LINE	19,"prototypes.h"
	C_LINE	22,"prototypes.h"
	C_LINE	23,"prototypes.h"
	C_LINE	24,"prototypes.h"
	C_LINE	25,"prototypes.h"
	C_LINE	26,"prototypes.h"
	C_LINE	27,"prototypes.h"
	C_LINE	30,"prototypes.h"
	C_LINE	31,"prototypes.h"
	C_LINE	32,"prototypes.h"
	C_LINE	33,"prototypes.h"
	C_LINE	34,"prototypes.h"
	C_LINE	35,"prototypes.h"
	C_LINE	38,"prototypes.h"
	C_LINE	39,"prototypes.h"
	C_LINE	42,"prototypes.h"
	C_LINE	43,"prototypes.h"
	C_LINE	44,"prototypes.h"
	C_LINE	45,"prototypes.h"
	C_LINE	46,"prototypes.h"
	C_LINE	49,"prototypes.h"
	C_LINE	50,"prototypes.h"
	C_LINE	51,"prototypes.h"
	C_LINE	56,"prototypes.h"
	C_LINE	59,"prototypes.h"
	C_LINE	60,"prototypes.h"
	C_LINE	63,"prototypes.h"
	C_LINE	66,"prototypes.h"
	C_LINE	67,"prototypes.h"
	C_LINE	68,"prototypes.h"
	C_LINE	69,"prototypes.h"
	C_LINE	70,"prototypes.h"
	C_LINE	71,"prototypes.h"
	C_LINE	72,"prototypes.h"
	C_LINE	73,"prototypes.h"
	C_LINE	74,"prototypes.h"
	C_LINE	75,"prototypes.h"
	C_LINE	76,"prototypes.h"
	C_LINE	77,"prototypes.h"
	C_LINE	78,"prototypes.h"
	C_LINE	79,"prototypes.h"
	C_LINE	80,"prototypes.h"
	C_LINE	81,"prototypes.h"
	C_LINE	82,"prototypes.h"
	C_LINE	83,"prototypes.h"
	C_LINE	86,"prototypes.h"
	C_LINE	89,"prototypes.h"
	C_LINE	90,"prototypes.h"
	C_LINE	91,"prototypes.h"
	C_LINE	92,"prototypes.h"
	C_LINE	93,"prototypes.h"
	C_LINE	94,"prototypes.h"
	C_LINE	95,"prototypes.h"
	C_LINE	96,"prototypes.h"
	C_LINE	97,"prototypes.h"
	C_LINE	98,"prototypes.h"
	C_LINE	99,"prototypes.h"
	C_LINE	100,"prototypes.h"
	C_LINE	101,"prototypes.h"
	C_LINE	102,"prototypes.h"
	C_LINE	105,"prototypes.h"
	C_LINE	108,"prototypes.h"
	C_LINE	109,"prototypes.h"
	C_LINE	110,"prototypes.h"
	C_LINE	111,"prototypes.h"
	C_LINE	112,"prototypes.h"
	C_LINE	115,"prototypes.h"
	C_LINE	116,"prototypes.h"
	C_LINE	117,"prototypes.h"
	C_LINE	120,"prototypes.h"
	C_LINE	121,"prototypes.h"
	C_LINE	122,"prototypes.h"
	C_LINE	123,"prototypes.h"
	C_LINE	23,"mk1.c"
	C_LINE	0,"definitions.h"
	C_LINE	4,"definitions.h"
	.vpClipStruct defb  3 ,  3  + 20,  1 ,  1  + 30
	.fsClipStruct defb 0, 24, 0, 32
	C_LINE	11,"definitions.h"
	C_LINE	21,"definitions.h"
	C_LINE	38,"definitions.h"
	C_LINE	49,"definitions.h"
	C_LINE	50,"definitions.h"
	C_LINE	51,"definitions.h"
	C_LINE	52,"definitions.h"
	C_LINE	53,"definitions.h"
	C_LINE	55,"definitions.h"
	C_LINE	59,"definitions.h"
	C_LINE	60,"definitions.h"
	C_LINE	61,"definitions.h"
	C_LINE	62,"definitions.h"
	C_LINE	63,"definitions.h"
	C_LINE	100,"definitions.h"
	C_LINE	101,"definitions.h"
	C_LINE	102,"definitions.h"
	C_LINE	103,"definitions.h"
	C_LINE	104,"definitions.h"
	C_LINE	105,"definitions.h"
	C_LINE	106,"definitions.h"
	C_LINE	107,"definitions.h"
	C_LINE	108,"definitions.h"
	C_LINE	109,"definitions.h"
	C_LINE	110,"definitions.h"
	C_LINE	111,"definitions.h"
	C_LINE	112,"definitions.h"
	C_LINE	113,"definitions.h"
	C_LINE	114,"definitions.h"
	C_LINE	115,"definitions.h"
	C_LINE	119,"definitions.h"
	C_LINE	121,"definitions.h"
	C_LINE	122,"definitions.h"
	._spacer
		defb 32,32,32,32,32,32,32,32,32,32,32,32,0
	C_LINE	129,"definitions.h"
	C_LINE	132,"definitions.h"
	C_LINE	133,"definitions.h"
	C_LINE	134,"definitions.h"
	C_LINE	135,"definitions.h"
	C_LINE	136,"definitions.h"
	C_LINE	137,"definitions.h"
	C_LINE	138,"definitions.h"
	C_LINE	139,"definitions.h"
	C_LINE	140,"definitions.h"
	C_LINE	141,"definitions.h"
	C_LINE	142,"definitions.h"
	C_LINE	143,"definitions.h"
	C_LINE	144,"definitions.h"
	C_LINE	145,"definitions.h"
	C_LINE	146,"definitions.h"
	C_LINE	147,"definitions.h"
	C_LINE	148,"definitions.h"
	C_LINE	166,"definitions.h"
	C_LINE	167,"definitions.h"
	C_LINE	168,"definitions.h"
	C_LINE	169,"definitions.h"
	C_LINE	170,"definitions.h"
	C_LINE	172,"definitions.h"
	C_LINE	181,"definitions.h"
	C_LINE	182,"definitions.h"
	C_LINE	190,"definitions.h"
	C_LINE	191,"definitions.h"
	C_LINE	192,"definitions.h"
	C_LINE	193,"definitions.h"
	C_LINE	199,"definitions.h"
	C_LINE	202,"definitions.h"
	C_LINE	203,"definitions.h"
	C_LINE	204,"definitions.h"
	C_LINE	205,"definitions.h"
	C_LINE	207,"definitions.h"
	SECTION	data_compiler
._warp_to_level
	defb	0
	SECTION	code_compiler
	C_LINE	209,"definitions.h"
	C_LINE	231,"definitions.h"
	C_LINE	232,"definitions.h"
	C_LINE	233,"definitions.h"
	C_LINE	234,"definitions.h"
	C_LINE	235,"definitions.h"
	C_LINE	236,"definitions.h"
	C_LINE	237,"definitions.h"
	C_LINE	238,"definitions.h"
	C_LINE	242,"definitions.h"
	C_LINE	250,"definitions.h"
	C_LINE	251,"definitions.h"
	C_LINE	274,"definitions.h"
	C_LINE	275,"definitions.h"
	C_LINE	277,"definitions.h"
	C_LINE	282,"definitions.h"
	C_LINE	283,"definitions.h"
	C_LINE	284,"definitions.h"
	C_LINE	285,"definitions.h"
	C_LINE	286,"definitions.h"
	C_LINE	297,"definitions.h"
	C_LINE	301,"definitions.h"
	C_LINE	302,"definitions.h"
	C_LINE	303,"definitions.h"
	C_LINE	307,"definitions.h"
	C_LINE	308,"definitions.h"
	C_LINE	309,"definitions.h"
	C_LINE	322,"definitions.h"
	C_LINE	323,"definitions.h"
	._def_keys_joy
		defw 0x4904, 0x4908, 0x4901, 0x4902, 0x4910, 0x4920
		defw 0x4004, 0x4804, 0x4880, 0x4780, 0x4801, 0x4802
	C_LINE	331,"definitions.h"
	C_LINE	332,"definitions.h"
	C_LINE	333,"definitions.h"
	C_LINE	35,"mk1.c"
	C_LINE	0,"mtasmlib.h"
	C_LINE	6,"mtasmlib.h"
	.HLshr6_A
		sla h 
		sla h 			 
		ld  a, l 
		rlca
		rlca 
		and 0x03 		 
		or  h 			 
		ret 
	.Ashl16_HL
		ld  l, 0
		ld  h, a
		srl h 			 
		rr  l 			 
		srl h 			 
		rr  l 			 
		ret
	.withSign
		bit 7, a
		ret z
		ld  a, $C0 		 
		or  h
		ld  h, a 
		ret
	C_LINE	36,"mk1.c"
	C_LINE	0,"assets/ay_fx_numbers.h"
	C_LINE	47,"mk1.c"
	C_LINE	0,"aplib.h"
	C_LINE	4,"aplib.h"
	C_LINE	5,"aplib.h"
	C_LINE	11,"aplib.h"
	; aPPack decompressor
	; original source by dwedit
	; very slightly adapted by utopian
	; optimized by Metalbrain
	;hl = source
	;de = dest
	.depack		ld	ixl,128
	.apbranch1	ldi
	.aploop0	ld	ixh,1		;LWM = 0
	.aploop		call 	ap_getbit
			jr 	nc,apbranch1
			call 	ap_getbit
			jr 	nc,apbranch2
			ld 	b,0
			call 	ap_getbit
			jr 	nc,apbranch3
			ld	c,16		;get an offset
	.apget4bits	call 	ap_getbit
			rl 	c
			jr	nc,apget4bits
			jr 	nz,apbranch4
			ld 	a,b
	.apwritebyte	ld 	(de),a		;write a 0
			inc 	de
			jr	aploop0
	.apbranch4	and	a
			ex 	de,hl 		;write a previous byte (1-15 away from dest)
			sbc 	hl,bc
			ld 	a,(hl)
			add	hl,bc
			ex 	de,hl
			jr	apwritebyte
	.apbranch3	ld 	c,(hl)		;use 7 bit offset, length = 2 or 3
			inc 	hl
			rr 	c
			ret 	z		;if a zero is encountered here, it is EOF
			ld	a,2
			adc	a,b
			push 	hl
			ld	iyh,b
			ld	iyl,c
			ld 	h,d
			ld 	l,e
			sbc 	hl,bc
			ld 	c,a
			jr	ap_finishup2
	.apbranch2	call 	ap_getgamma	;use a gamma code * 256 for offset, another gamma code for length
			dec 	c
			ld	a,c
			sub	ixh
			jr 	z,ap_r0_gamma		;if gamma code is 2, use old r0 offset,
			dec 	a
			;do I even need this code?
			;bc=bc*256+(hl), lazy 16bit way
			ld 	b,a
			ld 	c,(hl)
			inc 	hl
			ld	iyh,b
			ld	iyl,c
			push 	bc
			call 	ap_getgamma
			ex 	(sp),hl		;bc = len, hl=offs
			push 	de
			ex 	de,hl
			ld	a,4
			cp	d
			jr 	nc,apskip2
			inc 	bc
			or	a
	.apskip2	ld 	hl,127
			sbc 	hl,de
			jr 	c,apskip3
			inc 	bc
			inc 	bc
	.apskip3		pop 	hl		;bc = len, de = offs, hl=junk
			push 	hl
			or 	a
	.ap_finishup	sbc 	hl,de
			pop 	de		;hl=dest-offs, bc=len, de = dest
	.ap_finishup2	ldir
			pop 	hl
			ld	ixh,b
			jr 	aploop
	.ap_r0_gamma	call 	ap_getgamma		;and a new gamma code for length
			push 	hl
			push 	de
			ex	de,hl
			ld	d,iyh
			ld	e,iyl
			jr 	ap_finishup
	.ap_getbit	ld	a,ixl
			add	a,a
			ld	ixl,a
			ret	nz
			ld	a,(hl)
			inc	hl
			rla
			ld	ixl,a
			ret
	.ap_getgamma	ld 	bc,1
	.ap_getgammaloop	call 	ap_getbit
			rl 	c
			rl 	b
			call 	ap_getbit
			jr 	c,ap_getgammaloop
			ret
	C_LINE	155,"aplib.h"

; Function unpack flags 0x00000200 __smallc 
; void unpack(unsigned int address, unsigned int destination)
; parameter 'unsigned int destination' at sp+2 size(2)
; parameter 'unsigned int address' at sp+4 size(2)
	C_LINE	155,"aplib.h::unpack::0::0"
._unpack
	ld	hl,4	;const
	call	l_gintsp	;
	ld	(_ram_address),hl
	pop	bc
	pop	hl
	push	hl
	push	bc
	ld	(_ram_destination),hl
			ld hl, (_ram_address)
			ld de, (_ram_destination)
			call depack
	ret


	C_LINE	48,"mk1.c::unpack::0::1"
	C_LINE	0,"pantallas.h::unpack::0::1"
	C_LINE	9,"pantallas.h::unpack::0::1"
	C_LINE	10,"pantallas.h::unpack::0::1"
	C_LINE	11,"pantallas.h::unpack::0::1"
	C_LINE	13,"pantallas.h::unpack::0::1"
		._s_title
			BINARY "../bin/titlec.bin"
		._s_marco
	C_LINE	23,"pantallas.h::unpack::0::1"
		._s_ending
			BINARY "../bin/endingc.bin"
	C_LINE	30,"pantallas.h::unpack::0::1"

; Function blackout flags 0x00000200 __smallc 
; void blackout()
	C_LINE	30,"pantallas.h::blackout::0::1"
._blackout
	ld	hl,240	;const
	ld	a,l
	ld	(_rda),a
			ld  a, 0xc0
		.bo_l1
			ld  h, a
			ld  l, 0
			ld  b, a
			ld  a, (_rda)
			ld  (hl), a
			ld  a, b
			ld  d, a
			ld  e, 1
			ld  bc, 0x5ff
			ldir
			add 8
			jr  nz, bo_l1
	ret


	C_LINE	49,"mk1.c::blackout::0::2"
	C_LINE	0,"assets/pal.h::blackout::0::2"
	C_LINE	5,"assets/pal.h::blackout::0::2"
	SECTION	rodata_compiler
._my_inks
	defb	10
	defb	20
	defb	30
	defb	11
	defb	11
	defb	11
	defb	11
	defb	11
	defb	11
	defb	11
	defb	11
	defb	11
	defb	11
	defb	11
	defb	11
	defb	11
	SECTION	code_compiler
	C_LINE	50,"mk1.c::blackout::0::2"
	C_LINE	0,"assets/mapa.h::blackout::0::2"
	C_LINE	5,"assets/mapa.h::blackout::0::2"
	SECTION	data_compiler
._mapa
	defb	82
	defb	48
	defb	0
	defb	0
	defb	5
	defb	0
	defb	0
	defb	5
	defb	34
	defb	32
	defb	0
	defb	0
	defb	80
	defb	0
	defb	0
	defb	82
	defb	34
	defb	32
	defb	0
	defb	5
	defb	0
	defb	0
	defb	5
	defb	34
	defb	34
	defb	0
	defb	0
	defb	221
	defb	221
	defb	221
	defb	82
	defb	34
	defb	32
	defb	0
	defb	0
	defb	15
	defb	0
	defb	5
	defb	34
	defb	34
	defb	0
	defb	13
	defb	221
	defb	221
	defb	0
	defb	82
	defb	34
	defb	32
	defb	0
	defb	80
	defb	0
	defb	80
	defb	5
	defb	34
	defb	32
	defb	0
	defb	5
	defb	0
	defb	5
	defb	0
	defb	82
	defb	34
	defb	0
	defb	68
	defb	68
	defb	68
	defb	68
	defb	69
	defb	34
	defb	0
	defb	1
	defb	170
	defb	170
	defb	170
	defb	170
	defb	0
	defb	34
	defb	34
	defb	82
	defb	34
	defb	32
	defb	0
	defb	0
	defb	0
	defb	2
	defb	37
	defb	34
	defb	34
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	82
	defb	32
	defb	0
	defb	112
	defb	13
	defb	221
	defb	221
	defb	221
	defb	34
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	82
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	5
	defb	7
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	80
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	5
	defb	0
	defb	0
	defb	119
	defb	0
	defb	68
	defb	68
	defb	68
	defb	68
	defb	0
	defb	0
	defb	0
	defb	10
	defb	170
	defb	170
	defb	170
	defb	80
	defb	0
	defb	0
	defb	0
	defb	2
	defb	34
	defb	34
	defb	34
	defb	34
	defb	32
	defb	0
	defb	0
	defb	34
	defb	34
	defb	34
	defb	34
	defb	34
	defb	32
	defb	0
	defb	0
	defb	34
	defb	34
	defb	34
	defb	34
	defb	34
	defb	32
	defb	0
	defb	2
	defb	34
	defb	34
	defb	34
	defb	34
	defb	32
	defb	0
	defb	0
	defb	34
	defb	32
	defb	34
	defb	34
	defb	48
	defb	7
	defb	0
	defb	0
	defb	48
	defb	0
	defb	0
	defb	3
	defb	0
	defb	0
	defb	0
	defb	3
	defb	7
	defb	119
	defb	0
	defb	48
	defb	0
	defb	144
	defb	0
	defb	48
	defb	0
	defb	0
	defb	3
	defb	9
	defb	144
	defb	0
	defb	3
	defb	0
	defb	0
	defb	0
	defb	34
	defb	34
	defb	32
	defb	112
	defb	48
	defb	0
	defb	2
	defb	34
	defb	34
	defb	34
	defb	0
	defb	0
	defb	105
	defb	153
	defb	102
	defb	153
	defb	102
	defb	96
	defb	7
	defb	102
	defb	136
	defb	137
	defb	136
	defb	137
	defb	150
	defb	0
	defb	0
	defb	104
	defb	136
	defb	136
	defb	136
	defb	136
	defb	96
	defb	0
	defb	153
	defb	136
	defb	136
	defb	136
	defb	136
	defb	134
	defb	0
	defb	152
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	96
	defb	144
	defb	150
	defb	136
	defb	136
	defb	136
	defb	136
	defb	134
	defb	144
	defb	0
	defb	6
	defb	104
	defb	136
	defb	136
	defb	136
	defb	96
	defb	0
	defb	0
	defb	9
	defb	104
	defb	136
	defb	102
	defb	102
	defb	32
	defb	0
	defb	0
	defb	9
	defb	104
	defb	136
	defb	136
	defb	98
	defb	32
	defb	0
	defb	0
	defb	6
	defb	136
	defb	136
	defb	134
	defb	82
	defb	0
	defb	0
	defb	26
	defb	170
	defb	170
	defb	170
	defb	165
	defb	221
	defb	208
	defb	1
	defb	171
	defb	171
	defb	171
	defb	171
	defb	83
	defb	0
	defb	0
	defb	26
	defb	170
	defb	170
	defb	170
	defb	165
	defb	48
	defb	0
	defb	13
	defb	220
	defb	204
	defb	221
	defb	221
	defb	83
	defb	32
	defb	0
	defb	26
	defb	170
	defb	170
	defb	170
	defb	165
	defb	50
	defb	34
	defb	33
	defb	171
	defb	171
	defb	171
	defb	171
	defb	83
	defb	34
	defb	34
	defb	26
	defb	170
	defb	170
	defb	170
	defb	165
	defb	34
	defb	34
	defb	33
	defb	171
	defb	171
	defb	171
	defb	171
	defb	82
	defb	34
	defb	34
	defb	26
	defb	170
	defb	170
	defb	170
	defb	165
	defb	34
	defb	34
	defb	45
	defb	221
	defb	220
	defb	205
	defb	221
	defb	170
	defb	170
	defb	170
	defb	165
	defb	0
	defb	0
	defb	0
	defb	10
	defb	186
	defb	186
	defb	186
	defb	80
	defb	0
	defb	0
	defb	0
	defb	170
	defb	170
	defb	170
	defb	165
	defb	0
	defb	0
	defb	0
	defb	13
	defb	220
	defb	205
	defb	170
	defb	80
	defb	0
	defb	2
	defb	34
	defb	170
	defb	170
	defb	170
	defb	165
	defb	0
	defb	2
	defb	34
	defb	42
	defb	186
	defb	186
	defb	186
	defb	80
	defb	0
	defb	34
	defb	34
	defb	170
	defb	170
	defb	170
	defb	213
	defb	0
	defb	2
	defb	34
	defb	42
	defb	186
	defb	186
	defb	186
	defb	80
	defb	0
	defb	2
	defb	34
	defb	170
	defb	170
	defb	170
	defb	165
	defb	0
	defb	0
	defb	2
	defb	45
	defb	204
	defb	221
	defb	170
	defb	80
	defb	2
	defb	34
	defb	34
	defb	7
	defb	3
	defb	0
	defb	2
	defb	34
	defb	34
	defb	34
	defb	32
	defb	0
	defb	48
	defb	0
	defb	34
	defb	34
	defb	34
	defb	34
	defb	0
	defb	3
	defb	112
	defb	2
	defb	34
	defb	34
	defb	32
	defb	2
	defb	32
	defb	48
	defb	0
	defb	2
	defb	35
	defb	0
	defb	0
	defb	34
	defb	34
	defb	0
	defb	0
	defb	0
	defb	48
	defb	0
	defb	2
	defb	34
	defb	34
	defb	7
	defb	119
	defb	3
	defb	0
	defb	0
	defb	34
	defb	34
	defb	34
	defb	0
	defb	0
	defb	48
	defb	0
	defb	2
	defb	34
	defb	34
	defb	32
	defb	0
	defb	3
	defb	7
	defb	119
	defb	34
	defb	34
	defb	32
	defb	0
	defb	0
	defb	48
	defb	0
	defb	2
	defb	48
	defb	0
	defb	0
	defb	0
	defb	3
	defb	0
	defb	0
	defb	34
	defb	0
	defb	0
	defb	0
	defb	104
	defb	136
	defb	136
	defb	98
	defb	32
	defb	0
	defb	0
	defb	6
	defb	102
	defb	136
	defb	134
	defb	0
	defb	0
	defb	96
	defb	0
	defb	104
	defb	134
	defb	136
	defb	96
	defb	0
	defb	6
	defb	0
	defb	6
	defb	136
	defb	136
	defb	134
	defb	0
	defb	0
	defb	96
	defb	0
	defb	104
	defb	136
	defb	136
	defb	96
	defb	0
	defb	9
	defb	0
	defb	9
	defb	136
	defb	134
	defb	102
	defb	0
	defb	9
	defb	136
	defb	136
	defb	136
	defb	134
	defb	136
	defb	103
	defb	9
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	134
	defb	6
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	96
	defb	102
	defb	104
	defb	136
	defb	134
	defb	102
	defb	102
	defb	102
	defb	82
	defb	34
	defb	34
	defb	221
	defb	221
	defb	221
	defb	221
	defb	213
	defb	34
	defb	34
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	82
	defb	3
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	5
	defb	0
	defb	48
	defb	4
	defb	0
	defb	14
	defb	0
	defb	96
	defb	80
	defb	3
	defb	32
	defb	64
	defb	0
	defb	0
	defb	0
	defb	5
	defb	2
	defb	48
	defb	4
	defb	0
	defb	14
	defb	0
	defb	0
	defb	80
	defb	3
	defb	0
	defb	64
	defb	0
	defb	0
	defb	0
	defb	5
	defb	0
	defb	48
	defb	4
	defb	0
	defb	14
	defb	0
	defb	0
	defb	82
	defb	34
	defb	0
	defb	64
	defb	4
	defb	4
	defb	0
	defb	5
	defb	34
	defb	34
	defb	4
	defb	17
	defb	17
	defb	17
	defb	17
	defb	221
	defb	221
	defb	209
	defb	22
	defb	34
	defb	34
	defb	34
	defb	32
	defb	0
	defb	34
	defb	34
	defb	98
	defb	34
	defb	34
	defb	32
	defb	0
	defb	0
	defb	34
	defb	102
	defb	34
	defb	34
	defb	32
	defb	0
	defb	102
	defb	0
	defb	98
	defb	34
	defb	34
	defb	34
	defb	0
	defb	0
	defb	0
	defb	2
	defb	34
	defb	34
	defb	34
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	34
	defb	35
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	48
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	3
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	48
	defb	0
	defb	1
	defb	17
	defb	17
	defb	17
	defb	64
	defb	3
	defb	0
	defb	0
	defb	3
	defb	0
	defb	0
	defb	0
	defb	0
	defb	48
	defb	0
	defb	0
	defb	48
	defb	0
	defb	7
	defb	119
	defb	3
	defb	0
	defb	0
	defb	3
	defb	0
	defb	112
	defb	0
	defb	0
	defb	48
	defb	2
	defb	32
	defb	48
	defb	0
	defb	0
	defb	0
	defb	34
	defb	34
	defb	34
	defb	3
	defb	7
	defb	0
	defb	34
	defb	34
	defb	34
	defb	34
	defb	32
	defb	48
	defb	0
	defb	34
	defb	34
	defb	34
	defb	34
	defb	34
	defb	3
	defb	0
	defb	7
	defb	34
	defb	39
	defb	119
	defb	119
	defb	112
	defb	48
	defb	0
	defb	2
	defb	34
	defb	34
	defb	34
	defb	34
	defb	3
	defb	7
	defb	112
	defb	2
	defb	34
	defb	34
	defb	34
	defb	32
	defb	48
	defb	0
	defb	0
	defb	0
	defb	0
	defb	2
	defb	32
	defb	6
	defb	105
	defb	136
	defb	136
	defb	150
	defb	150
	defb	153
	defb	96
	defb	105
	defb	136
	defb	136
	defb	136
	defb	136
	defb	152
	defb	134
	defb	38
	defb	136
	defb	104
	defb	136
	defb	136
	defb	136
	defb	136
	defb	98
	defb	104
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	134
	defb	38
	defb	136
	defb	136
	defb	134
	defb	136
	defb	136
	defb	136
	defb	98
	defb	108
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	134
	defb	118
	defb	200
	defb	136
	defb	136
	defb	136
	defb	104
	defb	136
	defb	98
	defb	108
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	134
	defb	38
	defb	204
	defb	204
	defb	204
	defb	136
	defb	136
	defb	140
	defb	96
	defb	102
	defb	102
	defb	102
	defb	102
	defb	136
	defb	134
	defb	102
	defb	82
	defb	32
	defb	0
	defb	74
	defb	170
	defb	170
	defb	170
	defb	165
	defb	32
	defb	0
	defb	4
	defb	74
	defb	170
	defb	164
	defb	170
	defb	82
	defb	32
	defb	0
	defb	68
	defb	68
	defb	170
	defb	170
	defb	69
	defb	32
	defb	0
	defb	4
	defb	170
	defb	170
	defb	170
	defb	74
	defb	80
	defb	0
	defb	0
	defb	74
	defb	186
	defb	186
	defb	186
	defb	181
	defb	32
	defb	0
	defb	4
	defb	170
	defb	170
	defb	170
	defb	170
	defb	80
	defb	0
	defb	0
	defb	74
	defb	186
	defb	186
	defb	186
	defb	181
	defb	0
	defb	0
	defb	4
	defb	170
	defb	170
	defb	170
	defb	170
	defb	82
	defb	0
	defb	0
	defb	68
	defb	68
	defb	204
	defb	68
	defb	69
	defb	34
	defb	32
	defb	1
	defb	170
	defb	170
	defb	170
	defb	170
	defb	170
	defb	170
	defb	170
	defb	164
	defb	0
	defb	48
	defb	0
	defb	10
	defb	170
	defb	170
	defb	170
	defb	64
	defb	3
	defb	0
	defb	0
	defb	68
	defb	68
	defb	68
	defb	68
	defb	0
	defb	48
	defb	0
	defb	10
	defb	170
	defb	170
	defb	170
	defb	64
	defb	3
	defb	0
	defb	0
	defb	171
	defb	171
	defb	171
	defb	164
	defb	0
	defb	48
	defb	0
	defb	10
	defb	170
	defb	170
	defb	170
	defb	66
	defb	35
	defb	0
	defb	32
	defb	171
	defb	171
	defb	171
	defb	164
	defb	34
	defb	34
	defb	32
	defb	10
	defb	170
	defb	170
	defb	170
	defb	66
	defb	34
	defb	34
	defb	0
	defb	68
	defb	68
	defb	170
	defb	164
	defb	34
	defb	34
	defb	0
	defb	10
	defb	170
	defb	170
	defb	170
	defb	18
	defb	32
	defb	0
	defb	0
	defb	3
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	3
	defb	0
	defb	34
	defb	32
	defb	0
	defb	0
	defb	12
	defb	0
	defb	48
	defb	39
	defb	119
	defb	34
	defb	32
	defb	0
	defb	0
	defb	3
	defb	2
	defb	34
	defb	39
	defb	34
	defb	0
	defb	0
	defb	0
	defb	48
	defb	2
	defb	34
	defb	34
	defb	0
	defb	0
	defb	0
	defb	3
	defb	0
	defb	0
	defb	48
	defb	119
	defb	12
	defb	7
	defb	112
	defb	48
	defb	12
	defb	3
	defb	0
	defb	0
	defb	0
	defb	0
	defb	3
	defb	0
	defb	0
	defb	48
	defb	192
	defb	0
	defb	0
	defb	0
	defb	48
	defb	0
	defb	3
	defb	0
	defb	0
	defb	0
	defb	7
	defb	114
	defb	32
	defb	0
	defb	48
	defb	0
	defb	0
	defb	2
	defb	34
	defb	34
	defb	6
	defb	105
	defb	150
	defb	105
	defb	152
	defb	136
	defb	150
	defb	96
	defb	105
	defb	136
	defb	137
	defb	136
	defb	136
	defb	104
	defb	150
	defb	6
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	96
	defb	104
	defb	136
	defb	136
	defb	136
	defb	104
	defb	136
	defb	134
	defb	6
	defb	136
	defb	136
	defb	104
	defb	140
	defb	136
	defb	136
	defb	96
	defb	104
	defb	136
	defb	134
	defb	136
	defb	136
	defb	136
	defb	134
	defb	6
	defb	136
	defb	134
	defb	104
	defb	136
	defb	134
	defb	136
	defb	98
	defb	104
	defb	136
	defb	134
	defb	136
	defb	136
	defb	200
	defb	134
	defb	38
	defb	136
	defb	136
	defb	104
	defb	136
	defb	136
	defb	136
	defb	98
	defb	102
	defb	102
	defb	102
	defb	136
	defb	102
	defb	102
	defb	102
	defb	82
	defb	34
	defb	32
	defb	17
	defb	17
	defb	17
	defb	17
	defb	21
	defb	34
	defb	34
	defb	0
	defb	0
	defb	14
	defb	0
	defb	4
	defb	82
	defb	34
	defb	0
	defb	0
	defb	0
	defb	224
	defb	0
	defb	5
	defb	34
	defb	32
	defb	0
	defb	0
	defb	14
	defb	0
	defb	0
	defb	82
	defb	32
	defb	0
	defb	0
	defb	0
	defb	224
	defb	0
	defb	5
	defb	0
	defb	0
	defb	0
	defb	0
	defb	14
	defb	0
	defb	0
	defb	80
	defb	0
	defb	0
	defb	68
	defb	68
	defb	65
	defb	17
	defb	21
	defb	0
	defb	0
	defb	1
	defb	170
	defb	170
	defb	202
	defb	202
	defb	93
	defb	221
	defb	0
	defb	26
	defb	170
	defb	170
	defb	202
	defb	165
	defb	34
	defb	34
	defb	1
	defb	171
	defb	170
	defb	186
	defb	171
	defb	26
	defb	170
	defb	170
	defb	161
	defb	34
	defb	32
	defb	0
	defb	4
	defb	68
	defb	68
	defb	68
	defb	66
	defb	32
	defb	0
	defb	0
	defb	26
	defb	170
	defb	170
	defb	165
	defb	32
	defb	0
	defb	0
	defb	1
	defb	170
	defb	170
	defb	170
	defb	82
	defb	32
	defb	0
	defb	0
	defb	26
	defb	170
	defb	170
	defb	165
	defb	34
	defb	34
	defb	0
	defb	1
	defb	170
	defb	170
	defb	170
	defb	82
	defb	34
	defb	34
	defb	0
	defb	26
	defb	186
	defb	171
	defb	165
	defb	34
	defb	32
	defb	0
	defb	10
	defb	170
	defb	170
	defb	170
	defb	82
	defb	32
	defb	0
	defb	0
	defb	170
	defb	170
	defb	170
	defb	165
	defb	34
	defb	32
	defb	0
	defb	10
	defb	20
	defb	68
	defb	68
	defb	66
	defb	0
	defb	0
	defb	0
	defb	0
	defb	3
	defb	0
	defb	0
	defb	2
	defb	34
	defb	34
	defb	32
	defb	0
	defb	48
	defb	7
	defb	119
	defb	34
	defb	34
	defb	34
	defb	0
	defb	3
	defb	0
	defb	0
	defb	34
	defb	34
	defb	34
	defb	32
	defb	119
	defb	112
	defb	0
	defb	0
	defb	34
	defb	34
	defb	34
	defb	0
	defb	3
	defb	0
	defb	0
	defb	0
	defb	0
	defb	34
	defb	32
	defb	0
	defb	48
	defb	119
	defb	0
	defb	0
	defb	3
	defb	48
	defb	0
	defb	3
	defb	0
	defb	0
	defb	0
	defb	192
	defb	51
	defb	0
	defb	0
	defb	48
	defb	0
	defb	0
	defb	0
	defb	3
	defb	48
	defb	0
	defb	3
	defb	0
	defb	0
	defb	7
	defb	119
	defb	51
	defb	0
	defb	0
	defb	48
	defb	0
	defb	0
	defb	0
	defb	3
	defb	34
	defb	38
	defb	105
	defb	102
	defb	152
	defb	134
	defb	153
	defb	102
	defb	98
	defb	105
	defb	137
	defb	152
	defb	136
	defb	152
	defb	137
	defb	150
	defb	38
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	98
	defb	104
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	134
	defb	38
	defb	136
	defb	136
	defb	136
	defb	200
	defb	136
	defb	136
	defb	96
	defb	104
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	134
	defb	9
	defb	104
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	96
	defb	9
	defb	102
	defb	102
	defb	136
	defb	136
	defb	136
	defb	134
	defb	0
	defb	0
	defb	0
	defb	9
	defb	136
	defb	136
	defb	136
	defb	98
	defb	34
	defb	0
	defb	0
	defb	6
	defb	136
	defb	136
	defb	134
	defb	82
	defb	34
	defb	32
	defb	26
	defb	170
	defb	170
	defb	170
	defb	165
	defb	34
	defb	0
	defb	4
	defb	68
	defb	68
	defb	68
	defb	68
	defb	80
	defb	0
	defb	0
	defb	26
	defb	170
	defb	170
	defb	170
	defb	165
	defb	208
	defb	0
	defb	1
	defb	171
	defb	170
	defb	186
	defb	171
	defb	80
	defb	0
	defb	0
	defb	26
	defb	170
	defb	170
	defb	170
	defb	165
	defb	0
	defb	0
	defb	4
	defb	68
	defb	68
	defb	68
	defb	68
	defb	109
	defb	208
	defb	0
	defb	26
	defb	170
	defb	170
	defb	170
	defb	160
	defb	12
	defb	0
	defb	1
	defb	171
	defb	170
	defb	186
	defb	171
	defb	0
	defb	192
	defb	0
	defb	26
	defb	170
	defb	119
	defb	119
	defb	119
	defb	119
	defb	119
	defb	119
	defb	119
	defb	121
	defb	153
	defb	153
	defb	161
	defb	68
	defb	68
	defb	68
	defb	0
	defb	0
	defb	0
	defb	4
	defb	69
	defb	170
	defb	170
	defb	16
	defb	0
	defb	0
	defb	0
	defb	170
	defb	90
	defb	170
	defb	161
	defb	0
	defb	0
	defb	0
	defb	10
	defb	165
	defb	170
	defb	186
	defb	16
	defb	0
	defb	0
	defb	0
	defb	170
	defb	68
	defb	68
	defb	68
	defb	64
	defb	0
	defb	0
	defb	4
	defb	74
	defb	170
	defb	170
	defb	16
	defb	0
	defb	0
	defb	0
	defb	170
	defb	170
	defb	170
	defb	161
	defb	0
	defb	0
	defb	0
	defb	10
	defb	170
	defb	170
	defb	186
	defb	16
	defb	0
	defb	0
	defb	0
	defb	119
	defb	119
	defb	119
	defb	119
	defb	119
	defb	119
	defb	0
	defb	9
	defb	153
	defb	153
	defb	153
	defb	153
	defb	153
	defb	151
	defb	119
	defb	0
	defb	3
	defb	0
	defb	0
	defb	0
	defb	0
	defb	34
	defb	32
	defb	0
	defb	48
	defb	0
	defb	105
	defb	105
	defb	153
	defb	102
	defb	0
	defb	3
	defb	0
	defb	104
	defb	137
	defb	136
	defb	137
	defb	144
	defb	96
	defb	48
	defb	9
	defb	136
	defb	136
	defb	136
	defb	136
	defb	0
	defb	3
	defb	105
	defb	136
	defb	136
	defb	136
	defb	136
	defb	128
	defb	0
	defb	104
	defb	136
	defb	104
	defb	136
	defb	136
	defb	136
	defb	0
	defb	102
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	128
	defb	0
	defb	152
	defb	136
	defb	136
	defb	104
	defb	136
	defb	136
	defb	0
	defb	15
	defb	136
	defb	104
	defb	134
	defb	104
	defb	136
	defb	135
	defb	119
	defb	119
	defb	119
	defb	119
	defb	119
	defb	119
	defb	119
	defb	34
	defb	34
	defb	0
	defb	0
	defb	104
	defb	136
	defb	136
	defb	102
	defb	34
	defb	32
	defb	6
	defb	6
	defb	102
	defb	136
	defb	134
	defb	146
	defb	32
	defb	6
	defb	150
	defb	153
	defb	152
	defb	134
	defb	104
	defb	153
	defb	153
	defb	152
	defb	152
	defb	136
	defb	136
	defb	150
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	104
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	104
	defb	134
	defb	136
	defb	104
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	104
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	136
	defb	102
	defb	136
	defb	136
	defb	134
	defb	136
	defb	136
	defb	136
	defb	102
	defb	103
	defb	119
	defb	119
	defb	119
	defb	119
	defb	119
	defb	119
	defb	119
	SECTION	code_compiler
	C_LINE	39,"assets/mapa.h::blackout::0::2"
	C_LINE	43,"assets/mapa.h::blackout::0::2"
	SECTION	data_compiler
._cerrojos
	defb	0
	defb	11
	defb	4
	defb	0
	defb	22
	defb	3
	defb	8
	defb	0
	SECTION	code_compiler
	C_LINE	57,"mk1.c::blackout::0::2"
	C_LINE	0,"assets/tileset.h::blackout::0::2"
	C_LINE	4,"assets/tileset.h::blackout::0::2"
	C_LINE	5,"assets/tileset.h::blackout::0::2"
		XDEF tiles
	._tileset
	.tiles
	._font
		BINARY "../bin/font.bin" 	 
	._tspatterns
		BINARY "../bin/work.bin"    
	C_LINE	58,"mk1.c::blackout::0::2"
	C_LINE	0,"assets/enems.h::blackout::0::2"
	C_LINE	7,"assets/enems.h::blackout::0::2"
	C_LINE	17,"assets/enems.h::blackout::0::2"
	SECTION	data_compiler
._malotes
	defb	112
	defb	112
	defb	112
	defb	112
	defb	96
	defb	16
	defb	-2
	defb	-2
	defb	2
	defb	112
	defb	32
	defb	112
	defb	32
	defb	96
	defb	112
	defb	-2
	defb	2
	defb	1
	defb	80
	defb	64
	defb	80
	defb	64
	defb	16
	defb	64
	defb	-1
	defb	0
	defb	3
	defb	80
	defb	112
	defb	80
	defb	112
	defb	80
	defb	64
	defb	0
	defb	-1
	defb	2
	defb	64
	defb	112
	defb	64
	defb	112
	defb	16
	defb	64
	defb	-2
	defb	-2
	defb	3
	defb	160
	defb	112
	defb	160
	defb	112
	defb	160
	defb	32
	defb	0
	defb	-1
	defb	4
	defb	32
	defb	112
	defb	32
	defb	112
	defb	176
	defb	112
	defb	2
	defb	0
	defb	3
	defb	192
	defb	16
	defb	192
	defb	16
	defb	192
	defb	96
	defb	0
	defb	1
	defb	1
	defb	80
	defb	80
	defb	80
	defb	80
	defb	112
	defb	80
	defb	1
	defb	0
	defb	2
	defb	48
	defb	32
	defb	48
	defb	32
	defb	16
	defb	32
	defb	-1
	defb	0
	defb	3
	defb	208
	defb	32
	defb	208
	defb	32
	defb	80
	defb	48
	defb	-1
	defb	1
	defb	2
	defb	208
	defb	96
	defb	208
	defb	96
	defb	112
	defb	96
	defb	-1
	defb	0
	defb	4
	defb	96
	defb	32
	defb	96
	defb	32
	defb	208
	defb	32
	defb	1
	defb	0
	defb	2
	defb	80
	defb	128
	defb	80
	defb	128
	defb	80
	defb	48
	defb	0
	defb	-2
	defb	4
	defb	16
	defb	32
	defb	16
	defb	32
	defb	48
	defb	128
	defb	1
	defb	1
	defb	3
	defb	80
	defb	16
	defb	80
	defb	16
	defb	80
	defb	128
	defb	0
	defb	1
	defb	3
	defb	64
	defb	64
	defb	64
	defb	64
	defb	16
	defb	128
	defb	-2
	defb	2
	defb	2
	defb	64
	defb	32
	defb	64
	defb	32
	defb	16
	defb	32
	defb	-1
	defb	0
	defb	1
	defb	208
	defb	128
	defb	208
	defb	128
	defb	16
	defb	128
	defb	-1
	defb	0
	defb	4
	defb	128
	defb	64
	defb	128
	defb	64
	defb	96
	defb	64
	defb	-1
	defb	0
	defb	2
	defb	32
	defb	16
	defb	32
	defb	16
	defb	64
	defb	112
	defb	2
	defb	2
	defb	3
	defb	80
	defb	128
	defb	80
	defb	128
	defb	80
	defb	32
	defb	0
	defb	-1
	defb	4
	defb	144
	defb	48
	defb	144
	defb	48
	defb	208
	defb	64
	defb	1
	defb	1
	defb	2
	defb	208
	defb	128
	defb	208
	defb	128
	defb	128
	defb	128
	defb	-1
	defb	0
	defb	3
	defb	80
	defb	96
	defb	80
	defb	96
	defb	80
	defb	16
	defb	0
	defb	-1
	defb	1
	defb	112
	defb	48
	defb	112
	defb	48
	defb	224
	defb	112
	defb	2
	defb	2
	defb	2
	defb	128
	defb	128
	defb	128
	defb	128
	defb	112
	defb	128
	defb	-1
	defb	0
	defb	3
	defb	64
	defb	128
	defb	64
	defb	128
	defb	224
	defb	128
	defb	1
	defb	0
	defb	4
	defb	48
	defb	16
	defb	48
	defb	16
	defb	48
	defb	128
	defb	0
	defb	2
	defb	2
	defb	96
	defb	48
	defb	96
	defb	48
	defb	208
	defb	96
	defb	1
	defb	1
	defb	3
	defb	208
	defb	80
	defb	208
	defb	80
	defb	144
	defb	48
	defb	-1
	defb	-1
	defb	3
	defb	128
	defb	80
	defb	128
	defb	80
	defb	96
	defb	32
	defb	-1
	defb	-1
	defb	2
	defb	64
	defb	112
	defb	64
	defb	112
	defb	64
	defb	48
	defb	0
	defb	-1
	defb	1
	defb	48
	defb	48
	defb	48
	defb	48
	defb	192
	defb	48
	defb	2
	defb	0
	defb	2
	defb	192
	defb	80
	defb	192
	defb	80
	defb	64
	defb	80
	defb	-1
	defb	0
	defb	3
	defb	80
	defb	112
	defb	80
	defb	112
	defb	208
	defb	112
	defb	1
	defb	0
	defb	1
	defb	160
	defb	112
	defb	160
	defb	112
	defb	160
	defb	80
	defb	0
	defb	-1
	defb	4
	defb	112
	defb	112
	defb	112
	defb	112
	defb	112
	defb	48
	defb	0
	defb	-2
	defb	2
	defb	128
	defb	16
	defb	128
	defb	16
	defb	208
	defb	16
	defb	1
	defb	0
	defb	3
	defb	16
	defb	48
	defb	16
	defb	48
	defb	96
	defb	96
	defb	2
	defb	2
	defb	1
	defb	96
	defb	16
	defb	96
	defb	16
	defb	48
	defb	16
	defb	-1
	defb	0
	defb	2
	defb	16
	defb	112
	defb	16
	defb	112
	defb	32
	defb	112
	defb	1
	defb	0
	defb	3
	defb	192
	defb	112
	defb	192
	defb	112
	defb	192
	defb	16
	defb	0
	defb	-1
	defb	4
	defb	32
	defb	16
	defb	32
	defb	16
	defb	144
	defb	16
	defb	1
	defb	0
	defb	2
	defb	160
	defb	64
	defb	160
	defb	64
	defb	80
	defb	64
	defb	-1
	defb	0
	defb	3
	defb	64
	defb	80
	defb	64
	defb	80
	defb	32
	defb	32
	defb	-1
	defb	-1
	defb	3
	defb	64
	defb	16
	defb	64
	defb	16
	defb	32
	defb	128
	defb	-1
	defb	1
	defb	2
	defb	160
	defb	16
	defb	160
	defb	16
	defb	160
	defb	128
	defb	0
	defb	2
	defb	3
	defb	16
	defb	16
	defb	16
	defb	16
	defb	144
	defb	80
	defb	2
	defb	2
	defb	2
	defb	224
	defb	80
	defb	224
	defb	80
	defb	176
	defb	64
	defb	-1
	defb	-1
	defb	3
	defb	224
	defb	96
	defb	224
	defb	96
	defb	176
	defb	96
	defb	-1
	defb	0
	defb	4
	defb	80
	defb	128
	defb	80
	defb	128
	defb	80
	defb	48
	defb	0
	defb	-1
	defb	1
	defb	64
	defb	128
	defb	64
	defb	128
	defb	64
	defb	64
	defb	0
	defb	-2
	defb	2
	defb	48
	defb	32
	defb	48
	defb	32
	defb	48
	defb	128
	defb	0
	defb	1
	defb	3
	defb	64
	defb	112
	defb	64
	defb	112
	defb	64
	defb	16
	defb	0
	defb	-1
	defb	2
	defb	112
	defb	64
	defb	112
	defb	64
	defb	128
	defb	144
	defb	2
	defb	2
	defb	2
	defb	144
	defb	16
	defb	144
	defb	16
	defb	224
	defb	64
	defb	2
	defb	2
	defb	3
	defb	208
	defb	80
	defb	208
	defb	80
	defb	32
	defb	80
	defb	-2
	defb	0
	defb	4
	defb	96
	defb	32
	defb	96
	defb	32
	defb	160
	defb	32
	defb	1
	defb	0
	defb	4
	defb	48
	defb	96
	defb	48
	defb	96
	defb	208
	defb	128
	defb	1
	defb	1
	defb	2
	defb	208
	defb	64
	defb	208
	defb	64
	defb	96
	defb	64
	defb	-1
	defb	0
	defb	1
	defb	80
	defb	128
	defb	80
	defb	128
	defb	80
	defb	16
	defb	0
	defb	-1
	defb	4
	defb	208
	defb	112
	defb	208
	defb	112
	defb	160
	defb	112
	defb	-1
	defb	0
	defb	2
	defb	48
	defb	16
	defb	48
	defb	16
	defb	80
	defb	48
	defb	1
	defb	1
	defb	3
	defb	144
	defb	112
	defb	144
	defb	112
	defb	144
	defb	16
	defb	0
	defb	-2
	defb	1
	defb	112
	defb	112
	defb	112
	defb	112
	defb	48
	defb	112
	defb	-2
	defb	0
	defb	2
	defb	64
	defb	32
	defb	64
	defb	32
	defb	96
	defb	128
	defb	1
	defb	1
	defb	3
	defb	176
	defb	128
	defb	176
	defb	128
	defb	176
	defb	80
	defb	0
	defb	-2
	defb	2
	defb	192
	defb	128
	defb	192
	defb	128
	defb	192
	defb	32
	defb	0
	defb	-2
	defb	1
	defb	208
	defb	64
	defb	208
	defb	64
	defb	128
	defb	64
	defb	-2
	defb	0
	defb	2
	defb	48
	defb	96
	defb	48
	defb	96
	defb	192
	defb	112
	defb	1
	defb	1
	defb	3
	defb	16
	defb	32
	defb	16
	defb	32
	defb	64
	defb	32
	defb	1
	defb	0
	defb	1
	SECTION	code_compiler
	C_LINE	152,"assets/enems.h::blackout::0::2"
	C_LINE	156,"assets/enems.h::blackout::0::2"
	SECTION	data_compiler
._hotspots
	defb	0
	defb	0
	defb	0
	defb	3
	defb	2
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	130
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	SECTION	code_compiler
	C_LINE	59,"mk1.c::blackout::0::2"
	C_LINE	0,"assets/sprites.h::blackout::0::2"
	C_LINE	8,"assets/sprites.h::blackout::0::2"
	C_LINE	10,"assets/sprites.h::blackout::0::2"
	._sprites
		BINARY "../bin/sprites.bin"
	C_LINE	60,"mk1.c::blackout::0::2"
	C_LINE	0,"assets/extrasprites.h::blackout::0::2"
	C_LINE	12,"assets/extrasprites.h::blackout::0::2"
	C_LINE	15,"assets/extrasprites.h::blackout::0::2"
	C_LINE	23,"assets/extrasprites.h::blackout::0::2"
		._sprite_17_a
			BINARY "../bin/sprites_extra.bin"
	C_LINE	30,"assets/extrasprites.h::blackout::0::2"
	._sprite_18_a
		defs 96, 0
	C_LINE	61,"mk1.c::blackout::0::2"
	C_LINE	0,"assets/spriteset_mappings.h::blackout::0::2"
	C_LINE	9,"assets/spriteset_mappings.h::blackout::0::2"
	SECTION	data_compiler
._sm_cox
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	SECTION	code_compiler
	C_LINE	14,"assets/spriteset_mappings.h::blackout::0::2"
	SECTION	data_compiler
._sm_coy
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	defb	0
	SECTION	code_compiler
	C_LINE	19,"assets/spriteset_mappings.h::blackout::0::2"
	SECTION	data_compiler
._sm_invfunc
	defw	cpc_PutSpTileMap16x16PxM1 + 0
	defw	cpc_PutSpTileMap16x16PxM1 + 0
	defw	cpc_PutSpTileMap16x16PxM1 + 0
	defw	cpc_PutSpTileMap16x16PxM1 + 0
	defw	cpc_PutSpTileMap16x16PxM1 + 0
	defw	cpc_PutSpTileMap16x16PxM1 + 0
	defw	cpc_PutSpTileMap16x16PxM1 + 0
	defw	cpc_PutSpTileMap16x16PxM1 + 0
	defw	cpc_PutSpTileMap16x16PxM1 + 0
	defw	cpc_PutSpTileMap16x16PxM1 + 0
	defw	cpc_PutSpTileMap16x16PxM1 + 0
	defw	cpc_PutSpTileMap16x16PxM1 + 0
	defw	cpc_PutSpTileMap16x16PxM1 + 0
	defw	cpc_PutSpTileMap16x16PxM1 + 0
	defw	cpc_PutSpTileMap16x16PxM1 + 0
	defw	cpc_PutSpTileMap16x16PxM1 + 0
	SECTION	code_compiler
	C_LINE	26,"assets/spriteset_mappings.h::blackout::0::2"
	SECTION	data_compiler
._sm_updfunc
	defw	cpc_PutTrSp16x16TileMap2bPxM1 + 0
	defw	cpc_PutTrSp16x16TileMap2bPxM1 + 0
	defw	cpc_PutTrSp16x16TileMap2bPxM1 + 0
	defw	cpc_PutTrSp16x16TileMap2bPxM1 + 0
	defw	cpc_PutTrSp16x16TileMap2bPxM1 + 0
	defw	cpc_PutTrSp16x16TileMap2bPxM1 + 0
	defw	cpc_PutTrSp16x16TileMap2bPxM1 + 0
	defw	cpc_PutTrSp16x16TileMap2bPxM1 + 0
	defw	cpc_PutTrSp16x16TileMap2bPxM1 + 0
	defw	cpc_PutTrSp16x16TileMap2bPxM1 + 0
	defw	cpc_PutTrSp16x16TileMap2bPxM1 + 0
	defw	cpc_PutTrSp16x16TileMap2bPxM1 + 0
	defw	cpc_PutTrSp16x16TileMap2bPxM1 + 0
	defw	cpc_PutTrSp16x16TileMap2bPxM1 + 0
	defw	cpc_PutTrSp16x16TileMap2bPxM1 + 0
	defw	cpc_PutTrSp16x16TileMap2bPxM1 + 0
	SECTION	code_compiler
	C_LINE	33,"assets/spriteset_mappings.h::blackout::0::2"
	C_LINE	34,"assets/spriteset_mappings.h::blackout::0::2"
	._sm_sprptr
		defw _sprites + 0x0000, _sprites + 0x0040, _sprites + 0x0080, _sprites + 0x00C0
		defw _sprites + 0x0100, _sprites + 0x0140, _sprites + 0x0180, _sprites + 0x01C0
		defw _sprites + 0x0200, _sprites + 0x0240, _sprites + 0x0280, _sprites + 0x02C0
		defw _sprites + 0x0300, _sprites + 0x0340, _sprites + 0x0380, _sprites + 0x03C0
	C_LINE	63,"mk1.c::blackout::0::2"
	C_LINE	0,"assets/trpixlut.h::blackout::0::2"
	C_LINE	4,"assets/trpixlut.h::blackout::0::2"
	C_LINE	6,"assets/trpixlut.h::blackout::0::2"
	; LUT for transparent pixels in sprites
	; taken from CPCTelera
	._trpixlutc
		BINARY "assets/trpixlutc.bin"
	C_LINE	64,"mk1.c::blackout::0::2"
	C_LINE	0,"my/ci/extra_vars.h::blackout::0::2"
	C_LINE	66,"mk1.c::blackout::0::2"
	C_LINE	0,"printer.h::blackout::0::2"
	C_LINE	6,"printer.h::blackout::0::2"

; Function attr flags 0x00000200 __smallc 
; unsigned char attr(unsigned char x, unsigned char y)
; parameter 'unsigned char y' at sp+2 size(1)
; parameter 'unsigned char x' at sp+4 size(1)
	C_LINE	6,"printer.h::attr::0::2"
._attr
			ld  hl, 4
			add hl, sp
			ld  c, (hl) 	 
			dec hl
			dec hl
			ld  a, (hl) 	 
		._attr_2
			cp  10
			jr  c, _attr_1
			ld  hl, 0
			ret
		._attr_1
			ld  b, a 		 
			ld  a, c 		 
			cp  15
			jr  c, _attr_1b
			ld  hl, 0
			ret
		._attr_1b
			ld  a, b 		 
			sla a
			sla a
			sla a
			sla a
			sub b
			add c
			ld  d, 0
			ld  e, a
			ld  hl, _map_attr
			add hl, de
			ld  l, (hl)
		._attr_end
			ld  h, 0
	ret


	C_LINE	61,"printer.h::attr::0::3"

; Function qtile flags 0x00000200 __smallc 
; unsigned char qtile(unsigned char x, unsigned char y)
; parameter 'unsigned char y' at sp+2 size(1)
; parameter 'unsigned char x' at sp+4 size(1)
	C_LINE	61,"printer.h::qtile::0::3"
._qtile
			ld  hl, 4
			add hl, sp
			ld  c, (hl) 	 
			dec hl
			dec hl
			ld  a, (hl) 	 
		.qtile_do	
			ld  b, a
			sla a
			sla a
			sla a
			sla a
			sub b
			add c
			ld  d, 0
			ld  e, a
			ld  hl, _map_buff
			add hl, de
			ld  l, (hl)
			ld  h, 0
	ret


	C_LINE	96,"printer.h::qtile::0::4"

; Function attr_mk2 flags 0x00000200 __smallc 
; unsigned char attr_mk2()
	C_LINE	96,"printer.h::attr_mk2::0::4"
._attr_mk2
				ld  a, (_cx1)
				cp  15
				jr  nc, _attr_reset
				ld  a, (_cy1)
				cp  10
				jr  c, _attr_do
			._attr_reset
				ld  hl, 0
				ret
			._attr_do
				ld  a, (_cy1)
				ld  b, a
				sla a
				sla a
				sla a
				sla a
				sub b
				ld  b, a
				ld  a, (_cx1)
				add b
				ld  e, a
				ld  d, 0
				ld  hl, _map_attr
				add hl, de
				ld  a, (hl)
				ld  h, 0
				ld  l, a
				ret
	ret


	C_LINE	138,"printer.h::attr_mk2::0::5"

; Function _tile_address flags 0x00000200 __smallc 
; void _tile_address()
	C_LINE	138,"printer.h::_tile_address::0::5"
.__tile_address
			ld  a, (__y)
			add a, a	; 2		4
			add a, a	; 4		4
			add a, a	; 8		4
			ld  h, 0	;		2
			ld  l, a 	;		4
			add hl, hl  ; 16	11
			add hl, hl  ; 32	11
			;					44 t-states
			; HL = _y * 32
			ld 	a, (__x)
			ld 	e, a 
			ld 	d, 0
			add hl, de
			; HL = _y * 32 + _x
			ld  de, _nametable
			add hl, de
			ex  de, hl
			; DE = buffer address
	ret


	C_LINE	171,"printer.h::_tile_address::0::6"

; Function draw_coloured_tile flags 0x00000200 __smallc 
; void draw_coloured_tile()
	C_LINE	171,"printer.h::draw_coloured_tile::0::6"
._draw_coloured_tile
				ld  a, (__x)
				sub  1 
				srl a
				ld  (_xx), a
				ld  a, (__y)
				sub  3 
				srl a
				ld  (_yy), a
	ld	hl,(_xx)
	ld	h,0
	push	hl
	ld	hl,(_yy)
	ld	h,0
	push	hl
	call	_attr
	pop	bc
	pop	bc
	ld	a,l
	and	8
	jp	nz,i_13	;
	ld	hl,(__t)
	ld	h,0
	ld	a,l
	sub	16
	ccf
	jp	nc,i_14	;
	ld	a,(__t)
	cp	19
	jp	z,i_14	;
	ld	hl,1	;const
	jr	i_15
.i_14
	ld	hl,0	;const
.i_15
	ld	a,h
	or	l
	jp	nz,i_13	;
	jr	i_16
.i_13
	ld	hl,1	;const
.i_16
	call	l_lneg
	ld	h,0
	ld	a,l
	ld	(_nocast),a
				ld  a, (__t)
				sla a 
				sla a 
				add 64
				ld  (__ta), a
	ld	a,(__t)
	cp	19
	jp	nz,i_17	;
	ld	a,192
	ld	(_t_alt),a
	jp	i_18	;EOS
.i_17
	ld	hl,(__ta)
	ld	h,0
	ld	bc,128
	add	hl,bc
	ld	h,0
	ld	a,l
	ld	(_t_alt),a
.i_18
				ld  a, (_xx)
				dec a
				ld  (_cx1), a
				ld  a, (_yy)
				or  a
				jr  z, _dct_1_set_yy
				dec a
			._dct_1_set_yy
				ld  (_cy1), a
				ld  a, (_nocast)
				or  a
				jr  z, _dct_a1_set
				call _attr_mk2
				ld  a, l
				and 8
				jr  z, _dct_a1_set
				ld  a, 1
			._dct_a1_set
				ld  (_a1), a
				ld  a, (_xx)					
				ld  (_cx1), a
				ld  a, (_yy)
				or  a
				jr  z, _dct_2_set_yy
				dec a
			._dct_2_set_yy
				ld  (_cy1), a
				ld  a, (_nocast)
				or  a
				jr  z, _dct_a2_set
				call _attr_mk2
				ld  a, l
				and 8
				jr  z, _dct_a2_set
				ld  a, 1
			._dct_a2_set
				ld  (_a2), a
				ld  a, (_xx)
				dec a
				ld  (_cx1), a
				ld  a, (_yy)					
				ld  (_cy1), a
				ld  a, (_nocast)
				or  a
				jr  z, _dct_a3_set
				call _attr_mk2
				ld  a, l
				and 8
				jr  z, _dct_a3_set
				ld  a, 1
			._dct_a3_set
				ld  (_a3), a
				ld  a, (_a1)
				or  a
				jr  nz, _dct_1_shadow
				ld  a, (_a2)
				or  a
				jr  z, _dct_1_no_shadow
				ld  a, (_a3)
				or  a
				jr  z, _dct_1_no_shadow
			._dct_1_shadow
				ld  a, (_t_alt)
				ld  (_t1), a
				jr  _dct_1_increment
			._dct_1_no_shadow
				ld  a, (__ta)
				ld  (_t1), a
			._dct_1_increment
				ld  hl, __ta
				inc (hl)
				ld  hl, _t_alt
				inc (hl)
				ld  a, (_a2)
				or  a
				jr  z, _dct_2_no_shadow
			._dct_2_shadow
				ld  a, (_t_alt)
				ld  (_t2), a
				jr  _dct_2_increment
			._dct_2_no_shadow
				ld  a, (__ta)
				ld  (_t2), a
			._dct_2_increment
				ld  hl, __ta
				inc (hl)
				ld  hl, _t_alt
				inc (hl)
				ld  a, (_a3)
				or  a
				jr  z, _dct_3_no_shadow
			._dct_3_shadow
				ld  a, (_t_alt)
				ld  (_t3), a
				jr  _dct_3_increment
			._dct_3_no_shadow
				ld  a, (__ta)
				ld  (_t3), a
			._dct_3_increment
				ld  hl, __ta
				inc (hl)
				ld  hl, _t_alt
				inc (hl)
				ld  a, (__ta)
				ld  (_t4), a
			call __tile_address	; DE = buffer address
			ex  de, hl
			ld  a, (_t1)
			ld  (hl), a
			inc hl
			ld  a, (_t2)
			ld  (hl), a
			ld  bc, 31
			add hl, bc
			ld  a, (_t3)
			ld  (hl), a
			inc hl
			ld  a, (_t4)
			ld  (hl), a
	ret


	C_LINE	450,"printer.h::draw_coloured_tile::0::9"

; Function invalidate_tile flags 0x00000200 __smallc 
; void invalidate_tile()
	C_LINE	450,"printer.h::invalidate_tile::0::9"
._invalidate_tile
			ld  a, (__x)
			ld  e, a
			ld  a, (__y)
			ld  d, a
			call cpc_UpdTileTable
			inc e
			call cpc_UpdTileTable
			dec e
			inc d
			call cpc_UpdTileTable
			inc e
			call cpc_UpdTileTable
	ret


	C_LINE	470,"printer.h::invalidate_tile::0::10"

; Function invalidate_viewport flags 0x00000200 __smallc 
; void invalidate_viewport()
	C_LINE	470,"printer.h::invalidate_viewport::0::10"
._invalidate_viewport
			ld  B,  3 
			ld  C,  1 
			ld  D,  3 +19
			ld  E,  1 +29
			call cpc_InvalidateRect
	ret


	C_LINE	482,"printer.h::invalidate_viewport::0::11"

; Function draw_invalidate_coloured_tile_gamearea flags 0x00000200 __smallc 
; void draw_invalidate_coloured_tile_gamearea()
	C_LINE	482,"printer.h::draw_invalidate_coloured_tile_gamearea::0::11"
._draw_invalidate_coloured_tile_gamearea
	call	_draw_coloured_tile_gamearea
	call	_invalidate_tile
	ret


	C_LINE	487,"printer.h::draw_invalidate_coloured_tile_gamearea::0::12"

; Function draw_coloured_tile_gamearea flags 0x00000200 __smallc 
; void draw_coloured_tile_gamearea()
	C_LINE	487,"printer.h::draw_coloured_tile_gamearea::0::12"
._draw_coloured_tile_gamearea
	ld	hl,(__x)
	ld	h,0
	add	hl,hl
	inc	hl
	ld	a,l
	ld	(__x),a
	ld	hl,(__y)
	ld	h,0
	add	hl,hl
	inc	hl
	inc	hl
	inc	hl
	ld	h,0
	ld	a,l
	ld	(__y),a
	call	_draw_coloured_tile
	ret


	C_LINE	491,"printer.h::draw_coloured_tile_gamearea::0::13"

; Function draw_decorations flags 0x00000200 __smallc 
; void draw_decorations()
	C_LINE	491,"printer.h::draw_decorations::0::13"
._draw_decorations
			ld  hl, (__gp_gen)
		._draw_decorations_loop
			ld  a, (hl)
			cp  0xff
			ret z
			ld  a, (hl)
			inc hl
			ld  c, a
			and 0x0f
			ld  (__y), a
			ld  a, c
			srl a
			srl a
			srl a
			srl a
			ld  (__x), a
			ld  a, (hl)
			inc hl
			ld  (__t), a
			push hl
			ld  b, 0
			ld  c, a
			ld  hl, _behs
			add hl, bc
			ld  a, (hl)
			ld  (__n), a
			call _update_tile
			pop hl
			jr  _draw_decorations_loop
	ret


	C_LINE	535,"printer.h::draw_decorations::0::14"
	SECTION	data_compiler
._utaux
	defb	0
	SECTION	code_compiler
	C_LINE	536,"printer.h::draw_decorations::0::14"

; Function update_tile flags 0x00000200 __smallc 
; void update_tile()
	C_LINE	536,"printer.h::update_tile::0::14"
._update_tile
		ld  a, (__x)
		ld  c, a
		ld  a, (__y)
		ld  b, a
		sla a 
		sla a 
		sla a 
		sla a 
		sub b
		add c
		ld  b, 0
		ld  c, a
		ld  hl, _map_attr
		add hl, bc
		ld  a, (__n)
		ld  (hl), a
		ld  hl, _map_buff
		add hl, bc
		ld  a, (__t)
		ld  (hl), a
		call _draw_coloured_tile_gamearea
		ld  a, (_is_rendering)
		or  a
		ret nz
		call _invalidate_tile
	ret


	C_LINE	578,"printer.h::update_tile::0::15"

; Function print_number2 flags 0x00000200 __smallc 
; void print_number2()
	C_LINE	578,"printer.h::print_number2::0::15"
._print_number2
	ld	hl,(__t)
	ld	h,0
	ld	de,10
	ex	de,hl
	call	l_div_u
	ld	bc,16
	add	hl,bc
	ld	a,l
	ld	(_rda),a
	ld	hl,(__t)
	ld	h,0
	ld	de,10
	ex	de,hl
	call	l_div_u
	ex	de,hl
	ld	bc,16
	add	hl,bc
	ld	h,0
	ld	a,l
	ld	(_rdb),a
			call __tile_address	; DE = buffer address
			ld  a, (_rda)
			ld  (de), a
			inc de
			ld  a, (_rdb)
			ld  (de), a
			ld  a, (__x)
			ld  e, a
			ld  a, (__y)
			ld  d, a
			call cpc_UpdTileTable
			inc e
			call cpc_UpdTileTable
	ret


	C_LINE	663,"printer.h::print_number2::0::16"

; Function print_str flags 0x00000200 __smallc 
; void print_str()
	C_LINE	663,"printer.h::print_str::0::16"
._print_str
			xor a 
			ld  (_rdn), a 		; Strlen
			call __tile_address	; DE = buffer address
			ld  hl, (__gp_gen)
		.print_str_loop
			ld  a, (hl)
			or  a
			jr  z, print_str_inv 
			sub 32
			ld  (de), a
			inc hl
			inc de 
			ld  a, (_rdn)
			inc a
			ld  (_rdn), a
			jr  print_str_loop
		.print_str_inv
			; Invalidate cells based upon strlen.
			ld  a, (__y)
			ld  b, a
			ld  d, a
			ld  a, (__x)
			ld  c, a
			ld  a, (_rdn)
			add c
			dec a
			ld  e, a
			call cpc_InvalidateRect
	ret


	C_LINE	717,"printer.h::print_str::0::17"

; Function clear_sprites flags 0x00000200 __smallc 
; void clear_sprites()
	C_LINE	717,"printer.h::clear_sprites::0::17"
._clear_sprites
	xor	a
	ld	(_gpit),a
	jp	i_22	;EOS
.i_20
	ld	hl,_gpit
	ld	a,(hl)
	inc	(hl)
.i_22
	ld	a,(_gpit)
	sub	4
	jp	nc,i_21	;
	ld	hl,_sp_sw
	push	hl
	ld	hl,(_gpit)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	pop	de
	add	hl,de
	ex	de,hl
	ld	hl,_sprite_18_a
	call	l_pint
	jp	i_20	;EOS
.i_21
	ret


	C_LINE	727,"printer.h::clear_sprites::0::19"

; Function pal_set flags 0x00000200 __smallc 
; void pal_set(unsigned char * pal)
; parameter 'unsigned char * pal' at sp+2 size(2)
	C_LINE	727,"printer.h::pal_set::0::19"
._pal_set
	ld	a,4
	ld	(_gpit),a
.i_23
	ld	hl,_gpit
	ld	a,(hl)
	dec	(hl)
	and	a
	jp	z,i_24	;
	ld	hl,(_gpit)
	ld	h,0
	push	hl
	ld	hl,4	;const
	add	hl,sp
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	ld	hl,(_gpit)
	ld	h,0
	add	hl,de
	ld	l,(hl)
	ld	h,0
	push	hl
	call	cpc_SetColour
	pop	bc
	pop	bc
	jp	i_23	;EOS
.i_24
	ret


	C_LINE	68,"mk1.c::pal_set::0::20"
	C_LINE	0,"engine/update.h::pal_set::0::20"
	C_LINE	9,"engine/update.h::pal_set::0::20"

; Function cpc_UpdateNow flags 0x00000200 __smallc 
; void cpc_UpdateNow(unsigned char sprites)
; parameter 'unsigned char sprites' at sp+2 size(1)
	C_LINE	9,"engine/update.h::cpc_UpdateNow::0::20"
._cpc_UpdateNow
	ld	hl,2	;const
	add	hl,sp
	ld	l,(hl)
	ld	a,l
	and	a
	jp	z,i_25	;
				ld  b, 0
			._cpc_screen_update_inv_loop
				push bc
				ld  a, b
				sla a
				sla a
				sla a 
				sla a
				ld d, 0
				ld e, a
				ld  hl, _sp_sw
				add hl, de
				ld  b, h
				ld  c, l
				ld  de, _cpc_screen_update_inv_ret
				push de
				ld  de, 12
				add hl, de
				ld  e, (hl)
				inc hl
				ld  d, (hl)
				push de
				ld  h, b
				ld  l, c
				ret
			._cpc_screen_update_inv_ret
				pop bc
				inc b
				ld  a, b
				cp   1 +  3  +  0  +  0  
				jr  nz, _cpc_screen_update_inv_loop
.i_25
		._cpc_screen_update_upd_buffer
			call cpc_UpdScr 
	ld	hl,2	;const
	add	hl,sp
	ld	l,(hl)
	ld	a,l
	and	a
	jp	z,i_26	;
				ld  b,  1 +  3  +  0  +  0  
			._cpc_screen_update_upd_loop
				dec b
				push bc
				ld  a, b
				sla a
				sla a
				sla a 
				sla a
				ld d, 0
				ld e, a
				ld  hl, _sp_sw
				add hl, de
				ld  b, h
				ld  c, l
				ld  de, _cpc_screen_update_upd_ret
				push de
				ld  de, 14
				add hl, de
				ld  e, (hl)
				inc hl
				ld  d, (hl)
				push de
				ld  h, b
				ld  l, c
				ret
			._cpc_screen_update_upd_ret
				pop bc
				xor a
				or  b
				jr  nz, _cpc_screen_update_upd_loop
			._cpc_screen_update_done
.i_26
			call cpc_ShowTouchedTiles
			call cpc_ResetTouchedTiles
	ret


	C_LINE	69,"mk1.c::cpc_UpdateNow::0::23"
	C_LINE	0,"my/ci/extra_functions.h::cpc_UpdateNow::0::23"
	C_LINE	70,"mk1.c::cpc_UpdateNow::0::23"
	C_LINE	0,"engine/general.h::cpc_UpdateNow::0::23"
	C_LINE	14,"engine/general.h::cpc_UpdateNow::0::23"

; Function collide flags 0x00000200 __smallc 
; unsigned char collide()
	C_LINE	14,"engine/general.h::collide::0::23"
._collide
			ld  hl, 0
			ld  a, (_cx2)
			ld  c, a 
			ld  a, (_gpx)
			add  8 
			cp  c
			ret c 
			ld  a, (_gpx)
			ld  c, a 
			ld  a, (_cx2)
			add  8 
			cp  c 
			ret c
			ld  a, (_cy2)
			ld  c, a 
			ld  a, (_gpy)
			add  8 
			cp  c
			ret c 
			ld  a, (_gpy)
			ld  c, a 
			ld  a, (_cy2)
			add  8 
			cp  c 
			ret c
			ld  l, 1
	ret


	C_LINE	63,"engine/general.h::collide::0::24"

; Function cm_two_points flags 0x00000200 __smallc 
; unsigned char cm_two_points()
	C_LINE	63,"engine/general.h::cm_two_points::0::24"
._cm_two_points
			ld  a, (_cx1)
			cp  15
			jr  nc, _cm_two_points_at1_reset
			ld  a, (_cy1)
			cp  10
			jr  c, _cm_two_points_at1_do
		._cm_two_points_at1_reset
			xor a
			jr  _cm_two_points_at1_done
		._cm_two_points_at1_do
			ld  a, (_cy1)
			ld  b, a
			sla a
			sla a
			sla a
			sla a
			sub b
			ld  b, a
			ld  a, (_cx1)
			add b
			ld  e, a
			ld  d, 0
			ld  hl, _map_attr
			add hl, de
			ld  a, (hl)
		._cm_two_points_at1_done
			ld (_at1), a
			ld  a, (_cx2)
			cp  15
			jr  nc, _cm_two_points_at2_reset
			ld  a, (_cy2)
			cp  10
			jr  c, _cm_two_points_at2_do
		._cm_two_points_at2_reset
			xor a
			jr  _cm_two_points_at2_done
		._cm_two_points_at2_do
			ld  a, (_cy2)
			ld  b, a
			sla a
			sla a
			sla a
			sla a
			sub b
			ld  b, a
			ld  a, (_cx2)
			add b
			ld  e, a
			ld  d, 0
			ld  hl, _map_attr
			add hl, de
			ld  a, (hl)
		._cm_two_points_at2_done
			ld (_at2), a
	ret


	C_LINE	138,"engine/general.h::cm_two_points::0::25"

; Function rand flags 0x00000200 __smallc 
; unsigned char rand()
	C_LINE	138,"engine/general.h::rand::0::25"
._rand
		.rand16
			ld	hl, _seed
			ld	a, (hl)
			ld	e, a
			inc	hl
			ld	a, (hl)
			ld	d, a
			;; Ahora DE = [SEED]
			ld	a,	d
			ld	h,	e
			ld	l,	253
			or	a
			sbc	hl,	de
			sbc	a, 	0
			sbc	hl,	de
			ld	d, 	0
			sbc	a, 	d
			ld	e,	a
			sbc	hl,	de
			jr	nc,	nextrand
			inc	hl
		.nextrand
			ld	d,	h
			ld	e,	l
			ld	hl, _seed
			ld	a,	e
			ld	(hl), a
			inc	hl
			ld	a,	d
			ld	(hl), a
			;; Ahora [SEED] = HL
			ld  l, e
			ret
	ret


	C_LINE	182,"engine/general.h::rand::0::26"

; Function abs flags 0x00000200 __smallc 
; unsigned int abs(int n)
; parameter 'int n' at sp+2 size(2)
	C_LINE	182,"engine/general.h::abs::0::26"
._abs
	pop	bc
	pop	hl
	push	hl
	push	bc
	ld	a,h
	rla
	jp	nc,i_27	;
	pop	bc
	pop	hl
	push	hl
	push	bc
	call	l_neg
	ret


.i_27
	pop	bc
	pop	hl
	push	hl
	push	bc
	ret


.i_28
	ret


	C_LINE	79,"mk1.c::abs::0::27"
	C_LINE	0,"engine.h::abs::0::27"
	C_LINE	0,"my/fixed_screens.h::abs::0::27"
	C_LINE	4,"my/fixed_screens.h::abs::0::27"

; Function game_ending flags 0x00000200 __smallc 
; void game_ending()
	C_LINE	4,"my/fixed_screens.h::game_ending::0::27"
._game_ending
	call	_blackout
	ld	hl,_s_ending
	push	hl
	ld	hl,36864	;const
	push	hl
	call	_unpack
	pop	bc
	pop	bc
	ld	hl,1	;const
	call	cpc_ShowTileMap
	ld	hl,0	;const
	call	_wyz_play_music
	ld	hl,500	;const
	push	hl
	call	_espera_activa
	pop	bc
	call	_wyz_stop_sound
	ret


	C_LINE	19,"my/fixed_screens.h::game_ending::0::28"

; Function game_over flags 0x00000200 __smallc 
; void game_over()
	C_LINE	19,"my/fixed_screens.h::game_over::0::28"
._game_over
	ld	a,10
	ld	(__x),a
	ld	a,11
	ld	(__y),a
	ld	hl,_spacer
	ld	(__gp_gen),hl
	call	_print_str
	ld	a,10
	ld	(__x),a
	ld	a,12
	ld	(__y),a
	ld	hl,i_1+0
	ld	(__gp_gen),hl
	call	_print_str
	ld	a,10
	ld	(__x),a
	ld	a,13
	ld	(__y),a
	ld	hl,_spacer
	ld	(__gp_gen),hl
	call	_print_str
	ld	hl,0	;const
	push	hl
	call	_cpc_UpdateNow
	pop	bc
	ld	hl,500	;const
	push	hl
	call	_espera_activa
	pop	bc
	ret


	C_LINE	14,"engine.h::game_over::0::29"
	C_LINE	16,"engine.h::game_over::0::29"

; Function addsign flags 0x00000200 __smallc 
; int addsign(int n, int value)
; parameter 'int value' at sp+2 size(2)
; parameter 'int n' at sp+4 size(2)
	C_LINE	16,"engine.h::addsign::0::29"
._addsign
	ld	hl,4	;const
	call	l_gintsp	;
	ld	a,h
	rla
	ccf
	jp	nc,i_29	;
	pop	bc
	pop	hl
	push	hl
	push	bc
	ret


.i_29
	pop	bc
	pop	hl
	push	hl
	push	bc
	call	l_neg
	ret


.i_30
	ret


	C_LINE	24,"engine.h::addsign::0::30"

; Function espera_activa flags 0x00000200 __smallc 
; void espera_activa(int espera)
; parameter 'int espera' at sp+2 size(2)
	C_LINE	24,"engine.h::espera_activa::0::30"
._espera_activa
.i_31
	call	cpc_AnyKeyPressed
	ld	a,h
	or	l
	jp	nz,i_31	;EOS
.i_32
.i_35
				halt
				halt
				halt
				halt
				halt
				halt
	call	cpc_AnyKeyPressed
	ld	a,h
	or	l
	jp	nz,i_34	;EOS
.i_36
.i_33
	pop	de
	pop	hl
	dec	hl
	push	hl
	push	de
	ld	a,h
	or	l
	jp	nz,i_35	;EOS
.i_34
	ret


	C_LINE	41,"engine.h::espera_activa::0::32"

; Function locks_init flags 0x00000200 __smallc 
; void locks_init()
	C_LINE	41,"engine.h::locks_init::0::32"
._locks_init
					ld  b,  2 
					ld  hl, _cerrojos + 3
					ld  de, 4
					ld  a, 1
				.init_cerrojos_loop
					ld  (hl), a
					add hl, de
					djnz init_cerrojos_loop
	ret


	C_LINE	81,"engine.h::locks_init::0::33"

; Function process_tile flags 0x00000200 __smallc 
; void process_tile()
	C_LINE	81,"engine.h::process_tile::0::33"
._process_tile
				.push_boxes
					ld  a, (_x0)
					ld  c, a
					ld  a, (_y0)
					call qtile_do
					ld  a, l
					cp  14
					jp  nz, push_boxes_end
					ld  a, (_x1)
					ld  c, a
					ld  a, (_y1)
					ld  b, a
					call _attr_1b
					xor a
					or  l
					jp  nz, push_boxes_end
					ld  a, (_x1)
					cp  15
					jp  nc, push_boxes_end
					ld  a, (_y1)
					cp  10
					jp  nc, push_boxes_end
					ld  a, (_x0)
					ld  (__x), a
					ld  a, (_y0)
					ld  (__y), a
					xor a
					ld  (__t), a
					ld  (__n), a
					call _update_tile
					ld  a, (_x1)
					ld  (__x), a
					ld  a, (_y1)
					ld  (__y), a
					ld  a, 14
					ld  (__t), a
					ld  a, 10
					ld  (__n), a
					call _update_tile
	ld	hl,3	;const
	call	_wyz_play_sound
	C_LINE	0,"my/ci/on_tile_pushed.h::process_tile::1::34"
	C_LINE	215,"engine.h::process_tile::1::34"
				.push_boxes_end
				.open_lock
					ld  a, (_x0)
					ld  c, a
					ld  a, (_y0)
					call qtile_do
					ld  a, l
					cp  15
					jp  nz, open_lock_end
					ld  a, (_p_keys)
					or  a
					jr  z, open_lock_end
					ld  b,  2 
					ld  hl, _cerrojos
				.clear_cerrojo_loop
					ld  c, (hl) 		 
					inc hl
					ld  d, (hl) 		 
					inc hl 
					ld  e, (hl) 		 
					inc hl
					ld  a, (_n_pant)
					cp  c
					jr  nz, clear_cerrojo_loop_continue
					ld  a, (_x0)
					cp  d 
					jr  nz, clear_cerrojo_loop_continue
					ld  a, (_y0)
					cp  e 
					jr  nz, clear_cerrojo_loop_continue
					xor a 
					ld  (hl), a
					jr  clear_cerrojo_end
				.clear_cerrojo_loop_continue
					inc hl
					djnz clear_cerrojo_loop
				.clear_cerrojo_end
					ld  a, (_x0)
					ld  (__x), a
					ld  a, (_y0)
					ld  (__y), a
					xor a
					ld  (__t), a
					ld  (__n), a
					call _update_tile
					ld  hl, _p_keys
					dec (hl)
	ld	hl,3	;const
	call	_wyz_play_sound
	C_LINE	0,"my/ci/on_unlocked_bolt.h::process_tile::1::34"
	C_LINE	326,"engine.h::process_tile::1::34"
				.open_lock_end
	ret


	C_LINE	335,"engine.h::process_tile::0::34"

; Function draw_scr_background flags 0x00000200 __smallc 
; void draw_scr_background()
	C_LINE	335,"engine.h::draw_scr_background::0::34"
._draw_scr_background
	ld	hl,_mapa
	push	hl
	ld	hl,(_n_pant)
	ld	h,0
	ld	de,75
	call	l_mult
	pop	de
	add	hl,de
	ld	(_map_pointer),hl
	ld	hl,(_n_pant)
	ld	h,0
	ld	(_seed),hl
	ld	a,1
	ld	(__x),a
	ld	a,3
	ld	(__y),a
	xor	a
	ld	(_gpit),a
	jp	i_39	;EOS
.i_37
	ld	hl,_gpit
	inc	(hl)
	ld	l,(hl)
	ld	h,0
.i_39
	ld	hl,(_gpit)
	ld	h,0
	ld	a,l
	sub	150
	jp	nc,i_38	;
						ld  a, (_gpit)
						and 1
						jr  nz, _draw_scr_packed_existing
					._draw_scr_packed_new
						ld  hl, (_map_pointer)
						ld  a, (hl)
						ld  (_gpc), a
						inc hl
						ld  (_map_pointer), hl
						srl a
						srl a
						srl a
						srl a
						jr  _draw_scr_packed_done
					._draw_scr_packed_existing
						ld  a, (_gpc)
						and 15
					._draw_scr_packed_done
						ld  (__t), a
						ld  b, 0
						ld  c, a
						ld  hl, _behs
						add hl, bc
						ld  a, (hl)
						ld  bc, (_gpit)
						ld  b, 0
						ld  hl, _map_attr
						add hl, bc
						ld  (hl), a
										ld  a, (__t)
						or  a
						jr  nz, _draw_scr_packed_noalt
					._draw_scr_packed_alt
						call _rand
						ld  a, l
						and 15
						cp  1
						jr  z, _draw_scr_packed_alt_subst
						ld  a, (__t)
						jr  _draw_scr_packed_noalt
					._draw_scr_packed_alt_subst
						ld  a,  19 
						ld  (__t), a
					._draw_scr_packed_noalt
	C_LINE	0,"my/ci/map_renderer_t_modification.h::draw_scr_background::3::36"
	C_LINE	454,"engine.h::draw_scr_background::3::36"
						ld  hl, _map_buff
						add hl, bc
						ld  (hl), a
	call	_draw_coloured_tile
					ld  a, (__x)
					add 2
					cp  30 +  1 
					jr  c, _advance_worm_no_inc_y
					ld  a, (__y)
					add 2
					ld  (__y), a
					ld  a,  1 
				._advance_worm_no_inc_y
					ld  (__x), a
	jp	i_37	;EOS
.i_38
	ret


	C_LINE	502,"engine.h::draw_scr_background::0::36"

; Function draw_scr flags 0x00000200 __smallc 
; void draw_scr()
	C_LINE	502,"engine.h::draw_scr::0::36"
._draw_scr
	call	cpc_ResetTouchedTiles
	ld	hl,1	;const
	ld	a,l
	ld	(_is_rendering),a
	call	_draw_scr_background
	call	_enems_load
	C_LINE	0,"my/ci/entering_screen.h::draw_scr::1::37"
	C_LINE	531,"engine.h::draw_scr::1::37"
			ld  a, 240
			ld  (_hotspot_y), a
			ld  a, (_n_pant)
			ld  b, a
			sla a
			add b
			ld  c, a
			ld  b, 0
			ld  hl, _hotspots
			add hl, bc
			ld  a, (hl) 		 
			ld  b, a
			srl a
			srl a
			srl a
			srl a
			ld  (__x), a
			ld  a, b
			and 15
			ld  (__y), a
			inc hl 				 
			ld  b, (hl) 		 
			inc hl 				 
			ld  c, (hl) 		 
			xor a
			or  b
			jr  z, _hotspots_setup_done  
			xor a
			or  c
			jr  z, _hotspots_setup_done
		._hotspots_setup_do
			ld  a, (__x)
			ld  e, a
			sla a
			sla a
			sla a
			sla a
			ld  (_hotspot_x), a
			ld  a, (__y)
			ld  d, a
			sla a
			sla a
			sla a
			sla a
			ld  (_hotspot_y), a
			sub d
			add e
			ld  e, a
			ld  d, 0
			ld  hl, _map_buff
			add hl, de
			ld  a, (hl)
			ld  (_orig_tile), a
			ld  a, b
			cp  3
			jp  nz, _hotspots_setup_set
		._hotspots_setup_set_refill
			xor a
		._hotspots_setup_set
			add 16
			ld  (__t), a		
			call _draw_coloured_tile_gamearea
		._hotspots_setup_done
				ld  hl, _cerrojos
				ld  b,  2 
			._open_locks_loop
				push bc
				ld  a, (_n_pant)
				ld  c, a
				ld  b, (hl)			 
				inc hl
				ld  d, (hl) 		 
				inc hl
				ld  e, (hl)			 
				inc hl
				ld  a, (hl)			 
				inc hl
				or  a
				jr  nz, _open_locks_done
				ld  a, b
				cp  c
				jr  nz, _open_locks_done
			._open_locks_do
				ld  a, d
				ld  (__x), a
				ld  a, e
				ld  (__y), a
				sla a
				sla a
				sla a
				sla a
				sub e
				add d
				ld  b, 0
				ld  c, a
				xor a
				push hl 			 
				ld  hl, _map_attr
				add hl, bc
				ld  (hl), a
				ld  hl, _map_buff
				add hl, bc
				ld  (hl), a
				ld  (__t), a
				call _draw_coloured_tile_gamearea
				pop hl
			._open_locks_done
				pop bc
				dec b
				jr  nz, _open_locks_loop
	call	_invalidate_viewport
	ld	hl,0	;const
	ld	a,l
	ld	(_is_rendering),a
	ret


	C_LINE	745,"engine.h::draw_scr::0::37"

; Function mons_col_sc_x flags 0x00000200 __smallc 
; unsigned char mons_col_sc_x()
	C_LINE	745,"engine.h::mons_col_sc_x::0::37"
._mons_col_sc_x
			._mons_col_sc_x_lineal
				ld  de, 0x000f
				ld  hl, 0x000f
			._mons_col_sc_x_compare
					ld  a, (__en_mx)
					and 0x80
					ld  a, (__en_x)
					jr  z, _mons_col_sc_x_horz_positive
				._mons_col_sc_x_horz_negative_zero
				add d
					jr  _mons_col_sc_x_horz_set
				._mons_col_sc_x_horz_positive
				add e				
				._mons_col_sc_x_horz_set
					srl a 
					srl a 
					srl a  
					srl a
					ld  (_cx1), a
					ld  (_cx2), a
					ld  a, (__en_y)
				add h
					srl a
					srl a
					srl a
					srl a
					ld  (_cy1), a
				ld  a, (__en_y)
				add l
					srl a
					srl a
					srl a
					srl a
					ld  (_cy2), a
	call	_cm_two_points
	ld	a,(_at1)
	and	a
	jp	nz,i_40	;
	ld	a,(_at2)
	and	a
	jp	nz,i_40	;
	ld	hl,0	;const
	jr	i_41
.i_40
	ld	hl,1	;const
.i_41
	ld	h,0
	ret


	C_LINE	816,"engine.h::mons_col_sc_x::0::38"

; Function mons_col_sc_y flags 0x00000200 __smallc 
; unsigned char mons_col_sc_y()
	C_LINE	816,"engine.h::mons_col_sc_y::0::38"
._mons_col_sc_y
			._mons_col_sc_y_lineal
				ld  de, 0x000f
				ld  hl, 0x000f
			._mons_col_sc_y_compare
					ld  a, (__en_my)
					and 0x80
					ld  a, (__en_y)
					jr  z, _mons_col_sc_y_vert_positive
				._mons_col_sc_y_vert_negative_zero
				add h
					jr  _mons_col_sc_y_vert_set
				._mons_col_sc_y_vert_positive
				add l					
				._mons_col_sc_y_vert_set
					srl a 
					srl a 
					srl a  
					srl a
					ld  (_cy1), a
					ld  (_cy2), a
					ld  a, (__en_x)
				add d
					srl a
					srl a
					srl a
					srl a
					ld  (_cx1), a
				ld  a, (__en_x)
				add e
					srl a
					srl a
					srl a
					srl a
					ld  (_cx2), a
	call	_cm_two_points
	ld	a,(_at1)
	and	a
	jp	nz,i_42	;
	ld	a,(_at2)
	and	a
	jp	nz,i_42	;
	ld	hl,0	;const
	jr	i_43
.i_42
	ld	hl,1	;const
.i_43
	ld	h,0
	ret


	C_LINE	92,"mk1.c::mons_col_sc_y::0::39"
	C_LINE	0,"engine/player.h::mons_col_sc_y::0::39"
	C_LINE	6,"engine/player.h::mons_col_sc_y::0::39"

; Function player_init flags 0x00000200 __smallc 
; void player_init()
	C_LINE	6,"engine/player.h::player_init::0::39"
._player_init
	ld	a,16
	ld	hl,_gpx
	ld	(hl),a
	ld	l,(hl)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	ld	(_p_x),hl
	ld	a,64
	ld	hl,_gpy
	ld	(hl),a
	ld	l,(hl)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	ld	(_p_y),hl
	ld	hl,0	;const
	ld	(_p_vy),hl
	ld	(_p_vx),hl
	ld	a,1
	ld	(_p_cont_salto),a
	xor	a
	ld	(_p_saltando),a
	ld	(_p_frame),a
	xor	a
	ld	(_p_subframe),a
	ld	a,1
	ld	(_p_facing),a
	xor	a
	ld	(_p_estado),a
	ld	(_p_ct_estado),a
	ld	a,20
	ld	(_p_life),a
	xor	a
	ld	(_p_objs),a
	ld	(_p_keys),a
	xor	a
	ld	(_p_killed),a
	ld	hl,0	;const
	ld	a,l
	ld	(_p_disparando),a
	ret


	C_LINE	60,"engine/player.h::player_init::0::40"

; Function player_calc_bounding_box flags 0x00000200 __smallc 
; void player_calc_bounding_box()
	C_LINE	60,"engine/player.h::player_calc_bounding_box::0::40"
._player_calc_bounding_box
			ld  a, (_gpx)
			add 4
			srl a
			srl a
			srl a
			srl a
			ld  (_ptx1), a
			ld  a, (_gpx)
			add 11
			srl a
			srl a
			srl a
			srl a
			ld  (_ptx2), a
			ld  a, (_gpy)
			add 8
			srl a
			srl a
			srl a
			srl a
			ld  (_pty1), a
			ld  a, (_gpy)
			add 15
			srl a
			srl a
			srl a
			srl a
			ld  (_pty2), a
	ret


	C_LINE	186,"engine/player.h::player_calc_bounding_box::0::41"

; Function player_move flags 0x00000200 __smallc 
; unsigned char player_move()
	C_LINE	186,"engine/player.h::player_move::0::41"
._player_move
						; Signed comparisons are hard
						; p_vy <=  512  -  32 
						; We are going to take a shortcut.
						; If p_vy < 0, just add  32 .
						; If p_vy > 0, we can use unsigned comparition anyway.
						ld  hl, (_p_vy)
						bit 7, h
						jr  nz, _player_gravity_add 	; < 0
						ld  de,  512  -  32 
						or  a
						push hl
						sbc hl, de
						pop hl
						jr  nc, _player_gravity_maximum
					._player_gravity_add
						ld  de,  32 
						add hl, de
						jr  _player_gravity_vy_set
					._player_gravity_maximum
						ld  hl,  512 
					._player_gravity_vy_set
						ld  (_p_vy), hl
					._player_gravity_done
						ld  a, (_p_gotten)
						or  a
						jr  z, _player_gravity_p_gotten_done
						xor a
						ld  (_p_vy), a
					._player_gravity_p_gotten_done
	C_LINE	0,"./my/ci/custom_veng.h::player_move::1::43"
	C_LINE	300,"engine/player.h::player_move::1::43"
	ld	de,(_p_y)
	ld	hl,(_p_vy)
	add	hl,de
	ld	(_p_y),hl
	ld	a,(_p_gotten)
	and	a
	jp	z,i_44	;
	ld	de,(_p_y)
	ld	hl,(_ptgmy)
	add	hl,de
	ld	(_p_y),hl
.i_44
	ld	hl,(_p_y)
	ld	a,h
	rla
	jp	nc,i_45	;
	ld	hl,0	;const
	ld	(_p_y),hl
.i_45
	ld	hl,(_p_y)
	ld	de,9216
	ex	de,hl
	call	l_gt
	jp	nc,i_46	;
	ld	hl,9216	;const
	ld	(_p_y),hl
.i_46
			ld  hl, (_p_y)
			call HLshr6_A
			ld  (_gpy), a
	call	_player_calc_bounding_box
	xor	a
	ld	(_hit_v),a
	ld	a,(_ptx1)
	ld	(_cx1),a
	ld	a,(_ptx2)
	ld	(_cx2),a
	ld	de,(_p_vy)
	ld	hl,(_ptgmy)
	add	hl,de
	ld	a,h
	rla
	jp	nc,i_47	;
	ld	hl,(_pty1)
	ld	a,l
	ld	(_cy2),a
	ld	(_cy1),a
	call	_cm_two_points
	ld	a,(_at1)
	and	8
	jp	nz,i_49	;
	ld	a,(_at2)
	and	8
	jp	z,i_48	;
.i_49
	C_LINE	0,"./my/ci/bg_collision/obstacle_up.h::player_move::3::45"
	C_LINE	337,"engine/player.h::player_move::3::45"
	ld	hl,0	;const
	ld	(_p_vy),hl
					ld  a, (_pty1)
					inc a 
					sla a
					sla a
					sla a
					sla a
									sub 8
					ld  (_gpy), a
					ld  a, (_gpy)
					call Ashl16_HL
					ld  (_p_y), hl
.i_48
.i_47
	ld	de,(_p_vy)
	ld	hl,(_ptgmy)
	add	hl,de
	ld	de,0
	ex	de,hl
	call	l_gt
	jp	nc,i_51	;
	ld	hl,(_pty2)
	ld	a,l
	ld	(_cy2),a
	ld	(_cy1),a
	call	_cm_two_points
	ld	a,(_at1)
	and	8
	jp	nz,i_53	;
	ld	a,(_at2)
	and	8
	jp	nz,i_53	;
	ld	hl,(_gpy)
	ld	h,0
	dec	hl
	ld	a,l
	and	15
	ld	l,a
	ld	h,0
	sub	8
	jp	nc,i_54	;
	ld	a,(_at1)
	and	4
	jp	nz,i_55	;
	ld	a,(_at2)
	and	4
	jp	z,i_54	;
.i_55
.i_53
	defc	i_54 = i_52
.i_58_i_54
	C_LINE	0,"./my/ci/bg_collision/obstacle_down.h::player_move::3::47"
	C_LINE	410,"engine/player.h::player_move::3::47"
	ld	hl,0	;const
	ld	(_p_vy),hl
					ld  a, (_pty2)
					dec a 
					sla a
					sla a
					sla a
					sla a
					ld  (_gpy), a
					ld  a, (_gpy)
					call Ashl16_HL
					ld  (_p_y), hl
.i_52
.i_51
					ld  a, (_p_vy)
					ld  c, a
					ld  a, (_p_vy + 1)
					or  c
					jr  z, evil_tile_check_vert_done
					ld  a, (_at1)
					and 1
					ld  c, a
					ld  a, (_at2) 
					and 1 
					or  c 
					ld  (_hit_v), a
				.evil_tile_check_vert_done
			ld  a, (_gpx)
			srl a
			srl a
			srl a
			srl a
			ld  (_gpxx), a
			ld  a, (_gpy)
			srl a
			srl a
			srl a
			srl a
			ld  (_gpyy), a
	ld	hl,(_gpy)
	ld	h,0
	ld	bc,16
	add	hl,bc
	ld	a,l
	rrca
	rrca
	rrca
	rrca
	and	15
	ld	l,a
	ld	h,0
	ld	(_cy2),a
	ld	a,l
	ld	(_cy1),a
	ld	a,(_ptx1)
	ld	(_cx1),a
	ld	hl,(_ptx2)
	ld	h,0
	ld	a,l
	ld	(_cx2),a
	call	_cm_two_points
	ld	a,(_at1)
	and	12
	jp	nz,i_59	;
	ld	a,(_at2)
	and	12
	jp	z,i_61	;
.i_59
	ld	hl,(_gpy)
	ld	h,0
	ld	a,15
	and	l
	ld	l,a
	sub	8
	jp	nc,i_61	;
	ld	hl,1	;const
	jr	i_62
.i_61
	ld	hl,0	;const
.i_62
	ld	a,l
	ld	(_possee),a
	ld	hl,4	;const
	call	cpc_TestKey
	ld	a,l
	ld	hl,_rda
	ld	(hl),a
	and	a
	jp	z,i_63	;
	ld	a,(_p_saltando)
	and	a
	jp	nz,i_64	;
	ld	a,(_possee)
	and	a
	jp	nz,i_66	;
	ld	a,(_p_gotten)
	and	a
	jp	nz,i_66	;
	ld	a,(_hit_v)
	and	a
	jp	z,i_65	;
.i_66
	ld	a,1
	ld	(_p_saltando),a
	xor	a
	ld	(_p_cont_salto),a
	ld	hl,12	;const
	call	_wyz_play_sound
	jp	i_68	;EOS
	defc	i_65 = i_68
.i_64
	ld	hl,(_p_vy)
	push	hl
	ld	hl,(_p_cont_salto)
	ld	h,0
	ld	a,l
	rrca
	and	127
	ld	l,a
	ld	de,128
	ex	de,hl
	and	a
	sbc	hl,de
	pop	de
	ex	de,hl
	and	a
	sbc	hl,de
	ld	(_p_vy),hl
	ld	a,l
	sub	192
	ld	a,h
	rla
	ccf
	rra
	sbc	126
	jp	nc,i_69	;
	ld	hl,65216	;const
	ld	(_p_vy),hl
.i_69
	ld	hl,(_p_cont_salto)
	ld	h,0
	inc	hl
	ld	a,l
	ld	hl,_p_cont_salto
	ld	(hl),a
	cp	9
	jp	nz,i_70	;
	xor	a
	ld	(_p_saltando),a
	jp	i_71	;EOS
	defc	i_70 = i_71
	defc	i_68 = i_71
.i_63
	xor	a
	ld	(_p_saltando),a
.i_71
	ld	hl,0	;const
	call	cpc_TestKey
	ld	a,h	
	or	l
	jp	nz,i_73	;
	inc	hl
	call	cpc_TestKey
	ld	a,h
	or	l
	jp	nz,i_73	;
	jr	i_74
.i_73
	ld	hl,1	;const
.i_74
	call	l_lneg
	jp	nc,i_72	;
	ld	hl,(_p_vx)
	ld	de,0
	ex	de,hl
	call	l_gt
	jp	nc,i_75	;
	ld	hl,(_p_vx)
	ld	bc,-32
	add	hl,bc
	ld	(_p_vx),hl
	ld	a,h
	rla
	jp	nc,i_76	;
	ld	hl,0	;const
	ld	(_p_vx),hl
	jp	i_77	;EOS
	defc	i_76 = i_77
.i_75
	ld	hl,(_p_vx)
	ld	a,h
	rla
	jp	nc,i_78	;
	ld	hl,(_p_vx)
	ld	bc,32
	add	hl,bc
	ld	(_p_vx),hl
	ld	de,0
	ex	de,hl
	call	l_gt
	jp	nc,i_79	;
	ld	hl,0	;const
	ld	(_p_vx),hl
.i_79
.i_78
.i_77
	xor	a
	ld	(_wall_h),a
.i_72
	ld	hl,0	;const
	call	cpc_TestKey
	ld	a,h
	or	l
	jp	z,i_80	;
	ld	hl,(_p_vx)
	ld	de,65344
	ex	de,hl
	call	l_gt
	jp	nc,i_81	;
	xor	a
	ld	(_p_facing),a
	ld	hl,(_p_vx)
	ld	bc,-24
	add	hl,bc
	ld	(_p_vx),hl
.i_81
.i_80
	ld	hl,1	;const
	call	cpc_TestKey
	ld	a,h
	or	l
	jp	z,i_82	;
	ld	hl,(_p_vx)
	ld	a,l
	sub	192
	ld	a,h
	rla
	ccf
	rra
	sbc	128
	jp	nc,i_83	;
	ld	hl,(_p_vx)
	ld	bc,24
	add	hl,bc
	ld	(_p_vx),hl
	ld	hl,1	;const
	ld	a,l
	ld	(_p_facing),a
.i_83
	C_LINE	0,"./my/ci/custom_heng.h::player_move::1::59"
	C_LINE	608,"engine/player.h::player_move::1::59"
.i_82
	ld	de,(_p_x)
	ld	hl,(_p_vx)
	add	hl,de
	ld	(_p_x),hl
	ex	de,hl
	ld	hl,(_ptgmx)
	add	hl,de
	ld	(_p_x),hl
	ld	a,h
	rla
	jp	nc,i_84	;
	ld	hl,0	;const
	ld	(_p_x),hl
.i_84
	ld	hl,(_p_x)
	ld	de,14336
	ex	de,hl
	call	l_gt
	jp	nc,i_85	;
	ld	hl,14336	;const
	ld	(_p_x),hl
.i_85
			ld  a, (_gpx)
			ld  (_gpox), a 
			ld  hl, (_p_x)
			call HLshr6_A
			ld  (_gpx), a	
	call	_player_calc_bounding_box
	xor	a
	ld	(_hit_h),a
	ld	a,(_pty1)
	ld	(_cy1),a
	ld	a,(_pty2)
	ld	(_cy2),a
	ld	de,(_p_vx)
	ld	hl,(_ptgmx)
	add	hl,de
	ld	a,h
	rla
	jp	nc,i_86	;
	ld	hl,(_ptx1)
	ld	a,l
	ld	(_cx2),a
	ld	(_cx1),a
	call	_cm_two_points
	ld	a,(_at1)
	and	8
	jp	nz,i_88	;
	ld	a,(_at2)
	and	8
	jp	z,i_87	;
.i_88
	C_LINE	0,"./my/ci/bg_collision/obstacle_left.h::player_move::3::61"
	C_LINE	648,"engine/player.h::player_move::3::61"
	ld	hl,0	;const
	ld	(_p_vx),hl
					ld  a, (_ptx1)
					inc a 
					sla a 
					sla a 
					sla a 
					sla a 
									sub 4
					ld  (_gpx), a
					ld  a, (_gpx)
					call Ashl16_HL
					ld  (_p_x), hl
					ld  a,  3 
					ld  (_wall_h), a
	jp	i_90	;EOS
.i_87
							ld  a, (_at1)
							and 1
							ld  c, a
							ld  a, (_at2)
							and 1
							or  c 
							ld  (_hit_h), a
.i_90
.i_86
	ld	de,(_p_vx)
	ld	hl,(_ptgmx)
	add	hl,de
	ld	de,0
	ex	de,hl
	call	l_gt
	jp	nc,i_91	;
	ld	hl,(_ptx2)
	ld	a,l
	ld	(_cx2),a
	ld	(_cx1),a
	call	_cm_two_points
	ld	a,(_at1)
	and	8
	jp	nz,i_93	;
	ld	a,(_at2)
	and	8
	jp	z,i_92	;
.i_93
	C_LINE	0,"./my/ci/bg_collision/obstacle_right.h::player_move::3::64"
	C_LINE	723,"engine/player.h::player_move::3::64"
	ld	hl,0	;const
	ld	(_p_vx),hl
					ld  a, (_ptx1)
					sla a 
					sla a 
					sla a 
					sla a 
									add 4
					ld  (_gpx), a
					ld  a, (_gpx)
					call Ashl16_HL
					ld  (_p_x), hl
					ld  a,  4 
					ld  (_wall_h), a
	jp	i_95	;EOS
.i_92
						ld  a, (_at1)
						and 1
						ld  c, a
						ld  a, (_at2)
						and 1
						or  c 
						ld  (_hit_h), a
.i_95
.i_91
			ld  a, (_gpx)
			add 8
			srl a
			srl a
			srl a
			srl a
			ld  (_p_tx), a 
			ld  (_cx1), a
			ld  c, a
			ld  a, (_gpy)
			add 8
			srl a
			srl a
			srl a
			srl a
			ld  (_p_ty), a 
			ld  (_cy1), a
			call _attr_2
			ld  a, l
			ld  (_rdb), a
	ld	hl,(_rdb)
	ld	h,0
	ld	a,128
	and	l
	ld	l,a
	ld	a,h
	or	l
	jp	z,i_96	;
	C_LINE	0,"./my/ci/on_special_tile.h::player_move::2::66"
	C_LINE	872,"engine/player.h::player_move::2::66"
.i_96
	ld	hl,(_wall_h)
	ld	h,0
	ld	a,l
	cp	3
	jp	nz,i_97	;
					ld  a, (_gpx)
									add 3
					srl a
					srl a
					srl a
					srl a
					ld  (_cx1), a				
					ld  c, a
					ld  a, (_cy1)
					call _attr_2 
					ld  a, l 
					cp  10
					jr  nz, p_int_left_no
					ld  a, (_cy1)
					ld  (_y0), a
					ld  (_y1), a
					ld  a, (_cx1)
					ld  (_x0), a 
					dec a 
					ld  (_x1), a 
					call _process_tile
				.p_int_left_no
	jp	i_98	;EOS
.i_97
	ld	hl,(_wall_h)
	ld	h,0
	ld	a,l
	cp	4
	jp	nz,i_99	;
					ld  a, (_gpx)
									add 12
					srl a
					srl a
					srl a
					srl a
					ld  (_cx1), a				
					ld  c, a
					ld  a, (_cy1)
					call _attr_2 
					ld  a, l 
					cp  10
					jr  nz, p_int_right_no
					ld  a, (_cy1)
					ld  (_y0), a
					ld  (_y1), a
					ld  a, (_cx1)
					ld  (_x0), a 
					inc a 
					ld  (_x1), a 
					call _process_tile
				.p_int_right_no
.i_99
.i_98
	xor	a
	ld	(_hit),a
	ld	a,(_hit_v)
	and	a
	jp	z,i_100	;
	ld	a,1
	ld	(_hit),a
	ld	hl,(_p_vy)
	call	l_neg
	push	hl
	ld	hl,192	;const
	push	hl
	call	_addsign
	pop	bc
	pop	bc
	ld	(_p_vy),hl
	jp	i_101	;EOS
.i_100
	ld	a,(_hit_h)
	and	a
	jp	z,i_102	;
	ld	a,1
	ld	(_hit),a
	ld	hl,(_p_vx)
	call	l_neg
	push	hl
	ld	hl,192	;const
	push	hl
	call	_addsign
	pop	bc
	pop	bc
	ld	(_p_vx),hl
.i_102
.i_101
	ld	a,(_hit)
	and	a
	jp	z,i_103	;
	ld	a,(_p_estado)
	and	a
	jp	nz,i_104	;
	ld	hl,13	;const
	ld	a,l
	ld	(_p_killme),a
.i_104
.i_103
	ld	a,(_possee)
	and	a
	jp	nz,i_106	;
	ld	a,(_p_gotten)
	and	a
	jp	nz,i_106	;
	defc	i_106 = i_105
.i_107_i_106
	ld	a,(_p_facing)
	and	a
	jp	z,i_108	;
	ld	hl,3	;const
	jp	i_109	;
.i_108
	ld	hl,7	;const
.i_109
	ld	a,l
	ld	(_gpit),a
	jp	i_110	;EOS
.i_105
	ld	a,(_p_facing)
	and	a
	jp	z,i_111	;
	ld	hl,0	;const
	jp	i_112	;
.i_111
	ld	hl,4	;const
.i_112
	ld	a,l
	ld	(_gpit),a
	ld	hl,(_p_vx)
	ld	a,h
	or	l
	jr	nz,ASMPC+3
	scf
	jp	nc,i_113	;
	ld	hl,_gpit
	inc	(hl)
	jp	i_114	;EOS
.i_113
	ld	hl,(_gpx)
	ld	h,0
	ld	bc,4
	add	hl,bc
	ld	a,l
	rrca
	rrca
	rrca
	and	3
	ld	hl,_rda
	ld	(hl),a
	cp	3
	jp	nz,i_115	;
	ld	a,1
	ld	(_rda),a
.i_115
	ld	de,(_gpit)
	ld	d,0
	ld	hl,(_rda)
	ld	h,d
	add	hl,de
	ld	h,0
	ld	a,l
	ld	(_gpit),a
.i_114
.i_110
	ld	hl,_sp_sw
	push	hl
	ld	hl,_sm_sprptr
	push	hl
	ld	hl,(_gpit)
	ld	h,0
	add	hl,hl
	pop	de
	add	hl,de
	call	l_gint	;
	call	l_pint_pop
	ld	hl,_sp_sw+8
	push	hl
	ld	hl,(_gpx)
	ld	h,0
	ld	bc,8
	add	hl,bc
	push	hl
	ld	hl,_sp_sw+6
	call	l_gchar
	pop	de
	add	hl,de
	ld	a,l
	rrca
	rrca
	and	63
	ld	l,a
	pop	de
	ld	(de),a
	ld	hl,_sp_sw+9
	push	hl
	ld	hl,(_gpy)
	ld	h,0
	ld	bc,24
	add	hl,bc
	push	hl
	ld	hl,_sp_sw+7
	call	l_gchar
	pop	de
	add	hl,de
	pop	de
	ld	a,l
	ld	(de),a
	ld	a,(_p_estado)
	and	2
	jp	z,i_117	;
	ld	a,(_half_life)
	and	a
	jp	z,i_117	;
	defc	i_117 = i_116
.i_118_i_117
	ld	de,_sp_sw
	ld	hl,_sprite_18_a
	call	l_pint
.i_116
	ret


	C_LINE	1184,"engine/player.h::player_move::0::76"

; Function player_deplete flags 0x00000200 __smallc 
; void player_deplete()
	C_LINE	1184,"engine/player.h::player_deplete::0::76"
._player_deplete
	ld	de,(_p_life)
	ld	d,0
	ld	hl,(_p_kill_amt)
	ld	h,d
	and	a
	sbc	hl,de
	jp	nc,i_119	;
	ld	de,(_p_life)
	ld	d,0
	ld	hl,(_p_kill_amt)
	ld	h,d
	ex	de,hl
	and	a
	sbc	hl,de
	jp	i_120	;
.i_119
	ld	hl,0	;const
.i_120
	ld	h,0
	ld	a,l
	ld	(_p_life),a
	ret


	C_LINE	1188,"engine/player.h::player_deplete::0::77"

; Function player_kill flags 0x00000200 __smallc 
; void player_kill(unsigned char sound)
; parameter 'unsigned char sound' at sp+2 size(1)
	C_LINE	1188,"engine/player.h::player_kill::0::77"
._player_kill
	ld	hl,0	;const
	ld	a,l
	ld	(_p_killme),a
	call	_player_deplete
	ld	hl,2	;const
	add	hl,sp
	ld	l,(hl)
	ld	h,0
	call	_wyz_play_sound
	ld	a,2
	ld	(_p_estado),a
	ld	hl,50	;const
	ld	a,l
	ld	(_p_ct_estado),a
	ret


	C_LINE	93,"mk1.c::player_kill::0::78"
	C_LINE	0,"engine/enengine.h::player_kill::0::78"
	C_LINE	35,"engine/enengine.h::player_kill::0::78"

; Function enems_init flags 0x00000200 __smallc 
; void enems_init()
	C_LINE	35,"engine/enengine.h::enems_init::0::78"
._enems_init
	xor	a
	ld	(_enit),a
.i_121
	ld	a,(_enit)
	sub	72
	jp	nc,i_122	;
	ld	hl,_malotes
	push	hl
	ld	hl,(_enit)
	ld	h,0
	ld	b,h
	ld	c,l
	add	hl,bc
	add	hl,bc
	ld	b,h
	ld	c,l
	add	hl,bc
	add	hl,bc
	pop	de
	add	hl,de
	ld	bc,8
	add	hl,bc
	push	hl
	ld	hl,_malotes
	push	hl
	ld	hl,(_enit)
	ld	h,0
	ld	b,h
	ld	c,l
	add	hl,bc
	add	hl,bc
	ld	b,h
	ld	c,l
	add	hl,bc
	add	hl,bc
	pop	de
	add	hl,de
	ld	bc,8
	add	hl,bc
	ld	a,(hl)
	and	239
	ld	l,a
	pop	de
	ld	(de),a
	ld	hl,_enit
	ld	a,(hl)
	inc	(hl)
	jp	i_121	;EOS
.i_122
	ret


	C_LINE	48,"engine/enengine.h::enems_init::0::80"

; Function enems_load flags 0x00000200 __smallc 
; void enems_load()
	C_LINE	48,"engine/enengine.h::enems_load::0::80"
._enems_load
	ld	hl,(_n_pant)
	ld	h,0
	ld	b,h
	ld	c,l
	add	hl,bc
	add	hl,bc
	ld	a,l
	ld	(_enoffs),a
	xor	a
	ld	(_enit),a
	jp	i_125	;EOS
.i_123
	ld	hl,_enit
	inc	(hl)
	ld	l,(hl)
	ld	h,0
.i_125
	ld	hl,(_enit)
	ld	h,0
	ld	a,l
	sub	3
	jp	nc,i_124	;
				ld  bc, (_enit)
				ld  b, 0
				ld  hl, _en_an_frame 
				add hl, bc
				xor a
				ld  (hl), a
				ld  hl, _en_an_state
				add hl, bc
				ld  (hl), a
				ld  hl, _en_an_count
				add hl, bc
				ld  a, 3
				ld  (hl), a
				ld  a, (_enit)
				ld  c, a 
				ld  a, (_enoffs)
				add c 
				ld  (_enoffsmasi), a
	C_LINE	0,"./my/ci/enems_custom_respawn.h::enems_load::3::82"
	C_LINE	97,"engine/enengine.h::enems_load::3::82"
	ld	hl,_en_an_next_frame
	push	hl
	ld	hl,(_enit)
	ld	h,0
	add	hl,hl
	pop	de
	add	hl,de
	ex	de,hl
	ld	hl,_sprite_18_a
	call	l_pint
	ld	hl,_malotes
	push	hl
	ld	hl,(_enoffsmasi)
	ld	h,0
	ld	b,h
	ld	c,l
	add	hl,bc
	add	hl,bc
	ld	b,h
	ld	c,l
	add	hl,bc
	add	hl,bc
	pop	de
	add	hl,de
	ld	bc,8
	add	hl,bc
	call	l_gchar
	ld	a,l
	and	31
	ld	hl,_rdt
	ld	(hl),a
	and	a
	jp	z,i_126	;
	ld	hl,(_rdt)
	ld	h,0
.i_129
	ld	a,l
	cp	+(1% 256)
	jp	z,i_130	;
	cp	+(2% 256)
	jp	z,i_131	;
	cp	+(3% 256)
	jp	z,i_132	;
	cp	+(4% 256)
	jp	z,i_133	;
	jp	i_134	;EOS
.i_130
.i_131
.i_132
.i_133
	ld	de,_en_an_base_frame
	ld	hl,(_enit)
	ld	h,0
	add	hl,de
	push	hl
	ld	hl,_malotes
	push	hl
	ld	hl,(_enoffsmasi)
	ld	h,0
	ld	b,h
	ld	c,l
	add	hl,bc
	add	hl,bc
	ld	b,h
	ld	c,l
	add	hl,bc
	add	hl,bc
	pop	de
	add	hl,de
	ld	bc,8
	add	hl,bc
	call	l_gchar
	dec	hl
	add	hl,hl
	ld	bc,8
	add	hl,bc
	pop	de
	ld	a,l
	ld	(de),a
	jp	i_128	;EOS
	C_LINE	0,"./my/ci/enems_load.h::enems_load::5::84"
	C_LINE	145,"engine/enengine.h::enems_load::5::84"
.i_134
	ld	de,_en_an_base_frame
	ld	hl,(_enit)
	ld	h,0
	add	hl,de
	ld	(hl),255
	jp	i_135	;EOS
	defc	i_128 = i_135
.i_126
	ld	de,_en_an_base_frame
	ld	hl,(_enit)
	ld	h,0
	add	hl,de
	ld	(hl),255
.i_135
	ld	hl,(_enit)
	inc	l
	ld	a,l
	ld	(_rda),a
	ld	de,_en_an_base_frame
	ld	hl,(_enit)
	ld	h,0
	add	hl,de
	ld	a,255
	cp	(hl)
	ld	hl,0	;const
	jr	z,ASMPC+3
	inc	hl
	ld	a,l
	ld	(_rdb),a
	ld	a,h
	or	l
	jp	z,i_136	;
	ld	hl,_sp_sw
	push	hl
	ld	hl,(_rda)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	bc,6
	add	hl,bc
	push	hl
	ld	de,_sm_cox
	ld	hl,(_rdb)
	ld	h,0
	add	hl,de
	ld	l,(hl)
	ld	a,l
	rla
	sbc	a
	ld	h,a
	pop	de
	ld	a,l
	ld	(de),a
	ld	hl,_sp_sw
	push	hl
	ld	hl,(_rda)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	bc,7
	add	hl,bc
	push	hl
	ld	de,_sm_coy
	ld	hl,(_rdb)
	ld	h,0
	add	hl,de
	ld	l,(hl)
	ld	a,l
	rla
	sbc	a
	ld	h,a
	pop	de
	ld	a,l
	ld	(de),a
	ld	hl,_sp_sw
	push	hl
	ld	hl,(_rda)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	bc,12
	add	hl,bc
	push	hl
	ld	hl,_sm_invfunc
	push	hl
	ld	hl,(_rdb)
	ld	h,0
	add	hl,hl
	pop	de
	add	hl,de
	call	l_gint	;
	call	l_pint_pop
	ld	hl,_sp_sw
	push	hl
	ld	hl,(_rda)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	bc,14
	add	hl,bc
	push	hl
	ld	hl,_sm_updfunc
	push	hl
	ld	hl,(_rdb)
	ld	h,0
	add	hl,hl
	pop	de
	add	hl,de
	call	l_gint	;
	call	l_pint_pop
	ld	hl,_en_an_next_frame
	push	hl
	ld	hl,(_enit)
	ld	h,0
	add	hl,hl
	pop	de
	add	hl,de
	push	hl
	ld	hl,_sm_sprptr
	push	hl
	ld	hl,(_rdb)
	ld	h,0
	add	hl,hl
	pop	de
	add	hl,de
	call	l_gint	;
	call	l_pint_pop
	jp	i_137	;EOS
.i_136
	ld	hl,_en_an_next_frame
	push	hl
	ld	hl,(_enit)
	ld	h,0
	add	hl,hl
	pop	de
	add	hl,de
	ex	de,hl
	ld	hl,_sprite_18_a
	call	l_pint
.i_137
	C_LINE	0,"./my/ci/enems_extra_mods.h::enems_load::3::87"
	C_LINE	171,"engine/enengine.h::enems_load::3::87"
	jp	i_123	;EOS
.i_124
	ret


	C_LINE	175,"engine/enengine.h::enems_load::0::87"

; Function enems_kill flags 0x00000200 __smallc 
; void enems_kill()
	C_LINE	175,"engine/enengine.h::enems_kill::0::87"
._enems_kill
			ld  a, (__en_t)
			cp  7
			jr  z, enems_kill_noflag
			or  16
			ld  (__en_t), a
		.enems_kill_noflag
			ld  hl, (_p_killed)
			inc (hl)
	C_LINE	0,"./my/ci/on_enems_killed.h::enems_kill::1::88"
	C_LINE	198,"engine/enengine.h::enems_kill::1::88"
	ret


	C_LINE	205,"engine/enengine.h::enems_kill::0::88"

; Function enems_move flags 0x00000200 __smallc 
; void enems_move()
	C_LINE	205,"engine/enengine.h::enems_move::0::88"
._enems_move
	ld	hl,0	;const
	ld	(_ptgmy),hl
	ld	(_ptgmx),hl
	ld	a,l
	ld	(_p_gotten),a
	ld	(_tocado),a
	xor	a
	ld	(_enit),a
	jp	i_140	;EOS
.i_138
	ld	hl,_enit
	ld	a,(hl)
	inc	(hl)
.i_140
	ld	hl,(_enit)
	ld	h,0
	ld	a,l
	sub	3
	jp	nc,i_139	;
				xor a 
				ld  (_active), a 
				ld  a, (_enit)
				ld  c, a 
				ld  a, (_enoffs)
				add c 
				ld  (_enoffsmasi), a
				ld 	hl, (_enoffsmasi)
				ld  h, 0
				ld  d, h
				ld  e, l 				 
				add hl, hl 				 
				add hl, hl 				 
				add hl, hl 				 
				add hl, de 				 
				ld  de, _malotes
				add hl, de
				ld  (__baddies_pointer), hl 		 
				ld  a, (hl)
				ld  (__en_x), a
				inc hl 
				ld  a, (hl)
				ld  (__en_y), a
				inc hl 
				ld  a, (hl)
				ld  (__en_x1), a
				inc hl 
				ld  a, (hl)
				ld  (__en_y1), a
				inc hl 
				ld  a, (hl)
				ld  (__en_x2), a
				inc hl 
				ld  a, (hl)
				ld  (__en_y2), a
				inc hl 
				ld  a, (hl)
				ld  (__en_mx), a
				inc hl 
				ld  a, (hl)
				ld  (__en_my), a
				inc hl 
				ld  a, (hl)
				ld  (__en_t), a
				and 0x1f
				ld  (_rdt), a
	ld	de,_en_an_state
	ld	hl,(_enit)
	ld	h,0
	add	hl,de
	ld	a,(hl)
	cp	4
	jp	nz,i_141	;
	ld	de,_en_an_count
	ld	hl,(_enit)
	ld	h,0
	add	hl,de
	dec	(hl)
	ld	de,_en_an_count
	ld	hl,(_enit)
	ld	h,0
	add	hl,de
	ld	a,(hl)
	and	a
	jp	nz,i_142	;
	ld	de,_en_an_state
	ld	hl,(_enit)
	ld	h,0
	add	hl,de
	ld	(hl),0
	ld	hl,_en_an_next_frame
	push	hl
	ld	hl,(_enit)
	ld	h,0
	add	hl,hl
	pop	de
	add	hl,de
	ex	de,hl
	ld	hl,_sprite_18_a
	call	l_pint
	jp	i_138	;EOS
.i_142
.i_141
	ld	hl,(_gpx)
	ld	h,0
	ld	bc,12
	add	hl,bc
	ex	de,hl
	ld	hl,(__en_x)
	ld	h,0
	call	l_uge
	jp	nc,i_143	;
	ld	hl,(_gpx)
	ld	h,0
	push	hl
	ld	hl,(__en_x)
	ld	h,0
	ld	bc,12
	add	hl,bc
	pop	de
	and	a
	sbc	hl,de
	ccf
	jp	nc,i_143	;
	ld	hl,1	;const
	jr	i_144
.i_143
	ld	hl,0	;const
.i_144
	ld	a,l
	ld	(_pregotten),a
	ld	hl,(_rdt)
	ld	h,0
.i_147
	ld	a,l
	cp	+(1% 256)
	jp	z,i_148	;
	cp	+(2% 256)
	jp	z,i_149	;
	cp	+(3% 256)
	jp	z,i_150	;
	cp	+(4% 256)
	jp	z,i_151	;
	jp	i_146	;EOS
.i_148
.i_149
.i_150
.i_151
	C_LINE	0,"./engine/enem_mods/enem_type_lineal.h::enems_move::4::93"
		ld 	a, 1
		ld  (_active), a
		ld  a, (__en_mx)
		ld  c, a
		ld  a, (__en_x)
		add a, c
		ld  (__en_x), a
		ld  c, a
		ld  a, (__en_x1)
		cp  c
		jr  z, _enems_lm_change_axis_x
		ld  a, (__en_x2)
		cp  c
			jr  z, _enems_lm_change_axis_x
		call _mons_col_sc_x_lineal
		xor a
		or l
		jr  z, _enems_lm_change_axis_x_done
	._enems_lm_change_axis_x
		ld  a, (__en_mx)
		neg
		ld  (__en_mx), a
	._enems_lm_change_axis_x_done
		ld  a, (__en_my)
		ld  c, a
		ld  a, (__en_y)
		add a, c
		ld  (__en_y), a
		ld  c, a
		ld  a, (__en_y1)
		cp  c
		jr  z, _enems_lm_change_axis_y
		ld  a, (__en_y2)
		cp  c
		jr  z, _enems_lm_change_axis_y
		call _mons_col_sc_y_lineal
		xor a
		or l
		jr  z, _enems_lm_change_axis_y_done
	._enems_lm_change_axis_y
		ld  a, (__en_my)
		neg
		ld  (__en_my), a
	._enems_lm_change_axis_y_done
	C_LINE	332,"engine/enengine.h::enems_move::4::93"
	jp	i_146	;EOS
	C_LINE	0,"./my/ci/enems_move.h::enems_move::4::93"
	C_LINE	350,"engine/enengine.h::enems_move::4::93"
.i_146
	ld	a,(_active)
	and	a
	jp	z,i_152	;
	ld	de,_en_an_base_frame
	ld	hl,(_enit)
	ld	h,0
	add	hl,de
	ld	l,(hl)
	ld	h,0
	ld	a,l
	cp	99
	jp	z,i_153	;
						ld  bc, (_enit)
						ld  b, 0
						ld  hl, _en_an_count
						add hl, bc
						ld  a, (hl)
						inc a
						ld  (hl), a
						cp  4
						jr  nz, _enems_move_update_frame_done
						xor a
						ld  (hl), a
						ld  hl, _en_an_frame
						add hl, bc
						ld  a, (hl)
						xor 1
						ld  (hl), a
						ld  hl, _en_an_base_frame
						add hl, bc
						ld  d, (hl)
						add d 							; A = en_an_base_frame [enit] + en_an_frame [enit]]
						sla c 							; Index 16 bits; it never overflows.
						ld  hl, _en_an_next_frame
						add hl, bc
						ex de, hl 						; DE -> en_an_next_frame [enit]
						sla a
						ld  c, a
						ld  b, 0
						ld  hl, _sm_sprptr
						add hl, bc 						; HL -> enem_cells [en_an_base_frame [enit] + en_an_frame [enit]]
						ldi
						ldi 							; Copy 16 bit
					._enems_move_update_frame_done
.i_153
	ld	a,(__en_t)
	cp	4
	jp	nz,i_154	;
	ld	a,(_pregotten)
	and	a
	jp	z,i_155	;
	ld	a,(__en_mx)
	and	a
	jp	z,i_156	;
	ld	hl,(_gpy)
	ld	h,0
	ld	bc,17
	add	hl,bc
	ex	de,hl
	ld	hl,(__en_y)
	ld	h,0
	call	l_uge
	jp	nc,i_158	;
	ld	hl,(_gpy)
	ld	h,0
	ld	bc,8
	add	hl,bc
	ex	de,hl
	ld	hl,(__en_y)
	ld	h,0
	and	a
	sbc	hl,de
	ccf
	jp	nc,i_158	;
	defc	i_158 = i_157
.i_159_i_158
	ld	a,1
	ld	(_p_gotten),a
	ld	hl,__en_mx
	call	l_gchar
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	ld	(_ptgmx),hl
	ld	hl,(__en_y)
	ld	h,0
	ld	bc,-16
	add	hl,bc
	ld	a,l
	ld	hl,_gpy
	ld	(hl),a
	ld	l,(hl)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	ld	(_p_y),hl
.i_157
.i_156
	ld	hl,__en_my
	ld	a,(hl)
	rla
	jp	nc,i_161	;
	ld	hl,(_gpy)
	ld	h,0
	ld	bc,18
	add	hl,bc
	ex	de,hl
	ld	hl,(__en_y)
	ld	h,0
	call	l_uge
	jp	nc,i_161	;
	ld	hl,(_gpy)
	ld	h,0
	ld	bc,8
	add	hl,bc
	ex	de,hl
	ld	hl,(__en_y)
	ld	h,0
	and	a
	sbc	hl,de
	ccf
	jp	c,i_163	;
.i_161
	jr	i_161_i_162
.i_162
	ld	a,h
	or	l
	jp	nz,i_163	;
.i_161_i_162
	ld	hl,__en_my
	call	l_gchar
	ld	de,0
	ex	de,hl
	call	l_gt
	jp	nc,i_164	;
	ld	hl,(_gpy)
	ld	h,0
	ld	bc,17
	add	hl,bc
	push	hl
	ld	hl,__en_my
	call	l_gchar
	pop	de
	add	hl,de
	ex	de,hl
	ld	hl,(__en_y)
	ld	h,0
	call	l_uge
	jp	nc,i_164	;
	ld	hl,(_gpy)
	ld	h,0
	ld	bc,8
	add	hl,bc
	ex	de,hl
	ld	hl,(__en_y)
	ld	h,0
	and	a
	sbc	hl,de
	ccf
	jp	nc,i_164	;
.i_163
	defc	i_164 = i_160
.i_166_i_164
	ld	a,1
	ld	(_p_gotten),a
	ld	hl,__en_my
	call	l_gchar
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	ld	(_ptgmy),hl
	ld	hl,(__en_y)
	ld	h,0
	ld	bc,-16
	add	hl,bc
	ld	a,l
	ld	hl,_gpy
	ld	(hl),a
	ld	l,(hl)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	ld	(_p_y),hl
	jp	i_167	;EOS
	defc	i_160 = i_167
	defc	i_155 = i_167
.i_154
	C_LINE	0,"./my/ci/custom_enems_player_collision.h::enems_move::5::101"
	C_LINE	445,"engine/enengine.h::enems_move::5::101"
	ld	a,(__en_x)
	ld	(_cx2),a
	ld	a,(__en_y)
	ld	(_cy2),a
	ld	a,(_tocado)
	and	a
	jp	nz,i_169	;
	call	_collide
	ld	a,h
	or	l
	jp	z,i_169	;
	ld	a,(_p_estado)
	and	a
	jp	nz,i_169	;
	defc	i_169 = i_168
.i_170_i_169
	ld	hl,(_gpy)
	ld	h,0
	push	hl
	ld	hl,(__en_y)
	ld	h,0
	dec	hl
	dec	hl
	pop	de
	ex	de,hl
	and	a
	sbc	hl,de
	jp	nc,i_172	;
	ld	hl,(_p_vy)
	ld	a,h
	rla
	ccf
	jp	nc,i_172	;
	ld	hl,(_rdt)
	ld	h,0
	ld	a,l
	sub	0
	ccf
	jp	nc,i_172	;
	defc	i_172 = i_171
.i_173_i_172
	ld	hl,6	;const
	call	_wyz_play_sound
	ld	de,_en_an_state
	ld	hl,(_enit)
	ld	h,0
	add	hl,de
	ld	(hl),4
	ld	de,_en_an_count
	ld	hl,(_enit)
	ld	h,0
	add	hl,de
	ld	(hl),12
	ld	hl,_en_an_next_frame
	push	hl
	ld	hl,(_enit)
	ld	h,0
	add	hl,hl
	pop	de
	add	hl,de
	ex	de,hl
	ld	hl,_sprite_17_a
	call	l_pint
	ld	hl,65280	;const
	ld	(_p_vy),hl
	call	_enems_kill
	jp	i_174	;EOS
.i_171
	ld	a,1
	ld	(_tocado),a
	ld	hl,14	;const
	ld	a,l
	ld	(_p_killme),a
	C_LINE	0,"./my/ci/on_enems_collision.h::enems_move::7::104"
	C_LINE	502,"engine/enengine.h::enems_move::7::104"
.i_174
.i_168
.i_167
.i_175
	C_LINE	0,"./my/ci/enems_extra_actions.h::enems_move::4::104"
	C_LINE	687,"engine/enengine.h::enems_move::4::104"
.i_152
	ld	hl,(_enit)
	inc	l
	ld	a,l
	ld	(_rda),a
	ld	de,_en_an_sprid
	ld	hl,(_enit)
	ld	h,0
	add	hl,de
	ld	a,(hl)
	ld	(_rdt),a
	ld	hl,_sp_sw
	push	hl
	ld	hl,(_rda)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	bc,8
	add	hl,bc
	push	hl
	ld	hl,(__en_x)
	ld	h,0
	ld	bc,8
	add	hl,bc
	push	hl
	ld	hl,_sp_sw
	push	hl
	ld	hl,(_rda)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	bc,6
	add	hl,bc
	call	l_gchar
	pop	de
	add	hl,de
	ld	a,l
	rrca
	rrca
	and	63
	ld	l,a
	pop	de
	ld	(de),a
	ld	hl,_sp_sw
	push	hl
	ld	hl,(_rda)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	bc,9
	add	hl,bc
	push	hl
	ld	hl,(__en_y)
	ld	h,0
	ld	bc,24
	add	hl,bc
	push	hl
	ld	hl,_sp_sw
	push	hl
	ld	hl,(_rda)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	bc,7
	add	hl,bc
	call	l_gchar
	pop	de
	add	hl,de
	pop	de
	ld	a,l
	ld	(de),a
	ld	a,(_rdt)
	cp	255
	jp	z,i_176	;
	ld	hl,_sp_sw
	push	hl
	ld	hl,(_rda)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	pop	de
	add	hl,de
	push	hl
	ld	hl,_en_an_next_frame
	push	hl
	ld	hl,(_enit)
	ld	h,0
	add	hl,hl
	pop	de
	add	hl,de
	call	l_gint	;
	call	l_pint_pop
	jp	i_177	;EOS
.i_176
	ld	hl,_sp_sw
	push	hl
	ld	hl,(_rda)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	pop	de
	add	hl,de
	ex	de,hl
	ld	hl,_sprite_18_a
	call	l_pint
.i_177
				ld  hl, (__baddies_pointer) 		 
				ld  a, (__en_x)
				ld  (hl), a
				inc hl
				ld  a, (__en_y)
				ld  (hl), a
				inc hl
				ld  a, (__en_x1)
				ld  (hl), a
				inc hl
				ld  a, (__en_y1)
				ld  (hl), a
				inc hl
				ld  a, (__en_x2)
				ld  (hl), a
				inc hl
				ld  a, (__en_y2)
				ld  (hl), a
				inc hl
				ld  a, (__en_mx)
				ld  (hl), a
				inc hl
				ld  a, (__en_my)
				ld  (hl), a
				inc hl
				ld  a, (__en_t)
				ld  (hl), a
				inc hl
	jp	i_138	;EOS
.i_139
	ret


	C_LINE	94,"mk1.c::enems_move::0::104"
	C_LINE	0,"engine/hotspots.h::enems_move::0::104"
	C_LINE	7,"engine/hotspots.h::enems_move::0::104"

; Function hotspots_init flags 0x00000200 __smallc 
; void hotspots_init()
	C_LINE	7,"engine/hotspots.h::hotspots_init::0::104"
._hotspots_init
				ld  b,  4  *  6 
				ld  hl, _hotspots + 2
				ld  de, 3
				ld  a, 1
			.init_hotspots_loop
				ld  (hl), a
				add hl, de
				djnz init_hotspots_loop
	ret


	C_LINE	30,"engine/hotspots.h::hotspots_init::0::105"

; Function hotspots_do flags 0x00000200 __smallc 
; void hotspots_do()
	C_LINE	30,"engine/hotspots.h::hotspots_do::0::105"
._hotspots_do
	ld	hl,_hotspots
	push	hl
	ld	hl,(_n_pant)
	ld	h,0
	ld	b,h
	ld	c,l
	add	hl,bc
	add	hl,bc
	pop	de
	add	hl,de
	inc	hl
	inc	hl
	ld	a,(hl)
	and	a
	jp	nz,i_178	;
	ret


.i_178
	ld	a,(_hotspot_x)
	ld	(_cx2),a
	ld	hl,(_hotspot_y)
	ld	h,0
	ld	a,l
	ld	(_cy2),a
	call	_collide
	ld	a,h
	or	l
	jp	z,i_179	;
	ld	a,1
	ld	(_hotspot_destroy),a
	ld	hl,_hotspots
	push	hl
	ld	hl,(_n_pant)
	ld	h,0
	ld	b,h
	ld	c,l
	add	hl,bc
	add	hl,bc
	pop	de
	add	hl,de
	inc	hl
	ld	l,(hl)
	ld	h,0
.i_182
	ld	a,l
	cp	+(2% 256)
	jp	z,i_183	;
	cp	+(3% 256)
	jp	z,i_184	;
	jp	i_181	;EOS
.i_183
	ld	hl,_p_keys
	ld	a,(hl)
	inc	(hl)
	ld	hl,10	;const
	call	_wyz_play_sound
	jp	i_181	;EOS
.i_184
	ld	hl,(_p_life)
	inc	l
	ld	a,l
	ld	hl,_p_life
	ld	(hl),a
	ld	a,20
	sub	(hl)
	jp	nc,i_185	;
	ld	a,20
	ld	(_p_life),a
.i_185
	ld	hl,11	;const
	call	_wyz_play_sound
	jp	i_181	;EOS
	C_LINE	0,"./my/ci/hotspots_custom.h::hotspots_do::3::108"
	C_LINE	117,"engine/hotspots.h::hotspots_do::3::108"
.i_181
	ld	a,(_hotspot_destroy)
	and	a
	jp	z,i_186	;
	ld	hl,_hotspots
	push	hl
	ld	hl,(_n_pant)
	ld	h,0
	ld	b,h
	ld	c,l
	add	hl,bc
	add	hl,bc
	pop	de
	add	hl,de
	inc	hl
	inc	hl
	ld	(hl),0
	ld	hl,(_hotspot_x)
	ld	h,0
	ld	a,l
	rrca
	rrca
	rrca
	rrca
	and	15
	ld	l,a
	ld	h,0
	ld	(__x),a
	ld	hl,(_hotspot_y)
	ld	h,0
	ld	a,l
	rrca
	rrca
	rrca
	rrca
	and	15
	ld	l,a
	ld	h,0
	ld	(__y),a
	ld	hl,(_orig_tile)
	ld	h,0
	ld	a,l
	ld	(__t),a
	call	_draw_invalidate_coloured_tile_gamearea
	ld	hl,240	;const
	ld	a,l
	ld	(_hotspot_y),a
.i_186
.i_179
	ret


	C_LINE	95,"mk1.c::hotspots_do::0::109"
	C_LINE	0,"my/wyz/efectos.h::hotspots_do::0::109"
	C_LINE	4,"my/wyz/efectos.h::hotspots_do::0::109"
	.EFECTO0 
		defb 0x25, 0x1C, 0x00
		defb 0x3A, 0x0F, 0x00
		defb 0x2D, 0x0F, 0x00
		defb 0xE2, 0x0F, 0x00
		defb 0xBC, 0x0F, 0x00
		defb 0x96, 0x0D, 0x00
		defb 0x4B, 0x0D, 0x00
		defb 0x32, 0x0D, 0x00
		defb 0x3A, 0x0D, 0x00
		defb 0x2D, 0x0D, 0x00
		defb 0xE2, 0x0D, 0x00
		defb 0xBC, 0x0D, 0x00
		defb 0x96, 0x0D, 0x00
		defb 0x4B, 0x0D, 0x00
		defb 0x32, 0x0D, 0x00
		defb 0x3A, 0x0D, 0x00
		defb 0x2D, 0x0C, 0x00
		defb 0xE2, 0x0C, 0x00
		defb 0xBC, 0x0C, 0x00
		defb 0x96, 0x0B, 0x00
		defb 0x4B, 0x0B, 0x00
		defb 0x32, 0x0B, 0x00
		defb 0x3A, 0x0B, 0x00
		defb 0x2D, 0x0B, 0x00
		defb 0xE2, 0x0B, 0x00
		defb 0xBC, 0x0B, 0x00
		defb 0x96, 0x0B, 0x00
		defb 0x4B, 0x0A, 0x00
		defb 0x32, 0x0A, 0x00
		defb 0x3A, 0x0A, 0x00
		defb 0x2D, 0x09, 0x00
		defb 0xE2, 0x09, 0x00
		defb 0xBC, 0x08, 0x00
		defb 0x96, 0x08, 0x00
		defb 0x4B, 0x08, 0x00
		defb 0x32, 0x07, 0x00
		defb 0x3A, 0x07, 0x00
		defb 0x2D, 0x06, 0x00
		defb 0xE2, 0x06, 0x00
		defb 0xBC, 0x06, 0x00
		defb 0x96, 0x05, 0x00
		defb 0x4B, 0x05, 0x00
		defb 0x32, 0x05, 0x00
		defb 0x3A, 0x04, 0x00
		defb 0x2D, 0x04, 0x00
		defb 0xE2, 0x03, 0x00
		defb 0xBC, 0x03, 0x00
		defb 0x96, 0x03, 0x00
		defb 0x4B, 0x03, 0x00
		defb 0x32, 0x02, 0x00
		defb 0x3A, 0x01, 0x00
		defb 0x2D, 0x01, 0x00
		defb 0xE2, 0x01, 0x00
		defb 0xBC, 0x01, 0x00
		defb 0xFF
	.EFECTO1 
		defb 0xC3, 0x0E, 0x00
		defb 0x5F, 0x0F, 0x00
		defb 0xA6, 0x0F, 0x00
		defb 0xE8, 0x1B, 0x00
		defb 0x80, 0x2B, 0x00
		defb 0xFF
	.EFECTO2 
		defb 0x1F, 0x0B, 0x00
		defb 0x5A, 0x0F, 0x00
		defb 0x3C, 0x0F, 0x00
		defb 0x1E, 0x0A, 0x00
		defb 0x2D, 0x0A, 0x00
		defb 0x5A, 0x05, 0x00
		defb 0x3C, 0x05, 0x00
		defb 0x1E, 0x04, 0x00
		defb 0x2D, 0x02, 0x00
		defb 0xB4, 0x01, 0x00
		defb 0xFF
	.EFECTO3 
		defb 0xE8, 0x1B, 0x00
		defb 0x5F, 0x0F, 0x00
		defb 0xA6, 0x0F, 0x00
		defb 0x00, 0x00, 0x00
		defb 0x80, 0x0F, 0x00
		defb 0xFF
	.EFECTO4 
		defb 0x1F, 0x0B, 0x00
		defb 0xAF, 0x0F, 0x00
		defb 0x8A, 0x0F, 0x00
		defb 0x71, 0x0F, 0x00
		defb 0x64, 0x0F, 0x00
		defb 0x3E, 0x0C, 0x00
		defb 0x25, 0x0C, 0x00
		defb 0x25, 0x0C, 0x00
		defb 0x25, 0x0C, 0x00
		defb 0x25, 0x0A, 0x00
		defb 0x4B, 0x0A, 0x00
		defb 0x4B, 0x0A, 0x00
		defb 0x4B, 0x0A, 0x00
		defb 0x3E, 0x08, 0x00
		defb 0x3E, 0x08, 0x00
		defb 0x3E, 0x08, 0x00
		defb 0x71, 0x08, 0x00
		defb 0x3E, 0x07, 0x00
		defb 0x25, 0x05, 0x00
		defb 0x25, 0x02, 0x00
		defb 0xFF
	.EFECTO5 
		defb 0x1F, 0x0B, 0x00
		defb 0x5A, 0x0F, 0x00
		defb 0x3C, 0x0F, 0x00
		defb 0x1E, 0x0A, 0x00
		defb 0x2D, 0x0A, 0x00
		defb 0x5A, 0x05, 0x00
		defb 0x3C, 0x05, 0x00
		defb 0x1E, 0x04, 0x00
		defb 0x2D, 0x02, 0x00
		defb 0xB4, 0x01, 0x00
		defb 0xFF
	.EFECTO6 
		defb 0xE8, 0x1B, 0x00
		defb 0x5F, 0x0F, 0x00
		defb 0xE2, 0x0F, 0x00
		defb 0x56, 0x0F, 0x00
		defb 0xF6, 0x0F, 0x00
		defb 0x14, 0x0E, 0x00
		defb 0x64, 0x0E, 0x00
		defb 0x62, 0x0D, 0x00
		defb 0xD0, 0x0D, 0x00
		defb 0xF1, 0x0C, 0x00
		defb 0xFF
	.EFECTO7 
		defb 0xC3, 0x0E, 0x00
		defb 0x5F, 0x0F, 0x00
		defb 0xA6, 0x0F, 0x00
		defb 0xE8, 0x1B, 0x00
		defb 0x80, 0x2B, 0x00
		defb 0xFF
	.EFECTO8 
		defb 0x1F, 0x0B, 0x00
		defb 0x5A, 0x0F, 0x00
		defb 0x3C, 0x0F, 0x00
		defb 0x1E, 0x0A, 0x00
		defb 0x2D, 0x0A, 0x00
		defb 0x5A, 0x05, 0x00
		defb 0x3C, 0x05, 0x00
		defb 0x1E, 0x04, 0x00
		defb 0x2D, 0x02, 0x00
		defb 0xB4, 0x01, 0x00
		defb 0xFF
	.EFECTO9 
		defb 0xE8, 0x1B, 0x00
		defb 0x5F, 0x0F, 0x00
		defb 0xA6, 0x0F, 0x00
		defb 0x00, 0x00, 0x00
		defb 0x80, 0x0F, 0x00
		defb 0xFF
	.EFECTO10 
		defb 0x1F, 0x0B, 0x00
		defb 0x5A, 0x0F, 0x00
		defb 0x3C, 0x0F, 0x00
		defb 0x1E, 0x0A, 0x00
		defb 0x2D, 0x0A, 0x00
		defb 0x5A, 0x05, 0x00
		defb 0x3C, 0x05, 0x00
		defb 0x1E, 0x04, 0x00
		defb 0x2D, 0x02, 0x00
		defb 0xB4, 0x01, 0x00
		defb 0xFF
	.EFECTO11 
		defb 0x1A, 0x0E, 0x00
		defb 0xB4, 0x0E, 0x00
		defb 0xB4, 0x0E, 0x00
		defb 0xB4, 0x0E, 0x00
		defb 0xB4, 0x0E, 0x00
		defb 0xB4, 0x0E, 0x00
		defb 0xB4, 0x0E, 0x00
		defb 0xB4, 0x0E, 0x00
		defb 0xB4, 0x0E, 0x00
		defb 0xA0, 0x0E, 0x00
		defb 0xA0, 0x0E, 0x00
		defb 0xA0, 0x0E, 0x00
		defb 0xA0, 0x0E, 0x00
		defb 0xA0, 0x0E, 0x00
		defb 0xA0, 0x0E, 0x00
		defb 0xA0, 0x0E, 0x00
		defb 0x87, 0x0E, 0x00
		defb 0x87, 0x0E, 0x00
		defb 0x87, 0x0E, 0x00
		defb 0x87, 0x0E, 0x00
		defb 0x87, 0x0E, 0x00
		defb 0x87, 0x0E, 0x00
		defb 0x87, 0x0E, 0x00
		defb 0x87, 0x0E, 0x00
		defb 0x87, 0x0E, 0x00
		defb 0x78, 0x0E, 0x00
		defb 0x78, 0x0E, 0x00
		defb 0x78, 0x0D, 0x00
		defb 0x78, 0x0D, 0x00
		defb 0x78, 0x0D, 0x00
		defb 0x78, 0x0D, 0x00
		defb 0x78, 0x0D, 0x00
		defb 0x78, 0x0D, 0x00
		defb 0x78, 0x0C, 0x00
		defb 0x78, 0x09, 0x00
		defb 0x78, 0x06, 0x00
		defb 0x78, 0x05, 0x00
		defb 0xFF
	.EFECTO12 
		defb 0xE8, 0x1B, 0x00
		defb 0xB4, 0x0F, 0x00
		defb 0xA0, 0x0E, 0x00
		defb 0x90, 0x0D, 0x00
		defb 0x87, 0x0D, 0x00
		defb 0x78, 0x0C, 0x00
		defb 0x6C, 0x0B, 0x00
		defb 0x60, 0x0A, 0x00
		defb 0x5A, 0x09, 0x00
		defb 0xFF
	.EFECTO13 
		defb 0xE8, 0x1B, 0x00
		defb 0x5F, 0x0F, 0x00
		defb 0xA6, 0x0F, 0x00
		defb 0x00, 0x00, 0x00
		defb 0x80, 0x0F, 0x00
		defb 0xFF
	.EFECTO14 
		defb 0xE8, 0x1B, 0x00
		defb 0x5F, 0x0F, 0x00
		defb 0xA6, 0x0F, 0x00
		defb 0x00, 0x00, 0x00
		defb 0x80, 0x0F, 0x00
		defb 0xFF
	C_LINE	102,"mk1.c::hotspots_do::0::109"
	C_LINE	0,"my/wyz/instrumentos.h::hotspots_do::0::109"
	C_LINE	7,"my/wyz/instrumentos.h::hotspots_do::0::109"
    ; Tabla de instrumentos 
    .TABLA_PAUTAS
        defw PAUTA_0,PAUTA_1,PAUTA_2,PAUTA_3,PAUTA_4,PAUTA_5 
    ; Tabla de efectos 
    .TABLA_SONIDOS
        defw SONIDO0,SONIDO1,SONIDO2,SONIDO3 
    ;Pautas (instrumentos) 
    ;Instrumento 'Piano' 
    .PAUTA_0
        defb 47,0,15,0,13,0,11,0,4,0,129 
    ;Instrumento 'PICC' 
    .PAUTA_1
        defb 76,0,13,0,12,0,11,0,10,0,8,0,7,0,5,0,1,0,129 
    ;Instrumento 'Flauta vol bajo' 
    .PAUTA_2
        defb 12,0,9,0,7,0,9,0,11,0,9,0,10,0,10,0,8,0,10,0,129 
    ;Instrumento 'Flauta' 
    .PAUTA_3
        defb 10,0,12,0,13,0,13,0,13,0,12,0,11,0,11,0,11,0,10,0,10,0,10,0,10,0,10,0,9,0,9,0,9,0,9,0,9,0,138 
    ;Instrumento 'Picc vol 2' 
    .PAUTA_4
        defb 71,0,6,0,7,0,6,0,5,0,129 
    ;Instrumento 'Eco' 
    .PAUTA_5
        defb 6,0,8,0,9,0,8,0,7,0,6,0,129 
    ;Efectos 
    ;Efecto 'bass drum' 
    .SONIDO0
        defb 209,62,0,186,92,0,255 
    ;Efecto 'drum' 
    .SONIDO1
        defb 139,46,0,232,43,8,255 
    ;Efecto 'hithat' 
    .SONIDO2
        defb 0,11,1,0,6,1,255 
    ;Efecto 'bass drum vol 2' 
    .SONIDO3
        defb 186,58,0,0,102,0,162,131,0,255 
    ;Frecuencias para las notas 
	C_LINE	103,"mk1.c::hotspots_do::0::109"
	C_LINE	0,"my/wyz/songs.h::hotspots_do::0::109"
	C_LINE	4,"my/wyz/songs.h::hotspots_do::0::109"
	C_LINE	6,"my/wyz/songs.h::hotspots_do::0::109"
	._00_title_mus_bin
		BINARY "../mus/00_title.mus.bin"
	._01_ingame_mus_bin
		BINARY "../mus/01_ingame.mus.bin"
	._wyz_songs
		defw 	_00_title_mus_bin, _01_ingame_mus_bin
	C_LINE	104,"mk1.c::hotspots_do::0::109"
	C_LINE	0,"wyz_player.h::hotspots_do::0::109"
	C_LINE	8,"wyz_player.h::hotspots_do::0::109"

; Function wyz_init flags 0x00000200 __smallc 
; void wyz_init()
	C_LINE	8,"wyz_player.h::wyz_init::0::109"
._wyz_init
	ld	hl,0	;const
	ld	a,l
	ld	(_isr_player_on),a
		call WYZPLAYER_INIT
	ret


	C_LINE	17,"wyz_player.h::wyz_init::0::110"

; Function wyz_play_music flags 0x00000208 __smallc __z88dk_fastcall 
; void wyz_play_music(unsigned char m)
; parameter 'unsigned char m' at sp+2 size(1)
	C_LINE	17,"wyz_player.h::wyz_play_music::0::110"
._wyz_play_music
	push	hl
	ld	hl,_wyz_songs
	push	hl
	ld	hl,2	;const
	add	hl,sp
	ld	l,(hl)
	ld	h,0
	add	hl,hl
	pop	de
	add	hl,de
	ld	e,(hl)
	inc	hl
	ld	d,(hl)
	push	de
	ld	hl,34816	;const
	push	hl
	call	_unpack
	pop	bc
	pop	bc
		ld  a, 0
		call CARGA_CANCION
		ld  a, 1
		ld  (_isr_player_on), a
	pop	bc
	ret


	C_LINE	29,"wyz_player.h::wyz_play_music::0::111"

; Function wyz_play_sound flags 0x00000208 __smallc __z88dk_fastcall 
; void wyz_play_sound(unsigned char s)
; parameter 'unsigned char s' at sp+2 size(1)
	C_LINE	29,"wyz_player.h::wyz_play_sound::0::111"
._wyz_play_sound
	push	hl
		; Sound number is in L
		ld  a, l
		ld  b,  1 
		call INICIA_EFECTO
	pop	bc
	ret


	C_LINE	40,"wyz_player.h::wyz_play_sound::0::112"

; Function wyz_stop_sound flags 0x00000200 __smallc 
; void wyz_stop_sound()
	C_LINE	40,"wyz_player.h::wyz_stop_sound::0::112"
._wyz_stop_sound
		call PLAYER_OFF
		xor a
		ld  (_isr_player_on), a
	ret


	C_LINE	50,"wyz_player.h::wyz_stop_sound::0::113"
	;  1  PSG proPLAYER V 0.47c - WYZ 19.03.2016
	; (WYZTracker 2.0 o superior)
	.WYZPLAYER_INIT
		CALL PLAYER_OFF
		LD DE, 0x0020 		; No. BYTES RESERVADOS POR CANAL
		LD HL,  0xDF80  	;* RESERVAR MEMORIA PARA BUFFER DE SONIDO!!!!!
		LD (CANAL_A), HL
		ADD HL, DE
		LD (CANAL_B), HL
		ADD HL, DE
		LD (CANAL_C), HL
		ADD HL, DE
		LD (CANAL_P), HL
	RET
	.INICIO
	.WYZ_PLAYER_ISR
		CALL ROUT
		LD HL,PSG_REG
		LD DE,PSG_REG_SEC
		LD BC,14
		LDIR
		CALL REPRODUCE_SONIDO
		CALL PLAY
		JP REPRODUCE_EFECTO
	; REPRODUCE UN SONIDO POR EL CANAL ESPECIFICADO
	; IN 
	; A = NUMERO DE SONIDO
	; B = CANAL 
	.INICIA_SONIDO 
		LD HL, TABLA_SONIDOS
		CALL EXT_WORD
		LD (PUNTERO_SONIDO), DE
		LD HL, INTERR
		SET 2, (HL)
		; na_th_an :: Percussion channel is fixed to 1
		;LD A, 1
		;LD HL, TABLA_DATOS_CANAL_SFX
		;CALL EXT_WORD
		;LD (SONIDO_REGS), DE
	RET
	; REPRODUCE UN FX POR EL CANAL ESPECIFICADO
	; IN 
	; A = NUMERO DE SONIDO
	; B = CANAL 
	.INICIA_EFECTO 
		LD HL, TABLA_EFECTOS
		CALL EXT_WORD
		LD (PUNTERO_EFECTO), DE
		LD HL, INTERR
		SET 3, (HL)
		LD A, B
		LD HL, TABLA_DATOS_CANAL_SFX
		CALL EXT_WORD
		LD (EFECTO_REGS), DE
	RET
	;REPRODUCE EFECTOS DE SONIDO 
	.REPRODUCE_SONIDO
		LD HL, INTERR
		BIT 2,(HL) ;ESTA ACTIVADO EL EFECTO?
		RET Z
		LD HL, (SONIDO_REGS)
		PUSH HL
		POP IX
		LD HL, (PUNTERO_SONIDO)
		CALL REPRODUCE_SONIDO_O_EFECTO
		OR A
		JR Z, REPRODUCE_SONIDO_LIMPIA_BIT
		LD (PUNTERO_SONIDO), HL
		RET
	.REPRODUCE_SONIDO_LIMPIA_BIT
		LD HL, INTERR
		RES 2, (HL)
		RET
	.REPRODUCE_EFECTO
		LD HL, INTERR
		BIT 3, (HL)
		RET Z
		LD HL, (EFECTO_REGS)
		PUSH HL
		POP IX
		LD HL, (PUNTERO_EFECTO)
		CALL REPRODUCE_SONIDO_O_EFECTO
		OR A
		JR Z, REPRODUCE_EFECTO_LIMPIA_BIT
		LD (PUNTERO_EFECTO), HL
		RET
	.REPRODUCE_EFECTO_LIMPIA_BIT
		LD HL, INTERR
		RES 3, (HL)
		RET
	.REPRODUCE_SONIDO_O_EFECTO
		LD A,(HL)
		CP 0xFF
		JR Z,FIN_SONIDO
		LD E, (IX+0) ; IX+0 -> SFX_L LO
		LD D, (IX+1) ; IX+1 -> SFX_L HI
		LD (DE),A
		INC HL
		LD A,(HL)
		RRCA
		RRCA
		RRCA
		RRCA
		AND 00001111B
		LD E, (IX+2) ; IX+2 -> SFX_H LO
		LD D, (IX+3) ; IX+3 -> SFX_H HI
		LD (DE),A
		LD A,(HL)
		AND 00001111B
		LD E, (IX+4) ; IX+4 -> SFX_V LO
		LD D, (IX+5) ; IX+5 -> SFX_V HI
		LD (DE),A
		INC HL
		LD A,(HL)
		LD B,A
		BIT 7,A ;09.08.13 BIT MAS SIGINIFICATIVO ACTIVA ENVOLVENTES
		JR Z,NO_ENVOLVENTES_SONIDO
		LD A,0x12
		LD (DE),A
		INC HL
		LD A,(HL)
		LD (PSG_REG_SEC+11),A
		INC HL
		LD A,(HL)
		LD (PSG_REG_SEC+12),A
		INC HL
		LD A,(HL)
		CP 1
		JR Z,NO_ENVOLVENTES_SONIDO ;NO ESCRIBE LA ENVOLVENTE SI SU VALOR ES 1
		LD (PSG_REG_SEC+13),A 
	.NO_ENVOLVENTES_SONIDO
		LD A,B
		AND 0x7F ; RES 7,A ; AND A
		JR Z,NO_RUIDO
		LD (PSG_REG_SEC+6),A
		LD A, (IX+6) ; IX+6 -> SFX_MIX
		JR SI_RUIDO
	.NO_RUIDO XOR A
		LD (PSG_REG_SEC+6),A
		LD A,10111000B
	.SI_RUIDO LD (PSG_REG_SEC+7),A 
		INC HL
		LD A, 1
		RET
	.FIN_SONIDO
		LD A,(ENVOLVENTE_BACK) ;NO RESTAURA LA ENVOLVENTE SI ES 0
		AND A
		JR Z,FIN_NOPLAYER
		;xor a ; ***
		LD (PSG_REG_SEC+13),A ;08.13 RESTAURA LA ENVOLVENTE TRAS EL SFX
	.FIN_NOPLAYER
		LD A,10111000B
		LD (PSG_REG_SEC+7),A
		XOR A
		RET 
	;VUELCA BUFFER DE SONIDO AL PSG
	.ROUT
		LD A,(PSG_REG+13) 
		AND A ;ES CERO?
		JR Z,NO_BACKUP_ENVOLVENTE
		LD (ENVOLVENTE_BACK),A ;08.13 / GUARDA LA ENVOLVENTE EN EL BACKUP
		XOR A
		.NO_BACKUP_ENVOLVENTE
	;VUELCA BUFFER DE SONIDO AL PSG
		LD HL,PSG_REG_SEC
	.LOUT
		CALL WRITEPSGHL
		INC A
		CP 13
		JR NZ,LOUT
		LD A,(HL)
		AND A
		RET Z
		LD A,13
		CALL WRITEPSGHL
		XOR A
		LD (PSG_REG+13),A
		LD (PSG_REG_SEC+13),A
		RET
	;; A = REGISTER
	;; (HL) = VALUE
	.WRITEPSGHL
		LD B,0xF4 
		OUT (C),A 
		LD BC,0xF6C0 
		OUT (C),C 
		DEFB 0xED 
		DEFB 0x71 
		LD B,0xF5 
		OUTI 
		LD BC,0xF680 
		OUT (C),C 
		DEFB 0xED 
		DEFB 0x71 
		RET
	;PLAYER OFF
	.PLAYER_OFF 
		XOR A ;***** IMPORTANTE SI NO HAY MUSICA ****
		LD (INTERR),A
		;LD (FADE),A ;solo si hay fade out
	.CLEAR_PSG_BUFFER
		LD HL,PSG_REG
		LD DE,PSG_REG+1
		LD BC,14
		LD (HL),A
		LDIR
		LD A,10111000B ; **** POR SI ACASO ****
		LD (PSG_REG+7),A
		LD HL,PSG_REG
		LD DE,PSG_REG_SEC
		LD BC,14
		LDIR 
		JP ROUT
	;CARGA UNA CANCION
	;.IN(A)=N DE CANCION
	.CARGA_CANCION
		LD HL,INTERR ;CARGA CANCION 
		SET 1,(HL) ;REPRODUCE CANCION
		LD HL,SONG
		LD (HL),A ;N A
	;DECODIFICAR
	;IN-> INTERR 0 ON
	; SONG
	;CARGA CANCION SI/NO
	.DECODE_SONG 
		LD A,(SONG)
	;LEE CABECERA DE LA CANCION
	;BYTE 0=TEMPO
		LD HL,TABLA_SONG
		CALL EXT_WORD
		LD A,(DE)
		LD (TEMPO),A
		DEC A
		LD (TTEMPO),A
	;HEADER BYTE 1
	;[-|-|-|-| 3-1 | 0 ]
	;[-|-|-|-|FX CHN|LOOP]
		INC DE ;LOOP 1=ON/0=OFF?
		LD A,(DE)
		BIT 0,A
		JR Z,NPTJP0
		LD HL,INTERR
		SET 4,(HL)
	;SELECCION DEL CANAL DE EFECTOS DE RITMO
	.NPTJP0
		AND 00000110B 
		RRA
		;LD (SELECT_CANAL_P),A
		PUSH DE
		; na_th_an :: Percussion channel is fixed to 1
		;LD HL, TABLA_DATOS_CANAL_SFX
		;CALL EXT_WORD
		;LD (SONIDO_REGS), DE
		POP HL
		INC HL ;2 BYTES RESERVADOS
		INC HL
		INC HL
	;BUSCA Y GUARDA INICIO DE LOS CANALES EN EL MODULO MUS (OPTIMIZAR****************)
	;AADE OFFSET DEL LOOP
		PUSH HL ;IX INICIO OFFSETS LOOP POR CANAL
		POP IX
		LD DE,0x0008 ;HASTA INICIO DEL CANAL A
		ADD HL,DE
		LD (PUNTERO_P_DECA),HL ;GUARDA PUNTERO INICIO CANAL
		LD E,(IX+0)
		LD D,(IX+1)
		ADD HL,DE
		LD (PUNTERO_L_DECA),HL ;GUARDA PUNTERO INICIO LOOP
		CALL BGICMODBC1
		LD (PUNTERO_P_DECB),HL
		LD E,(IX+2)
		LD D,(IX+3)
		ADD HL,DE
		LD (PUNTERO_L_DECB),HL
		CALL BGICMODBC1
		LD (PUNTERO_P_DECC),HL
		LD E,(IX+4)
		LD D,(IX+5)
		ADD HL,DE
		LD (PUNTERO_L_DECC),HL
		CALL BGICMODBC1
		LD (PUNTERO_P_DECP),HL
		LD E,(IX+6)
		LD D,(IX+7)
		ADD HL,DE
		LD (PUNTERO_L_DECP),HL
	;LEE DATOS DE LAS NOTAS
	;[|][|||||] LONGITUDNOTA
	.INIT_DECODER
		LD DE,(CANAL_A)
		LD (PUNTERO_A),DE
		LD HL,(PUNTERO_P_DECA)
		CALL DECODE_CANAL ;CANAL A
		LD (PUNTERO_DECA),HL
		LD DE,(CANAL_B)
		LD (PUNTERO_B),DE
		LD HL,(PUNTERO_P_DECB)
		CALL DECODE_CANAL ;CANAL B
		LD (PUNTERO_DECB),HL
		LD DE,(CANAL_C)
		LD (PUNTERO_C),DE
		LD HL,(PUNTERO_P_DECC)
		CALL DECODE_CANAL ;CANAL C
		LD (PUNTERO_DECC),HL
		LD DE,(CANAL_P)
		LD (PUNTERO_P),DE
		LD HL,(PUNTERO_P_DECP)
		CALL DECODE_CANAL ;CANAL P
		LD (PUNTERO_DECP),HL
		RET
	;BUSCA INICIO DEL CANAL
	.BGICMODBC1 
		LD E,0x3F ;CODIGO INSTRUMENTO 0
	.BGICMODBC2 
		XOR A ;BUSCA EL BYTE 0
		LD B,0xFF ;EL MODULO DEBE TENER UNA LONGITUD MENOR DE 0xFF00 ... o_O!
		CPIR
		DEC HL
		DEC HL
		LD A,E ;ES EL INSTRUMENTO 0??
		CP (HL)
		INC HL
		INC HL
		JR Z,BGICMODBC2
		DEC HL
		DEC HL
		DEC HL
		LD A,E ;ES VOLUMEN 0??
		CP (HL)
		INC HL
		INC HL
		INC HL
		JR Z,BGICMODBC2
		RET
	;DECODIFICA NOTAS DE UN CANAL
	;IN (DE)=DIRECCION DESTINO
	;NOTA=0 FIN CANAL
	;NOTA=1 SILENCIO
	;NOTA=2 PUNTILLO
	;NOTA=3 COMANDO I
	.DECODE_CANAL
		LD A,(HL)
		AND A ;FIN DEL CANAL?
		JR Z,FIN_DEC_CANAL
		CALL GETLEN
		CP 00000001B ;ES SILENCIO?
		JR NZ,NO_SILENCIO
		OR 0x40 ; SET 6,A
		JR NO_MODIFICA
	.NO_SILENCIO 
		CP 00111110B ;ES PUNTILLO?
		JR NZ,NO_PUNTILLO
		OR A
		RRC B
		XOR A
		JR NO_MODIFICA
	.NO_PUNTILLO 
		CP 00111111B ;ES COMANDO?
		JR NZ,NO_MODIFICA
		BIT 0,B ;COMADO=INSTRUMENTO?
		JR Z,NO_INSTRUMENTO 
		LD A,11000001B ;CODIGO DE INSTRUMENTO 
		LD (DE),A
		INC HL
		INC DE
		LDI ;N DE INSTRUMENTO
		; LD A,(HL)
		; LD (DE),A
		; INC DE
		; INC HL
		LDI ;VOLUMEN RELATIVO DEL INSTRUMENTO
		; LD A,(HL)
		; LD (DE),A
		; INC DE
		; INC HL
		JR DECODE_CANAL
	.NO_INSTRUMENTO 
		BIT 2,B
		JR Z,NO_ENVOLVENTE
		LD A,11000100B ;CODIGO ENVOLVENTE
		LD (DE),A
		INC DE
		INC HL
		LDI
		; LD A,(HL)
		; LD (DE),A
		; INC DE
		; INC HL
		JR DECODE_CANAL
	.NO_ENVOLVENTE 
		BIT 1,B
		JR Z,NO_MODIFICA 
		LD A,11000010B ;CODIGO EFECTO
		LD (DE),A 
		INC HL 
		INC DE 
		LD A,(HL) 
		CALL GETLEN 
	.NO_MODIFICA 
		LD (DE),A
		INC DE
		XOR A
		DJNZ NO_MODIFICA
		OR 0x81 ; SET 7,A ; SET 0,A
		LD (DE),A
		INC DE
		INC HL
		RET ;** JR DECODE_CANAL
	.FIN_DEC_CANAL 
		OR 0x80 ; SET 7,A
		LD (DE),A
		INC DE
		RET
	.GETLEN 
		LD B,A
		AND 00111111B
		PUSH AF
		LD A,B
		AND 11000000B
		RLCA
		RLCA
		INC A
		LD B,A
		LD A,10000000B
	.DCBC0 
		RLCA
		DJNZ DCBC0
		LD B,A
		POP AF
		RET
	;PLAY __________________________________________________
	.PLAY 
		LD HL,INTERR ;PLAY BIT 1 ON?
		BIT 1,(HL)
		RET Z
	;TEMPO 
		LD HL,TTEMPO ;CONTADOR TEMPO
		INC (HL)
		LD A,(TEMPO)
		CP (HL)
		JR NZ,PAUTAS
		LD (HL),0
	;INTERPRETA 
		LD IY,PSG_REG
		LD IX,PUNTERO_A
		LD BC,PSG_REG+8
		CALL LOCALIZA_NOTA
		LD IY,PSG_REG+2
		LD IX,PUNTERO_B
		LD BC,PSG_REG+9
		CALL LOCALIZA_NOTA
		LD IY,PSG_REG+4
		LD IX,PUNTERO_C
		LD BC,PSG_REG+10
		CALL LOCALIZA_NOTA
		LD IX,PUNTERO_P ;EL CANAL DE EFECTOS ENMASCARA OTRO CANAL
		CALL LOCALIZA_EFECTO 
	;PAUTAS 
	.PAUTAS 
		LD IY,PSG_REG+0
		LD IX,PUNTERO_P_A
		LD HL,PSG_REG+8
		CALL PAUTA ;PAUTA CANAL A
		LD IY,PSG_REG+2
		LD IX,PUNTERO_P_B
		LD HL,PSG_REG+9
		CALL PAUTA ;PAUTA CANAL B
		LD IY,PSG_REG+4
		LD IX,PUNTERO_P_C
		LD HL,PSG_REG+10
		JP PAUTA ;PAUTA CANAL C 
	;LOCALIZA NOTA CANAL A
	;IN (PUNTERO_A)
	;LOCALIZA NOTA CANAL A
	;IN (PUNTERO_A)
	.LOCALIZA_NOTA 
		LD L,(IX+PUNTERO_A-PUNTERO_A) ;HL=(PUNTERO_A_C_B)
		LD H,(IX+PUNTERO_A-PUNTERO_A+1)
		LD A,(HL)
		AND 11000000B ;COMANDO?
		CP 11000000B
		JR NZ,LNJP0
	;BIT(0)=INSTRUMENTO
	.COMANDOS 
		LD A,(HL)
		BIT 0,A ;INSTRUMENTO
		JR Z,COM_EFECTO
		INC HL
		LD A,(HL) ;N DE PAUTA
		INC HL
		LD E,(HL) 
		PUSH HL ;;TEMPO ******************
		LD HL,TEMPO
		BIT 5,E
		JR Z,NO_DEC_TEMPO
		DEC (HL)
	.NO_DEC_TEMPO 
		BIT 6,E
		JR Z,NO_INC_TEMPO
		INC (HL)
	.NO_INC_TEMPO 
		RES 5,E ;SIEMPRE RESETEA LOS BITS DE TEMPO 
		RES 6,E
		POP HL
		LD (IX+VOL_INST_A-PUNTERO_A),E ;REGISTRO DEL VOLUMEN RELATIVO
		INC HL
		LD (IX+PUNTERO_A-PUNTERO_A),L
		LD (IX+PUNTERO_A-PUNTERO_A+1),H
		LD HL,TABLA_PAUTAS
		CALL EXT_WORD
		LD (IX+PUNTERO_P_A0-PUNTERO_A),E
		LD (IX+PUNTERO_P_A0-PUNTERO_A+1),D
		LD (IX+PUNTERO_P_A-PUNTERO_A),E
		LD (IX+PUNTERO_P_A-PUNTERO_A+1),D
		LD L,C
		LD H,B
		RES 4,(HL) ;APAGA EFECTO ENVOLVENTE
		XOR A
		LD (PSG_REG_SEC+13),A
		LD (PSG_REG+13),A
		;LD (ENVOLVENTE_BACK),A ;08.13 / RESETEA EL BACKUP DE LA ENVOLVENTE
		JR LOCALIZA_NOTA
	.COM_EFECTO 
		BIT 1,A ;EFECTO DE SONIDO
		JR Z,COM_ENVOLVENTE
		INC HL
		LD A,(HL)
		INC HL
		LD (IX+PUNTERO_A-PUNTERO_A),L
		LD (IX+PUNTERO_A-PUNTERO_A+1),H
		JP INICIA_SONIDO
	.COM_ENVOLVENTE 
		BIT 2,A
		RET Z ;IGNORA - ERROR 
		INC HL
		LD A,(HL) ;CARGA CODIGO DE ENVOLVENTE
		LD (ENVOLVENTE),A
		INC HL
		LD (IX+PUNTERO_A-PUNTERO_A),L
		LD (IX+PUNTERO_A-PUNTERO_A+1),H
		LD L,C
		LD H,B
		LD (HL),00010000B ;ENCIENDE EFECTO ENVOLVENTE
		JR LOCALIZA_NOTA
	.LNJP0 
		LD A,(HL)
		INC HL
		BIT 7,A
		JR Z,NO_FIN_CANAL_A ;
		BIT 0,A
		JR Z,FIN_CANAL_A
	.FIN_NOTA_A 
		LD E,(IX+CANAL_A-PUNTERO_A)
		LD D,(IX+CANAL_A-PUNTERO_A+1) ;PUNTERO BUFFER AL INICIO
		LD (IX+PUNTERO_A-PUNTERO_A),E
		LD (IX+PUNTERO_A-PUNTERO_A+1),D
		LD L,(IX+PUNTERO_DECA-PUNTERO_A) ;CARGA PUNTERO DECODER
		LD H,(IX+PUNTERO_DECA-PUNTERO_A+1)
		PUSH BC
		CALL DECODE_CANAL ;DECODIFICA CANAL
		POP BC
		LD (IX+PUNTERO_DECA-PUNTERO_A),L ;GUARDA PUNTERO DECODER
		LD (IX+PUNTERO_DECA-PUNTERO_A+1),H
		JP LOCALIZA_NOTA
	.FIN_CANAL_A 
		LD HL,INTERR ;LOOP?
		BIT 4,(HL) 
		JR NZ,FCA_CONT
		POP AF
		JP PLAYER_OFF
	.FCA_CONT 
		LD L,(IX+PUNTERO_L_DECA-PUNTERO_A) ;CARGA PUNTERO INICIAL DECODER
		LD H,(IX+PUNTERO_L_DECA-PUNTERO_A+1)
		LD (IX+PUNTERO_DECA-PUNTERO_A),L
		LD (IX+PUNTERO_DECA-PUNTERO_A+1),H
		JR FIN_NOTA_A
	.NO_FIN_CANAL_A 
		LD (IX+PUNTERO_A-PUNTERO_A),L ;(PUNTERO_A_B_C)=HL GUARDA PUNTERO
		LD (IX+PUNTERO_A-PUNTERO_A+1),H
		AND A ;NO REPRODUCE NOTA SI NOTA=0
		JR Z,FIN_RUTINA
		BIT 6,A ;SILENCIO?
		JR Z,NO_SILENCIO_A
		LD A,(BC)
		AND 00010000B
		JR NZ,SILENCIO_ENVOLVENTE
		XOR A
		LD (BC),A ;RESET VOLUMEN DEL CORRESPODIENTE CHIP
		LD (IY+0),A
		LD (IY+1),A
		RET
	.SILENCIO_ENVOLVENTE
		LD A,0xFF
		LD (PSG_REG+11),A
		LD (PSG_REG+12),A 
		XOR A
		LD (PSG_REG+13),A 
		LD (IY+0),A
		LD (IY+1),A
		RET
	.NO_SILENCIO_A 
		LD (IX+REG_NOTA_A-PUNTERO_A),A ;REGISTRO DE LA NOTA DEL CANAL 
		CALL NOTA ;REPRODUCE NOTA
		LD L,(IX+PUNTERO_P_A0-PUNTERO_A) ;HL=(PUNTERO_P_A0) RESETEA PAUTA 
		LD H,(IX+PUNTERO_P_A0-PUNTERO_A+1)
		LD (IX+PUNTERO_P_A-PUNTERO_A),L ;(PUNTERO_P_A)=HL
		LD (IX+PUNTERO_P_A-PUNTERO_A+1),H
	.FIN_RUTINA 
		RET
	;LOCALIZA EFECTO
	;IN HL=(PUNTERO_P)
	.LOCALIZA_EFECTO
		LD L,(IX+0) ;HL=(PUNTERO_P)
		LD H,(IX+1)
		LD A,(HL)
		CP 11000010B
		JR NZ,LEJP0
		INC HL
		LD A,(HL)
		INC HL
		LD (IX+00),L
		LD (IX+01),H
		JP INICIA_SONIDO
	.LEJP0 
		INC HL
		BIT 7,A
		JR Z,NO_FIN_CANAL_P ;
		BIT 0,A
		JR Z,FIN_CANAL_P
	.FIN_NOTA_P 
		LD DE,(CANAL_P)
		LD (IX+0),E
		LD (IX+1),D
		LD HL,(PUNTERO_DECP) ;CARGA PUNTERO DECODER
		PUSH BC
		CALL DECODE_CANAL ;DECODIFICA CANAL
		POP BC
		LD (PUNTERO_DECP),HL ;GUARDA PUNTERO DECODER
		JP LOCALIZA_EFECTO
	.FIN_CANAL_P 
		LD HL,(PUNTERO_L_DECP) ;CARGA PUNTERO INICIAL DECODER
		LD (PUNTERO_DECP),HL
		JR FIN_NOTA_P
	.NO_FIN_CANAL_P 
		LD (IX+0),L ;(PUNTERO_A_B_C)=HL GUARDA PUNTERO
		LD (IX+1),H
		RET
	; PAUTA DE LOS 3 CANALES
	; .IN(IX):PUNTERO DE LA PAUTA
	; (HL):REGISTRO DE VOLUMEN
	; (IY):REGISTROS DE FRECUENCIA
	; FORMATO PAUTA 
	; 7 6 5 4 3-0 3-0 
	; BYTE 1 [LOOP|OCT-1|OCT+1|ORNMT|VOL] - BYTE 2 [ | | | |PITCH/NOTA]
	.PAUTA 
		BIT 4,(HL) ;SI LA ENVOLVENTE ESTA ACTIVADA NO ACTUA PAUTA
		RET NZ
		LD A,(IY+0)
		LD B,(IY+1)
		OR B
		RET Z
		PUSH HL
	.PCAJP4 
		LD L,(IX+0)
		LD H,(IX+1) 
		LD A,(HL)
		BIT 7,A ;LOOP / EL RESTO DE BITS NO AFECTAN
		JR Z,PCAJP0
		AND 00011111B ;MXIMO LOOP PAUTA (0,32)X2!!!-> PARA ORNAMENTOS
		RLCA ;X2
		LD D,0
		LD E,A
		SBC HL,DE
		LD A,(HL)
	.PCAJP0 
		BIT 6,A ;OCTAVA -1
		JR Z,PCAJP1
		LD E,(IY+0)
		LD D,(IY+1)
		AND A
		RRC D
		RR E
		LD (IY+0),E
		LD (IY+1),D
		JR PCAJP2
	.PCAJP1 
		BIT 5,A ;OCTAVA +1
		JR Z,PCAJP2
		LD E,(IY+0)
		LD D,(IY+1)
		AND A
		RLC E
		RL D
		LD (IY+0),E
		LD (IY+1),D 
	.PCAJP2 
		LD A,(HL)
		BIT 4,A
		JR NZ,PCAJP6 ;ORNAMENTOS SELECCIONADOS
		INC HL ;______________________ FUNCION PITCH DE FRECUENCIA__________________ 
		PUSH HL
		LD E,A
		LD A,(HL) ;PITCH DE FRECUENCIA
		LD L,A
		AND A
		LD A,E
		JR Z,ORNMJP1
		LD A,(IY+0) ;SI LA FRECUENCIA ES 0 NO HAY PITCH
		ADD A,(IY+1)
		AND A
		LD A,E
		JR Z,ORNMJP1
		BIT 7,L
		JR Z,ORNNEG
		LD H,0xFF
		JR PCAJP3
	.ORNNEG 
		LD H,0
	.PCAJP3 
		LD E,(IY+0)
		LD D,(IY+1)
		ADC HL,DE
		LD (IY+0),L
		LD (IY+1),H
		JR ORNMJP1
	.PCAJP6 
		INC HL ;______________________ FUNCION ORNAMENTOS__________________ 
		PUSH HL
		PUSH AF
		LD A,(IX+REG_NOTA_A-PUNTERO_P_A) ;RECUPERA REGISTRO DE NOTA EN EL CANAL
		LD E,(HL) ;
		ADC E ;+- NOTA 
		CALL TABLA_NOTAS
		POP AF 
	.ORNMJP1 
		POP HL
		INC HL
		LD (IX+0),L
		LD (IX+1),H
	.PCAJP5 
		POP HL
		LD B,(IX+VOL_INST_A-PUNTERO_P_A) ;VOLUMEN RELATIVO
		ADD B
		JP P,PCAJP7
		LD A,1 ;NO SE EXTIGUE EL VOLUMEN
	.PCAJP7 
		AND 00001111B ;VOLUMEN FINAL MODULADO
		LD (HL),A
		RET
	;NOTA -  REPRODUCE UNA NOTA
	;IN (A)=CODIGO DE LA NOTA
	; (IY)=REGISTROS DE FRECUENCIA
	.NOTA 
		LD L,C
		LD H,B
		BIT 4,(HL)
		LD B,A
		JR NZ,EVOLVENTES
		LD A,B
	.TABLA_NOTAS 
		LD HL,DATOS_NOTAS ;BUSCA FRECUENCIA
		CALL EXT_WORD
		LD (IY+0),E
		LD (IY+1),D
		RET
	;IN (A)=CODIGO DE LA ENVOLVENTE
	; (IY)=REGISTRO DE FRECUENCIA
	.EVOLVENTES 
		LD HL,DATOS_NOTAS
		;SUB 12
		RLCA ;X2
		LD D,0
		LD E,A
		ADD HL,DE
		LD E,(HL)
		INC HL
		LD D,(HL)
		PUSH DE
		LD A,(ENVOLVENTE) ;FRECUENCIA DEL CANAL ON/OFF
		RRA
		JR NC,FRECUENCIA_OFF
		LD (IY+0),E
		LD (IY+1),D
		JR CONT_ENV
	.FRECUENCIA_OFF 
		LD DE,0x0000
		LD (IY+0),E
		LD (IY+1),D
		;CALCULO DEL RATIO (OCTAVA ARRIBA)
	.CONT_ENV 
		POP DE
		PUSH AF
		PUSH BC
		AND 00000011B
		LD B,A
		;INC B
		;AND A ;1/2
		RR D
		RR E
	.CRTBC0 
		;AND A ;1/4 - 1/8 - 1/16
		RR D
		RR E
		DJNZ CRTBC0
		LD A,E
		LD (PSG_REG+11),A
		LD A,D
		AND 00000011B
		LD (PSG_REG+12),A
		POP BC
		POP AF ;SELECCION FORMA DE ENVOLVENTE
		RRA
		AND 00000110B ;0x08,0x0A,0x0C,0x0E
		ADD 8 
		LD (PSG_REG+13),A
		LD (ENVOLVENTE_BACK),A
		RET
	;EXTRAE UN WORD DE UNA TABLA
	;.IN(HL)=DIRECCION TABLA
	; (A)= POSICION
	;OUT(DE)=WORD
	.EXT_WORD
		LD D,0
		RLCA
		LD E,A
		ADD HL,DE
		LD E,(HL)
		INC HL
		LD D,(HL)
		RET
	;TABLA DE DATOS DEL SELECTOR DEL CANAL DE EFECTOS DE RITMO
	.TABLA_DATOS_CANAL_SFX
		defw SELECT_CANAL_A,SELECT_CANAL_B,SELECT_CANAL_C
	;BYTE 0:SFX_L 
	;BYTE 1:SFX_H 
	;BYTE 2:SFX_V 
	;BYTE 3:SFX_MIX
	.SELECT_CANAL_A 
		defw PSG_REG_SEC+0, PSG_REG_SEC+1, PSG_REG_SEC+8
		defb 10110001B
	.SELECT_CANAL_B 
		defw PSG_REG_SEC+2, PSG_REG_SEC+3, PSG_REG_SEC+9
		defb 10101010B
	.SELECT_CANAL_C 
		defw PSG_REG_SEC+4, PSG_REG_SEC+5, PSG_REG_SEC+10
		defb 10011100B
	;____________________________________
	.INTERR 
		defb 0	;INTERRUPTORES 1=ON 0=OFF
				;BIT 0=CARGA CANCION ON/OFF
				;BIT 1=PLAYER ON/OFF
				;BIT 2=EFECTOS ON/OFF
				;BIT 3=SFX ON/OFF
				;BIT 4=LOOP
	;MUSICA **** EL ORDEN DE LAS VARIABLES ES FIJO ******
	.SONG 			defb 0	;DBN DE CANCION
	.TEMPO 			defb 0	;DB TEMPO
	.TTEMPO 		defb 0	;DB CONTADOR TEMPO
	.PUNTERO_A 		defw 0	;DW PUNTERO DEL CANAL A
	.PUNTERO_B 		defw 0	;DW PUNTERO DEL CANAL B
	.PUNTERO_C 		defw 0	;DW PUNTERO DEL CANAL C
	.CANAL_A 		defw 0	;DW DIRECION DE INICIO DE LA MUSICA A
	.CANAL_B 		defw 0	;DW DIRECION DE INICIO DE LA MUSICA B
	.CANAL_C 		defw 0	;DW DIRECION DE INICIO DE LA MUSICA C
	.PUNTERO_P_A 	defw 0	;DW PUNTERO PAUTA CANAL A
	.PUNTERO_P_B 	defw 0	;DW PUNTERO PAUTA CANAL B
	.PUNTERO_P_C 	defw 0	;DW PUNTERO PAUTA CANAL C
	.PUNTERO_P_A0 	defw 0	;DW INI PUNTERO PAUTA CANAL A
	.PUNTERO_P_B0 	defw 0	;DW INI PUNTERO PAUTA CANAL B
	.PUNTERO_P_C0 	defw 0	;DW INI PUNTERO PAUTA CANAL C
	.PUNTERO_P_DECA defw 0	;DW PUNTERO DE INICIO DEL DECODER CANAL A
	.PUNTERO_P_DECB defw 0	;DW PUNTERO DE INICIO DEL DECODER CANAL B
	.PUNTERO_P_DECC defw 0	;DW PUNTERO DE INICIO DEL DECODER CANAL C
	.PUNTERO_DECA 	defw 0	;DW PUNTERO DECODER CANAL A
	.PUNTERO_DECB 	defw 0	;DW PUNTERO DECODER CANAL B
	.PUNTERO_DECC 	defw 0	;DW PUNTERO DECODER CANAL C 
	.PUNTERO_EFECTO defw 0 	;DW PUNTERO DEL SONIDO QUE SE REPRODUCE
	.REG_NOTA_A 	defb 0	;DB REGISTRO DE LA NOTA EN EL CANAL A
	.VOL_INST_A 	defb 0	;DB VOLUMEN RELATIVO DEL INSTRUMENTO DEL CANAL A
	.REG_NOTA_B 	defb 0	;DB REGISTRO DE LA NOTA EN EL CANAL B
	.VOL_INST_B 	defb 0	;DB VOLUMEN RELATIVO DEL INSTRUMENTO DEL CANAL B ;VACIO
	.REG_NOTA_C 	defb 0	;DB REGISTRO DE LA NOTA EN EL CANAL C
	.VOL_INST_C 	defb 0	;DB VOLUMEN RELATIVO DEL INSTRUMENTO DEL CANAL C
	.PUNTERO_L_DECA defw 0	;DW PUNTERO DE INICIO DEL LOOP DEL DECODER CANAL A
	.PUNTERO_L_DECB defw 0	;DW PUNTERO DE INICIO DEL LOOP DEL DECODER CANAL B
	.PUNTERO_L_DECC defw 0	;DW PUNTERO DE INICIO DEL LOOP DEL DECODER CANAL C
	;CANAL DE EFECTOS DE RITMO - ENMASCARA OTRO CANAL
	.PUNTERO_P 		defw 0	;DW PUNTERO DEL CANAL EFECTOS
	.CANAL_P 		defw 0	;DW DIRECION DE INICIO DE LOS EFECTOS
	.PUNTERO_P_DECP defw 0	;DW PUNTERO DE INICIO DEL DECODER CANAL P
	.PUNTERO_DECP 	defw 0	;DW PUNTERO DECODER CANAL P
	.PUNTERO_L_DECP defw 0	;DW PUNTERO DE INICIO DEL LOOP DEL DECODER CANAL P
	;SELECT_CANAL_P defb INTERR+0x36 ;DB SELECCION DE CANAL DE EFECTOS DE RITMO
	.SFX_L 			defw 0	;DW DIRECCION BUFFER EFECTOS DE RITMO REGISTRO BAJO
	.SFX_H 			defw 0	;DW DIRECCION BUFFER EFECTOS DE RITMO REGISTRO ALTO
	.SFX_V 			defw 0	;DW DIRECCION BUFFER EFECTOS DE RITMO REGISTRO VOLUMEN
	.SFX_MIX 		defw 0	;DW DIRECCION BUFFER EFECTOS DE RITMO REGISTRO MIXER
	;EFECTOS DE SONIDO
	.N_SONIDO 		defb 0	;DB : NUMERO DE SONIDO
	.PUNTERO_SONIDO defw 0	;DW : PUNTERO DEL SONIDO QUE SE REPRODUCE
	.EFECTO_REGS 	defw 0
	.SONIDO_REGS 	defw SELECT_CANAL_B ; na_th_an :: Percussion channel is fixed to 1
	;DB (13) BUFFERs DE REGISTROS DEL PSG
	.PSG_REG 		defs 16
	.PSG_REG_SEC 	defs 16
	.ENVOLVENTE 	
		defb 0  ;DB : FORMA DE LA ENVOLVENTE
				;BIT 0 : FRECUENCIA CANAL ON/OFF
				;BIT 1-2 : RATIO 
				;BIT 3-3 : FORMA 
	.ENVOLVENTE_BACK defb 0 ;.defb BACKUP DE LA FORMA DE LA ENVOLENTE
	.DATOS_NOTAS
		defw 	0x0000, 0x0000
		defw 	964,910,859,811,766,722,682,644,608,573
		defw 	541,511,482,455,430,405,383,361,341,322
		defw 	304,287,271,255,241,228,215,203,191,180
		defw 	170,161,152,143,135,128,121,114,107,101
		defw 	96,90,85,81,76,72,68,64,60,57
		defw 	54,51,48,45,43,40,38,36,34,32
	.TABLA_SONG
		defw 	 0x8800 
	.TABLA_EFECTOS
		defw 	EFECTO0, EFECTO1, EFECTO2, EFECTO3, EFECTO4, EFECTO5, EFECTO6, EFECTO7
		defw	EFECTO8, EFECTO9, EFECTO10, EFECTO11, EFECTO12, EFECTO13, EFECTO14
	C_LINE	105,"mk1.c::wyz_stop_sound::0::113"
	C_LINE	0,"my/title_screen.h::wyz_stop_sound::0::113"
	C_LINE	6,"my/title_screen.h::wyz_stop_sound::0::113"

; Function title_screen flags 0x00000200 __smallc 
; void title_screen()
	C_LINE	6,"my/title_screen.h::title_screen::0::113"
._title_screen
	call	_blackout
	ld	hl,_s_title
	push	hl
	ld	hl,36864	;const
	push	hl
	call	_unpack
	pop	bc
	pop	bc
	ld	hl,1	;const
	call	cpc_ShowTileMap
	ld	hl,0	;const
	call	_wyz_play_music
.i_187
	ld	hl,10	;const
	call	cpc_TestKey
	ld	a,h
	or	l
	jp	z,i_189	;
	ld	hl,_def_keys
	ld	(__gp_gen),hl
	xor	a
	ld	(_is_joystick),a
	jp	i_188	;EOS
.i_189
	ld	hl,11	;const
	call	cpc_TestKey
	ld	a,h
	or	l
	jp	z,i_190	;
	ld	hl,_def_keys_joy
	ld	(__gp_gen),hl
	ld	a,1
	ld	(_is_joystick),a
	jp	i_188	;EOS
	defc	i_190 = i_187
.i_188
	call	_wyz_stop_sound
		._copy_keys_to_extern
			ld  hl, (__gp_gen)
			ld  de, cpc_KeysData + 12
			ld  bc, 24
			ldir
	ret


	C_LINE	108,"mk1.c::title_screen::0::117"
	C_LINE	0,"mainloop.h::title_screen::0::117"
	C_LINE	7,"mainloop.h::title_screen::0::117"

; Function main flags 0x00000000 __stdc 
; void main()
	C_LINE	7,"mainloop.h::main::0::118"
._main
	call	_wyz_init
		di
		ld  hl, 0xC000
		xor a
		ld  (hl), a
		ld  de, 0xC001
		ld  bc, 0x3DFF
		ldir
		ld  a, 195
		ld  (0x38), a
		ld  hl, _isr
		ld  (0x39), hl
		jp  isr_done
	._isr
		push af 
		ld  a, (isr_c1)
		inc a
		cp  6
		jr  c, _skip_player
		ld  a, (isr_c2)
		inc a
		ld  (isr_c2), a
					ld  a, (_isr_player_on)
			or  a
			jr  z, _skip_player
			push hl
			push de
			push bc
			push ix
			push iy
			call WYZ_PLAYER_ISR
			pop iy
			pop ix
			pop bc
			pop de 
			pop hl
			xor a
	._skip_player
			ld  (isr_c1), a	
		pop af
		ei
		ret
	.isr_c1 
		defb 0
	.isr_c2
		defb 0
	.isr_done
		ld 	a, 0x54
		ld  bc, 0x7F11
		out (c), c
		out (c), a
	ld	hl,_trpixlutc
	push	hl
	ld	hl,65024	;const
	push	hl
	call	_unpack
	pop	bc
	pop	bc
	call	_blackout
	ld	hl,_my_inks
	push	hl
	call	_pal_set
	pop	bc
	ld	hl,1	;const
	call	cpc_SetMode
		; Horizontal chars (32), CRTC REG #1
		ld    b, 0xbc
		ld    c, 1			; REG = 1
		out   (c), c
		inc   b
		ld    c, 32			; VALUE = 32
		out   (c), c
		; Horizontal pos (42), CRTC REG #2
		ld    b, 0xbc
		ld    c, 2			; REG = 2
		out   (c), c
		inc   b
		ld    c, 42			; VALUE = 42
		out   (c), c
		; Vertical chars (24), CRTC REG #6
		ld    b, 0xbc
		ld    c, 6			; REG = 6
		out   (c), c
		inc   b
		ld    c, 24			; VALUE = 24
		out   (c), c
	ld	hl,_sp_sw+6
	push	hl
	ld	hl,_sm_cox
	ld	l,(hl)
	ld	a,l
	rla
	sbc	a
	ld	h,a
	pop	de
	ld	a,l
	ld	(de),a
	ld	hl,_sp_sw+7
	push	hl
	ld	hl,_sm_coy
	ld	l,(hl)
	ld	a,l
	rla
	sbc	a
	ld	h,a
	pop	de
	ld	a,l
	ld	(de),a
	ld	de,_sp_sw+12
	ld	hl,(_sm_invfunc)
	call	l_pint
	ld	de,_sp_sw+14
	ld	hl,(_sm_updfunc)
	call	l_pint
	ld	hl,_sp_sw
	push	hl
	inc	hl
	inc	hl
	ex	de,hl
	ld	hl,(_sm_sprptr)
	call	l_pint
	call	l_pint_pop
	ld	a,1
	ld	(_gpit),a
	jp	i_193	;EOS
.i_191
	ld	hl,_gpit
	ld	a,(hl)
	inc	(hl)
.i_193
	ld	a,(_gpit)
	sub	4
	jp	nc,i_192	;
	ld	hl,_sp_sw
	push	hl
	ld	hl,(_gpit)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	bc,12
	add	hl,bc
	ex	de,hl
	ld	hl,cpc_PutSpTileMap4x8
	call	l_pint
	ld	hl,_sp_sw
	push	hl
	ld	hl,(_gpit)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	bc,14
	add	hl,bc
	ex	de,hl
	ld	hl,cpc_PutTrSp4x8TileMap2b
	call	l_pint
	jp	i_191	;EOS
.i_192
	xor	a
	ld	(_gpit),a
	jp	i_196	;EOS
.i_194
	ld	hl,_gpit
	inc	(hl)
	ld	l,(hl)
	ld	h,0
.i_196
	ld	a,(_gpit)
	sub	4
	jp	nc,i_195	;
	ld	de,_spr_on
	ld	hl,(_gpit)
	ld	h,0
	add	hl,de
	ld	(hl),0
	ld	hl,_sp_sw
	push	hl
	ld	hl,(_gpit)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	bc,10
	add	hl,bc
	ld	(hl),2
	ld	hl,_sp_sw
	push	hl
	ld	hl,(_gpit)
	ld	h,0
	add	hl,hl
	add	hl,hl
	add	hl,hl
	add	hl,hl
	pop	de
	add	hl,de
	ld	bc,11
	add	hl,bc
	ld	(hl),24
	jp	i_194	;EOS
.i_195
	C_LINE	0,"my/ci/after_load.h::main::1::121"
	C_LINE	176,"mainloop.h::main::1::121"
		ei
.i_197
	ld	hl,0	;const
	ld	a,l
	ld	(_level),a
	call	_title_screen
	C_LINE	0,"my/ci/before_game.h::main::2::122"
	C_LINE	197,"mainloop.h::main::2::122"
	C_LINE	0,"mainloop/game_loop.h::main::3::123"
		; Makes debugging easier
		._game_loop_init
	ld	hl,1	;const
	ld	a,l
	ld	(_playing),a
	call	_player_init
	call	_hotspots_init
	call	_locks_init
	call	_enems_init
	ld	a,20
	ld	(_n_pant),a
	xor	a
	ld	(_maincounter),a
	ld	hl,1	;const
	call	_wyz_play_music
	C_LINE	0,"./my/ci/entering_game.h::main::3::123"
	C_LINE	51,"mainloop/game_loop.h::main::3::123"
	ld	hl,0	;const
	ld	a,l
	ld	(_half_life),a
	ld	a,l
	ld	(_success),a
	ld	(_p_killme),a
	ld	hl,255	;const
	ld	a,l
	ld	(_killed_old),a
	ld	a,l
	ld	(_life_old),a
	ld	(_keys_old),a
	ld	a,l
	ld	(_objs_old),a
	ld	a,255
	ld	(_o_pant),a
.i_199
	ld	hl,(_playing)
	ld	a,l
	and	a
	jp	z,i_200	;
			; Makes debugging easier
			._game_loop_do
	ld	a,1
	ld	(_p_kill_amt),a
	ld	de,(_o_pant)
	ld	d,0
	ld	hl,(_n_pant)
	ld	h,d
	call	l_ne
	jp	nc,i_201	;
	C_LINE	0,"./my/ci/before_entering_screen.h::main::5::125"
	C_LINE	99,"mainloop/game_loop.h::main::5::125"
	call	_draw_scr
	ld	hl,(_n_pant)
	ld	h,0
	ld	a,l
	ld	(_o_pant),a
	C_LINE	0,"./mainloop/hud.h::main::4::125"
.i_201
	ld	de,(_p_life)
	ld	d,0
	ld	hl,(_life_old)
	ld	h,d
	call	l_ne
	jp	nc,i_202	;
	ld	a,4
	ld	(__x),a
	ld	a,1
	ld	(__y),a
	ld	hl,(_p_life)
	ld	h,0
	ld	a,l
	ld	(__t),a
	call	_print_number2
	ld	a,((_p_life))
	ld	(_life_old),a
.i_202
	ld	de,(_p_keys)
	ld	d,0
	ld	hl,(_keys_old)
	ld	h,d
	call	l_ne
	jp	nc,i_203	;
	ld	a,10
	ld	(__x),a
	ld	a,1
	ld	(__y),a
	ld	hl,(_p_keys)
	ld	h,0
	ld	a,l
	ld	(__t),a
	call	_print_number2
	ld	a,((_p_keys))
	ld	(_keys_old),a
.i_203
	ld	de,(_p_killed)
	ld	d,0
	ld	hl,(_killed_old)
	ld	h,d
	call	l_ne
	jp	nc,i_204	;
	ld	a,16
	ld	(__x),a
	ld	a,1
	ld	(__y),a
	ld	hl,(_p_killed)
	ld	h,0
	ld	a,l
	ld	(__t),a
	call	_print_number2
	ld	hl,(_p_killed)
	ld	h,0
	ld	a,l
	ld	(_killed_old),a
	C_LINE	163,"mainloop/game_loop.h::main::4::128"
.i_204
	ld	hl,_maincounter
	ld	a,(hl)
	inc	(hl)
	ld	hl,(_half_life)
	ld	h,0
	call	l_lneg
	ld	h,0
	ld	a,l
	ld	(_half_life),a
	call	_player_move
	call	_enems_move
	ld	a,(_p_killme)
	and	a
	jp	z,i_205	;
	ld	a,(_p_life)
	and	a
	jp	z,i_206	;
	ld	hl,(_p_killme)
	ld	h,0
	push	hl
	call	_player_kill
	pop	bc
	C_LINE	0,"./my/ci/on_player_killed.h::main::6::130"
	C_LINE	182,"mainloop/game_loop.h::main::6::130"
	jp	i_207	;EOS
.i_206
	ld	hl,0	;const
	ld	a,l
	ld	(_playing),a
.i_207
.i_205
	ld	de,(_o_pant)
	ld	d,0
	ld	hl,(_n_pant)
	ld	h,d
	call	l_eq
	jp	nc,i_208	;
	ld	hl,1	;const
	push	hl
	call	_cpc_UpdateNow
	pop	bc
.i_208
	ld	a,(_p_estado)
	cp	2
	jp	nz,i_209	;
	ld	hl,_p_ct_estado
	ld	a,(hl)
	dec	(hl)
	ld	a,(_p_ct_estado)
	and	a
	jp	nz,i_210	;
	ld	hl,0	;const
	ld	a,l
	ld	(_p_estado),a
.i_210
.i_209
	call	_hotspots_do
	C_LINE	0,"./mainloop/flick_screen.h::main::4::132"
	ld	a,(_gpx)
	and	a
	jp	nz,i_212	;
	ld	hl,(_p_vx)
	ld	a,h
	rla
	jp	nc,i_212	;
	defc	i_212 = i_211
.i_213_i_212
	ld	hl,_n_pant
	dec	(hl)
	ld	l,(hl)
	ld	h,0
	ld	a,224
	ld	(_gpx),a
	ld	hl,14336	;const
	ld	(_p_x),hl
.i_211
	ld	a,(_gpx)
	cp	224
	jp	nz,i_215	;
	ld	hl,(_p_vx)
	ld	de,0
	ex	de,hl
	call	l_gt
	jp	nc,i_215	;
	defc	i_215 = i_214
.i_216_i_215
	ld	hl,_n_pant
	inc	(hl)
	ld	l,(hl)
	ld	h,0
	ld	hl,0	;const
	ld	(_p_x),hl
	ld	h,0
	ld	a,l
	ld	(_gpx),a
.i_214
	ld	a,(_gpy)
	and	a
	jp	nz,i_218	;
	ld	hl,(_p_vy)
	ld	a,h
	rla
	jp	nc,i_218	;
	ld	hl,(_n_pant)
	ld	h,0
	ld	a,l
	sub	4
	ccf
	jp	nc,i_218	;
	defc	i_218 = i_217
.i_219_i_218
	ld	hl,_n_pant
	ld	a,-4
	add	(hl)
	ld	(hl),a
	ld	a,144
	ld	(_gpy),a
	ld	hl,9216	;const
	ld	(_p_y),hl
.i_217
	ld	hl,(_gpy)
	ld	h,0
	ld	a,l
	sub	144
	ccf
	jp	nc,i_221	;
	ld	hl,(_p_vy)
	ld	de,0
	ex	de,hl
	call	l_gt
	jp	nc,i_221	;
	defc	i_221 = i_220
.i_222_i_221
	ld	a,(_n_pant)
	sub	20
	jp	nc,i_223	;
	ld	hl,_n_pant
	ld	a,4
	add	(hl)
	ld	(hl),a
	ld	hl,0	;const
	ld	(_p_y),hl
	ld	a,l
	ld	(_gpy),a
	ld	hl,(_p_vy)
	ld	de,256
	ex	de,hl
	call	l_gt
	jp	nc,i_224	;
	ld	hl,256	;const
	ld	(_p_vy),hl
.i_224
.i_223
	C_LINE	281,"mainloop/game_loop.h::main::4::137"
.i_220
	C_LINE	0,"./my/ci/extra_routines.h::main::4::138"
	C_LINE	318,"mainloop/game_loop.h::main::4::138"
	jp	i_199	;EOS
.i_200
	call	_wyz_stop_sound
	C_LINE	0,"./my/ci/after_game_loop.h::main::3::138"
	C_LINE	323,"mainloop/game_loop.h::main::3::138"
	C_LINE	237,"mainloop.h::main::3::138"
	ld	hl,(_success)
	ld	a,l
	and	a
	jp	z,i_226	;
	call	_game_ending
	jp	i_227	;EOS
.i_226
	call	_game_over
	C_LINE	0,"my/ci/after_game_over.h::main::4::140"
	C_LINE	275,"mainloop.h::main::4::140"
.i_227
	call	_clear_sprites
	C_LINE	0,"my/ci/after_game.h::main::2::140"
	ld	hl,_my_inks
	push	hl
	call	_pal_set
	pop	bc
	C_LINE	282,"mainloop.h::main::2::140"
	jp	i_197	;EOS
.i_198
	ret


	C_LINE	109,"mk1.c::main::0::140"
	SECTION	rodata_compiler
.i_1
	defm	" GAME OVER! "
	defb	0


; --- Start of Static Variables ---

	SECTION	bss_compiler
._pad0	defs	1
._enoffs	defs	1
._asm_number	defs	1
._asm_int	defs	2
._asm_int_2	defs	2
._seed	defs	2
._half_life	defs	1
._p_x	defs	2
._p_y	defs	2
._p_vx	defs	2
._p_vy	defs	2
._p_saltando	defs	1
._p_cont_salto	defs	1
._p_frame	defs	1
._p_subframe	defs	1
._p_facing	defs	1
._p_estado	defs	1
._p_ct_estado	defs	1
._p_gotten	defs	1
._pregotten	defs	1
._p_life	defs	1
._p_objs	defs	1
._p_keys	defs	1
._p_fuel	defs	1
._p_killed	defs	1
._p_disparando	defs	1
._p_facing_v	defs	1
._p_facing_h	defs	1
._p_ammo	defs	1
._p_killme	defs	1
._p_kill_amt	defs	1
._p_tx	defs	1
._p_ty	defs	1
._ptgmx	defs	2
._ptgmy	defs	2
._enit	defs	1
._enspit	defs	1
.__en_x	defs	1
.__en_y	defs	1
.__en_x1	defs	1
.__en_y1	defs	1
.__en_x2	defs	1
.__en_y2	defs	1
.__en_mx	defs	1
.__en_my	defs	1
.__en_t	defs	1
.__en_life	defs	1
.__baddies_pointer	defs	2
._hotspot_x	defs	1
._hotspot_y	defs	1
._hotspot_destroy	defs	1
._orig_tile	defs	1
._flags	defs	32
._o_pant	defs	1
._n_pant	defs	1
._is_rendering	defs	1
._level	defs	1
._slevel	defs	1
._maincounter	defs	1
._gpx	defs	1
._gpox	defs	1
._gpy	defs	1
._gpd	defs	1
._gpc	defs	1
._gpt	defs	1
._gpxx	defs	1
._gpyy	defs	1
._gpcx	defs	1
._gpcy	defs	1
._possee	defs	1
._hit_v	defs	1
._hit_h	defs	1
._hit	defs	1
._wall_h	defs	1
._wall_v	defs	1
._gpen_x	defs	1
._gpen_y	defs	1
._gpen_cx	defs	1
._gpen_cy	defs	1
._gpaux	defs	1
._tocado	defs	1
._active	defs	1
._gpit	defs	1
._gpjt	defs	1
._enoffsmasi	defs	1
._map_pointer	defs	2
._rdx	defs	1
._rdy	defs	1
._rda	defs	1
._rdb	defs	1
._rdc	defs	1
._rdd	defs	1
._rdn	defs	1
._rdt	defs	1
._itj	defs	2
._objs_old	defs	1
._keys_old	defs	1
._life_old	defs	1
._killed_old	defs	1
._gen_pt	defs	2
._playing	defs	1
._success	defs	1
.__x	defs	1
.__y	defs	1
.__n	defs	1
.__t	defs	1
._cx1	defs	1
._cy1	defs	1
._cx2	defs	1
._cy2	defs	1
._at1	defs	1
._at2	defs	1
._x0	defs	1
._y0	defs	1
._x1	defs	1
._y1	defs	1
._ptx1	defs	1
._pty1	defs	1
._ptx2	defs	1
._pty2	defs	1
.__gp_gen	defs	2
._xx	defs	1
._yy	defs	1
._c1	defs	1
._c2	defs	1
._c3	defs	1
._c4	defs	1
._t1	defs	1
._t2	defs	1
._t3	defs	1
._t4	defs	1
._nocast	defs	1
.__ta	defs	1
._a1	defs	2
._a2	defs	2
._a3	defs	2
._gen_pt_alt	defs	2
._t_alt	defs	1
._isr_player_on	defs	1
._t_seconds	defs	2
._is_joystick	defs	1
._ram_address	defs	2
._ram_destination	defs	2
	SECTION	code_compiler


; --- Start of Scope Defns ---

	GLOBAL	cpc_PutSp
	GLOBAL	cpc_ShowTileMap
	GLOBAL	cpc_ShowScrTileMap
	GLOBAL	cpc_ShowScrTileMap2
	GLOBAL	cpc_UpdScrAddresses
	GLOBAL	cpc_TouchTileXY
	GLOBAL	cpc_TouchTileSpXY
	GLOBAL	cpc_ResetTouchedTiles
	GLOBAL	cpc_UpdScr
	GLOBAL	cpc_ShowTouchedTiles2
	GLOBAL	cpc_ShowTouchedTiles
	GLOBAL	cpc_PutSpTileMap
	GLOBAL	cpc_PutSpTileMap4x8
	GLOBAL	cpc_PutSpTileMap4x8Px
	GLOBAL	cpc_PutSpTileMap8x8PxM1
	GLOBAL	cpc_PutSpTileMap8x16
	GLOBAL	cpc_PutSpTileMap8x16Px
	GLOBAL	cpc_PutSpTileMap16x16PxM1
	GLOBAL	cpc_PutSpTileMap8x24
	GLOBAL	cpc_PutSpTileMap8x24Px
	GLOBAL	cpc_PutSpTileMapO
	GLOBAL	cpc_PutMaskSpTileMap2b
	GLOBAL	cpc_PutTrSpTileMap2b
	GLOBAL	cpc_PutORSpTileMap2b
	GLOBAL	cpc_PutSpTileMap2b
	GLOBAL	cpc_PutCpSpTileMap2b
	GLOBAL	cpc_PutMaskSpriteTileMap2b
	GLOBAL	cpc_PutTrSpriteTileMap2b
	GLOBAL	cpc_PutTrSp4x8TileMap2b
	GLOBAL	cpc_PutTrSp8x8TileMap2bPxM1
	GLOBAL	cpc_PutTrSp4x8TileMap2bPx
	GLOBAL	cpc_PutTrSp8x16TileMap2b
	GLOBAL	cpc_PutTrSp8x16TileMap2bPx
	GLOBAL	cpc_PutTrSp16x16TileMap2bPxM1
	GLOBAL	cpc_PutTrSp8x24TileMap2b
	GLOBAL	cpc_PutTrSp8x24TileMap2bPx
	GLOBAL	cpc_SuperbufferAddress
	GLOBAL	cpc_UpdateTileMap
	GLOBAL	cpc_SpUpdX
	GLOBAL	cpc_SpUpdY
	GLOBAL	cpc_CollSp
	GLOBAL	cpc_SetTile
	GLOBAL	cpc_SetTouchTileXY
	GLOBAL	cpc_ReadTile
	GLOBAL	cpc_PutSpXOR
	GLOBAL	cpc_PutSpriteXOR
	GLOBAL	cpc_PutMaskSprite
	GLOBAL	cpc_PutSprite
	GLOBAL	cpc_PutMaskSp
	GLOBAL	cpc_PutSpTr
	GLOBAL	cpc_PutMaskSp2x8
	GLOBAL	cpc_PutMaskSp4x16
	GLOBAL	cpc_PutTile2x8
	GLOBAL	cpc_PutTile4x16
	GLOBAL	cpc_SpRLM1
	GLOBAL	cpc_SpRRM1
	GLOBAL	cpc_SetInk
	GLOBAL	cpc_SetColour
	GLOBAL	cpc_SetBorder
	GLOBAL	cpc_SetMode
	GLOBAL	cpc_SetModo
	GLOBAL	cpc_TestKey
	GLOBAL	cpc_AnyKeyPressed
	GLOBAL	cpc_RedefineKey
	GLOBAL	cpc_AssignKey
	GLOBAL	cpc_DeleteKeys
	GLOBAL	cpc_PrintStr
	GLOBAL	cpc_GetScrAddress
	GLOBAL	cpc_Uncrunch
	GLOBAL	cpc_UnExo
	GLOBAL	cpc_GetSp
	GLOBAL	cpc_PrintGphStr
	GLOBAL	cpc_PrintGphStr2X
	GLOBAL	cpc_PrintGphStrXY
	GLOBAL	cpc_PrintGphStrXY2X
	GLOBAL	cpc_PrintGphStrM1
	GLOBAL	cpc_PrintGphStrXYM1
	GLOBAL	cpc_PrintGphStrM12X
	GLOBAL	cpc_PrintGphStrXYM12X
	GLOBAL	cpc_PrintGphStrStd
	GLOBAL	cpc_PrintGphStrStdXY
	GLOBAL	cpc_SetInkGphStr
	GLOBAL	cpc_SetInkGphStrM1
	GLOBAL	cpc_InitTileMap
	GLOBAL	cpc_ScrollLeft0
	GLOBAL	cpc_ScrollRight0
	GLOBAL	cpc_GetTiles
	GLOBAL	cpc_PutTiles
	GLOBAL	cpc_TouchTiles
	GLOBAL	cpc_RRI
	GLOBAL	cpc_RLI
	GLOBAL	cpc_DisableFirmware
	GLOBAL	cpc_EnableFirmware
	GLOBAL	cpc_ClrScr
	GLOBAL	cpc_ScanKeyboard
	GLOBAL	cpc_TestKeyF
	GLOBAL	_def_keys
	GLOBAL	_behs
	GLOBAL	_break_wall
	GLOBAL	_bullets_init
	GLOBAL	_bullets_update
	GLOBAL	_bullets_fire
	GLOBAL	_bullets_move
	GLOBAL	_enems_pursuers_init
	GLOBAL	_enems_init
	GLOBAL	_enems_draw_current
	GLOBAL	_enems_load
	GLOBAL	_enems_kill
	GLOBAL	_enems_move
	GLOBAL	_collide
	GLOBAL	_cm_two_points
	GLOBAL	_rand
	GLOBAL	_abs
	GLOBAL	_step
	GLOBAL	_cortina
	GLOBAL	_hotspots_init
	GLOBAL	_hotspots_do
	GLOBAL	_player_init
	GLOBAL	_player_calc_bounding_box
	GLOBAL	_player_move
	GLOBAL	_player_deplete
	GLOBAL	_player_kill
	GLOBAL	_simple_coco_init
	GLOBAL	_simple_coco_shoot
	GLOBAL	_simple_coco_update
	GLOBAL	_SetRAMBank
	GLOBAL	_get_resource
	GLOBAL	_unpack
	GLOBAL	_beep_fx
	GLOBAL	_prepare_level
	GLOBAL	_game_ending
	GLOBAL	_game_over
	GLOBAL	_time_over
	GLOBAL	_pause_screen
	GLOBAL	_addsign
	GLOBAL	_espera_activa
	GLOBAL	_locks_init
	GLOBAL	_player_hidden
	GLOBAL	_run_fire_script
	GLOBAL	_process_tile
	GLOBAL	_draw_scr_background
	GLOBAL	_draw_scr
	GLOBAL	_select_joyfunc
	GLOBAL	_mons_col_sc_x
	GLOBAL	_mons_col_sc_y
	GLOBAL	_distance
	GLOBAL	_limit
	GLOBAL	_blackout
	GLOBAL	_attr
	GLOBAL	_qtile
	GLOBAL	_draw_coloured_tile
	GLOBAL	_invalidate_tile
	GLOBAL	_invalidate_viewport
	GLOBAL	_draw_invalidate_coloured_tile_gamearea
	GLOBAL	_draw_coloured_tile_gamearea
	GLOBAL	_draw_decorations
	GLOBAL	_update_tile
	GLOBAL	_print_number2
	GLOBAL	_draw_objs
	GLOBAL	_print_str
	GLOBAL	_blackout_area
	GLOBAL	_clear_sprites
	GLOBAL	_cpc_UpdateNow
	GLOBAL	_mem_save
	GLOBAL	_mem_load
	GLOBAL	_tape_save
	GLOBAL	_tape_load
	GLOBAL	_sg_submenu
	GLOBAL	_tilanims_add
	GLOBAL	_tilanims_do
	GLOBAL	_tilanims_reset
	GLOBAL	_wyz_init
	GLOBAL	_wyz_play_music
	GLOBAL	_wyz_play_sound
	GLOBAL	_wyz_stop_sound
	GLOBAL	_pad0
	defc	_safe_byte	= 51199
	defc	_sp_sw	= 58880
	defc	_spr_next	= 58944
	defc	_spr_on	= 58952
	defc	_spr_x	= 58956
	defc	_spr_y	= 58960
	GLOBAL	_enoffs
	GLOBAL	_asm_number
	GLOBAL	_asm_int
	GLOBAL	_asm_int_2
	GLOBAL	_seed
	GLOBAL	_half_life
	GLOBAL	_p_x
	GLOBAL	_p_y
	GLOBAL	_p_vx
	GLOBAL	_p_vy
	GLOBAL	_p_saltando
	GLOBAL	_p_cont_salto
	GLOBAL	_p_frame
	GLOBAL	_p_subframe
	GLOBAL	_p_facing
	GLOBAL	_p_estado
	GLOBAL	_p_ct_estado
	GLOBAL	_p_gotten
	GLOBAL	_pregotten
	GLOBAL	_p_life
	GLOBAL	_p_objs
	GLOBAL	_p_keys
	GLOBAL	_p_fuel
	GLOBAL	_p_killed
	GLOBAL	_p_disparando
	GLOBAL	_p_facing_v
	GLOBAL	_p_facing_h
	GLOBAL	_p_ammo
	GLOBAL	_p_killme
	GLOBAL	_p_kill_amt
	GLOBAL	_p_tx
	GLOBAL	_p_ty
	GLOBAL	_ptgmx
	GLOBAL	_ptgmy
	GLOBAL	_spacer
	GLOBAL	_enit
	GLOBAL	_enspit
	defc	_en_an_base_frame	= 54784
	defc	_en_an_frame	= 54787
	defc	_en_an_count	= 54790
	defc	_en_an_sprid	= 54793
	defc	_en_an_state	= 54796
	defc	_en_an_x	= 54799
	defc	_en_an_y	= 54805
	defc	_en_an_vx	= 54811
	defc	_en_an_vy	= 54817
	defc	_en_an_alive	= 54823
	defc	_en_an_dead_row	= 54826
	defc	_en_an_rawv	= 54829
	defc	_cocos_x	= 54832
	defc	_cocos_y	= 54835
	defc	_cocos_mx	= 54838
	defc	_cocos_my	= 54841
	defc	_en_an_next_frame	= 54844
	GLOBAL	__en_x
	GLOBAL	__en_y
	GLOBAL	__en_x1
	GLOBAL	__en_y1
	GLOBAL	__en_x2
	GLOBAL	__en_y2
	GLOBAL	__en_mx
	GLOBAL	__en_my
	GLOBAL	__en_t
	GLOBAL	__en_life
	GLOBAL	__baddies_pointer
	defc	_map_attr	= 50688
	defc	_map_buff	= 50838
	GLOBAL	_hotspot_x
	GLOBAL	_hotspot_y
	GLOBAL	_hotspot_destroy
	GLOBAL	_orig_tile
	GLOBAL	_flags
	GLOBAL	_o_pant
	GLOBAL	_n_pant
	GLOBAL	_is_rendering
	GLOBAL	_level
	GLOBAL	_slevel
	GLOBAL	_warp_to_level
	GLOBAL	_maincounter
	GLOBAL	_gpx
	GLOBAL	_gpox
	GLOBAL	_gpy
	GLOBAL	_gpd
	GLOBAL	_gpc
	GLOBAL	_gpt
	GLOBAL	_gpxx
	GLOBAL	_gpyy
	GLOBAL	_gpcx
	GLOBAL	_gpcy
	GLOBAL	_possee
	GLOBAL	_hit_v
	GLOBAL	_hit_h
	GLOBAL	_hit
	GLOBAL	_wall_h
	GLOBAL	_wall_v
	GLOBAL	_gpen_x
	GLOBAL	_gpen_y
	GLOBAL	_gpen_cx
	GLOBAL	_gpen_cy
	GLOBAL	_gpaux
	GLOBAL	_tocado
	GLOBAL	_active
	GLOBAL	_gpit
	GLOBAL	_gpjt
	GLOBAL	_enoffsmasi
	GLOBAL	_map_pointer
	GLOBAL	_rdx
	GLOBAL	_rdy
	GLOBAL	_rda
	GLOBAL	_rdb
	GLOBAL	_rdc
	GLOBAL	_rdd
	GLOBAL	_rdn
	GLOBAL	_rdt
	GLOBAL	_itj
	GLOBAL	_objs_old
	GLOBAL	_keys_old
	GLOBAL	_life_old
	GLOBAL	_killed_old
	GLOBAL	_gen_pt
	GLOBAL	_playing
	GLOBAL	_success
	GLOBAL	__x
	GLOBAL	__y
	GLOBAL	__n
	GLOBAL	__t
	GLOBAL	_cx1
	GLOBAL	_cy1
	GLOBAL	_cx2
	GLOBAL	_cy2
	GLOBAL	_at1
	GLOBAL	_at2
	GLOBAL	_x0
	GLOBAL	_y0
	GLOBAL	_x1
	GLOBAL	_y1
	GLOBAL	_ptx1
	GLOBAL	_pty1
	GLOBAL	_ptx2
	GLOBAL	_pty2
	GLOBAL	__gp_gen
	GLOBAL	_xx
	GLOBAL	_yy
	GLOBAL	_c1
	GLOBAL	_c2
	GLOBAL	_c3
	GLOBAL	_c4
	GLOBAL	_t1
	GLOBAL	_t2
	GLOBAL	_t3
	GLOBAL	_t4
	GLOBAL	_nocast
	GLOBAL	__ta
	GLOBAL	_a1
	GLOBAL	_a2
	GLOBAL	_a3
	GLOBAL	_gen_pt_alt
	GLOBAL	_t_alt
	GLOBAL	_def_keys_joy
	GLOBAL	_isr_player_on
	GLOBAL	_t_seconds
	GLOBAL	_is_joystick
	GLOBAL	_ram_address
	GLOBAL	_ram_destination
	GLOBAL	_s_title
	GLOBAL	_s_marco
	GLOBAL	_s_ending
	GLOBAL	_my_inks
	GLOBAL	_mapa
	GLOBAL	_cerrojos
	GLOBAL	_tileset
	GLOBAL	_malotes
	GLOBAL	_hotspots
	GLOBAL	_sprites
	GLOBAL	_sprite_17_a
	GLOBAL	_sprite_18_a
	GLOBAL	_sm_cox
	GLOBAL	_sm_coy
	GLOBAL	_sm_invfunc
	GLOBAL	_sm_updfunc
	GLOBAL	_sm_sprptr
	GLOBAL	_trpixlutc
	GLOBAL	_attr_mk2
	GLOBAL	__tile_address
	GLOBAL	_utaux
	GLOBAL	_pal_set
	GLOBAL	_wyz_songs
	GLOBAL	_title_screen
	GLOBAL	_main


; --- End of Scope Defns ---


; --- End of Compilation ---
